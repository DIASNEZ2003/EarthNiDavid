var VS=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var jx=VS((Gx,yl)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Kf={exports:{}},Oa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function GS(){if(O_)return Oa;O_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:h,ref:o!==void 0?o:null,props:c}}return Oa.Fragment=e,Oa.jsx=i,Oa.jsxs=i,Oa}var x_;function YS(){return x_||(x_=1,Kf.exports=GS()),Kf.exports}var F=YS(),Wf={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function FS(){if(M_)return ce;M_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function S(y){return y===null||typeof y!="object"?null:(y=b&&y[b]||y["@@iterator"],typeof y=="function"?y:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,j={};function H(y,E,D){this.props=y,this.context=E,this.refs=j,this.updater=D||x}H.prototype.isReactComponent={},H.prototype.setState=function(y,E){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,E,"setState")},H.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function W(){}W.prototype=H.prototype;function Y(y,E,D){this.props=y,this.context=E,this.refs=j,this.updater=D||x}var $=Y.prototype=new W;$.constructor=Y,U($,H.prototype),$.isPureReactComponent=!0;var Ce=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},We=Object.prototype.hasOwnProperty;function je(y,E,D,L,B,K){return D=K.ref,{$$typeof:s,type:y,key:E,ref:D!==void 0?D:null,props:K}}function Ye(y,E){return je(y.type,E,void 0,void 0,void 0,y.props)}function Le(y){return typeof y=="object"&&y!==null&&y.$$typeof===s}function mt(y){var E={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(D){return E[D]})}var oe=/\/+/g;function ae(y,E){return typeof y=="object"&&y!==null&&y.key!=null?mt(""+y.key):E.toString(36)}function Ve(){}function ve(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(Ve,Ve):(y.status="pending",y.then(function(E){y.status==="pending"&&(y.status="fulfilled",y.value=E)},function(E){y.status==="pending"&&(y.status="rejected",y.reason=E)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function we(y,E,D,L,B){var K=typeof y;(K==="undefined"||K==="boolean")&&(y=null);var V=!1;if(y===null)V=!0;else switch(K){case"bigint":case"string":case"number":V=!0;break;case"object":switch(y.$$typeof){case s:case e:V=!0;break;case v:return V=y._init,we(V(y._payload),E,D,L,B)}}if(V)return B=B(y),V=L===""?"."+ae(y,0):L,Ce(B)?(D="",V!=null&&(D=V.replace(oe,"$&/")+"/"),we(B,E,D,"",function(ue){return ue})):B!=null&&(Le(B)&&(B=Ye(B,D+(B.key==null||y&&y.key===B.key?"":(""+B.key).replace(oe,"$&/")+"/")+V)),E.push(B)),1;V=0;var Z=L===""?".":L+":";if(Ce(y))for(var Q=0;Q<y.length;Q++)L=y[Q],K=Z+ae(L,Q),V+=we(L,E,D,K,B);else if(Q=S(y),typeof Q=="function")for(y=Q.call(y),Q=0;!(L=y.next()).done;)L=L.value,K=Z+ae(L,Q++),V+=we(L,E,D,K,B);else if(K==="object"){if(typeof y.then=="function")return we(ve(y),E,D,L,B);throw E=String(y),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return V}function M(y,E,D){if(y==null)return y;var L=[],B=0;return we(y,L,"","",function(K){return E.call(D,K,B++)}),L}function G(y){if(y._status===-1){var E=y._result;E=E(),E.then(function(D){(y._status===0||y._status===-1)&&(y._status=1,y._result=D)},function(D){(y._status===0||y._status===-1)&&(y._status=2,y._result=D)}),y._status===-1&&(y._status=0,y._result=E)}if(y._status===1)return y._result.default;throw y._result}var ee=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(E))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)};function be(){}return ce.Children={map:M,forEach:function(y,E,D){M(y,function(){E.apply(this,arguments)},D)},count:function(y){var E=0;return M(y,function(){E++}),E},toArray:function(y){return M(y,function(E){return E})||[]},only:function(y){if(!Le(y))throw Error("React.Children.only expected to receive a single React element child.");return y}},ce.Component=H,ce.Fragment=i,ce.Profiler=o,ce.PureComponent=Y,ce.StrictMode=a,ce.Suspense=p,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,ce.__COMPILER_RUNTIME={__proto__:null,c:function(y){return re.H.useMemoCache(y)}},ce.cache=function(y){return function(){return y.apply(null,arguments)}},ce.cloneElement=function(y,E,D){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var L=U({},y.props),B=y.key,K=void 0;if(E!=null)for(V in E.ref!==void 0&&(K=void 0),E.key!==void 0&&(B=""+E.key),E)!We.call(E,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&E.ref===void 0||(L[V]=E[V]);var V=arguments.length-2;if(V===1)L.children=D;else if(1<V){for(var Z=Array(V),Q=0;Q<V;Q++)Z[Q]=arguments[Q+2];L.children=Z}return je(y.type,B,void 0,void 0,K,L)},ce.createContext=function(y){return y={$$typeof:h,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:c,_context:y},y},ce.createElement=function(y,E,D){var L,B={},K=null;if(E!=null)for(L in E.key!==void 0&&(K=""+E.key),E)We.call(E,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(B[L]=E[L]);var V=arguments.length-2;if(V===1)B.children=D;else if(1<V){for(var Z=Array(V),Q=0;Q<V;Q++)Z[Q]=arguments[Q+2];B.children=Z}if(y&&y.defaultProps)for(L in V=y.defaultProps,V)B[L]===void 0&&(B[L]=V[L]);return je(y,K,void 0,void 0,null,B)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(y){return{$$typeof:d,render:y}},ce.isValidElement=Le,ce.lazy=function(y){return{$$typeof:v,_payload:{_status:-1,_result:y},_init:G}},ce.memo=function(y,E){return{$$typeof:m,type:y,compare:E===void 0?null:E}},ce.startTransition=function(y){var E=re.T,D={};re.T=D;try{var L=y(),B=re.S;B!==null&&B(D,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(be,ee)}catch(K){ee(K)}finally{re.T=E}},ce.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},ce.use=function(y){return re.H.use(y)},ce.useActionState=function(y,E,D){return re.H.useActionState(y,E,D)},ce.useCallback=function(y,E){return re.H.useCallback(y,E)},ce.useContext=function(y){return re.H.useContext(y)},ce.useDebugValue=function(){},ce.useDeferredValue=function(y,E){return re.H.useDeferredValue(y,E)},ce.useEffect=function(y,E,D){var L=re.H;if(typeof D=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return L.useEffect(y,E)},ce.useId=function(){return re.H.useId()},ce.useImperativeHandle=function(y,E,D){return re.H.useImperativeHandle(y,E,D)},ce.useInsertionEffect=function(y,E){return re.H.useInsertionEffect(y,E)},ce.useLayoutEffect=function(y,E){return re.H.useLayoutEffect(y,E)},ce.useMemo=function(y,E){return re.H.useMemo(y,E)},ce.useOptimistic=function(y,E){return re.H.useOptimistic(y,E)},ce.useReducer=function(y,E,D){return re.H.useReducer(y,E,D)},ce.useRef=function(y){return re.H.useRef(y)},ce.useState=function(y){return re.H.useState(y)},ce.useSyncExternalStore=function(y,E,D){return re.H.useSyncExternalStore(y,E,D)},ce.useTransition=function(){return re.H.useTransition()},ce.version="19.1.1",ce}var I_;function Bh(){return I_||(I_=1,Wf.exports=FS()),Wf.exports}var I=Bh(),Qf={exports:{}},xa={},Xf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function KS(){return D_||(D_=1,(function(s){function e(M,G){var ee=M.length;M.push(G);e:for(;0<ee;){var be=ee-1>>>1,y=M[be];if(0<o(y,G))M[be]=G,M[ee]=y,ee=be;else break e}}function i(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var G=M[0],ee=M.pop();if(ee!==G){M[0]=ee;e:for(var be=0,y=M.length,E=y>>>1;be<E;){var D=2*(be+1)-1,L=M[D],B=D+1,K=M[B];if(0>o(L,ee))B<y&&0>o(K,L)?(M[be]=K,M[B]=ee,be=B):(M[be]=L,M[D]=ee,be=D);else if(B<y&&0>o(K,ee))M[be]=K,M[B]=ee,be=B;else break e}}return G}function o(M,G){var ee=M.sortIndex-G.sortIndex;return ee!==0?ee:M.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();s.unstable_now=function(){return h.now()-d}}var p=[],m=[],v=1,b=null,S=3,x=!1,U=!1,j=!1,H=!1,W=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Ce(M){for(var G=i(m);G!==null;){if(G.callback===null)a(m);else if(G.startTime<=M)a(m),G.sortIndex=G.expirationTime,e(p,G);else break;G=i(m)}}function re(M){if(j=!1,Ce(M),!U)if(i(p)!==null)U=!0,We||(We=!0,ae());else{var G=i(m);G!==null&&we(re,G.startTime-M)}}var We=!1,je=-1,Ye=5,Le=-1;function mt(){return H?!0:!(s.unstable_now()-Le<Ye)}function oe(){if(H=!1,We){var M=s.unstable_now();Le=M;var G=!0;try{e:{U=!1,j&&(j=!1,Y(je),je=-1),x=!0;var ee=S;try{t:{for(Ce(M),b=i(p);b!==null&&!(b.expirationTime>M&&mt());){var be=b.callback;if(typeof be=="function"){b.callback=null,S=b.priorityLevel;var y=be(b.expirationTime<=M);if(M=s.unstable_now(),typeof y=="function"){b.callback=y,Ce(M),G=!0;break t}b===i(p)&&a(p),Ce(M)}else a(p);b=i(p)}if(b!==null)G=!0;else{var E=i(m);E!==null&&we(re,E.startTime-M),G=!1}}break e}finally{b=null,S=ee,x=!1}G=void 0}}finally{G?ae():We=!1}}}var ae;if(typeof $=="function")ae=function(){$(oe)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,ve=Ve.port2;Ve.port1.onmessage=oe,ae=function(){ve.postMessage(null)}}else ae=function(){W(oe,0)};function we(M,G){je=W(function(){M(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ye=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(M){switch(S){case 1:case 2:case 3:var G=3;break;default:G=S}var ee=S;S=G;try{return M()}finally{S=ee}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ee=S;S=M;try{return G()}finally{S=ee}},s.unstable_scheduleCallback=function(M,G,ee){var be=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?be+ee:be):ee=be,M){case 1:var y=-1;break;case 2:y=250;break;case 5:y=1073741823;break;case 4:y=1e4;break;default:y=5e3}return y=ee+y,M={id:v++,callback:G,priorityLevel:M,startTime:ee,expirationTime:y,sortIndex:-1},ee>be?(M.sortIndex=ee,e(m,M),i(p)===null&&M===i(m)&&(j?(Y(je),je=-1):j=!0,we(re,ee-be))):(M.sortIndex=y,e(p,M),U||x||(U=!0,We||(We=!0,ae()))),M},s.unstable_shouldYield=mt,s.unstable_wrapCallback=function(M){var G=S;return function(){var ee=S;S=G;try{return M.apply(this,arguments)}finally{S=ee}}}})(Zf)),Zf}var k_;function WS(){return k_||(k_=1,Xf.exports=KS()),Xf.exports}var $f={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function QS(){if(L_)return wt;L_=1;var s=Bh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:m,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,wt.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,v)},wt.flushSync=function(p){var m=h.T,v=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=m,a.p=v,a.d.f()}},wt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},wt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},wt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,b=d(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:x}):v==="script"&&a.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},wt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},wt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=d(v,m.crossOrigin);a.d.L(p,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},wt.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},wt.requestFormReset=function(p){a.d.r(p)},wt.unstable_batchedUpdates=function(p,m){return p(m)},wt.useFormState=function(p,m,v){return h.H.useFormState(p,m,v)},wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},wt.version="19.1.1",wt}var U_;function XS(){if(U_)return $f.exports;U_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$f.exports=QS(),$f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function ZS(){if(P_)return xa;P_=1;var s=WS(),e=Bh(),i=XS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(c(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return d(u),t;if(f===l)return d(u),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=u,l=f;else{for(var g=!1,_=u.child;_;){if(_===r){g=!0,r=u,l=f;break}if(_===l){g=!0,l=u,r=f;break}_=_.sibling}if(!g){for(_=f.child;_;){if(_===r){g=!0,r=f,l=u;break}if(_===l){g=!0,l=f,r=u;break}_=_.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function m(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=m(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),Le=Symbol.for("react.activity"),mt=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ve?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case H:return"Profiler";case j:return"StrictMode";case re:return"Suspense";case We:return"SuspenseList";case Le:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case $:return(t.displayName||"Context")+".Provider";case Y:return(t._context.displayName||"Context")+".Consumer";case Ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case je:return n=t.displayName||null,n!==null?n:ve(t.type)||"Memo";case Ye:n=t._payload,t=t._init;try{return ve(t(n))}catch{}}return null}var we=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},be=[],y=-1;function E(t){return{current:t}}function D(t){0>y||(t.current=be[y],be[y]=null,y--)}function L(t,n){y++,be[y]=t.current,t.current=n}var B=E(null),K=E(null),V=E(null),Z=E(null);function Q(t,n){switch(L(V,n),L(K,t),L(B,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?i_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=i_(n),t=s_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}D(B),L(B,t)}function ue(){D(B),D(K),D(V)}function Pe(t){t.memoizedState!==null&&L(Z,t);var n=B.current,r=s_(n,t.type);n!==r&&(L(K,t),L(B,r))}function Ae(t){K.current===t&&(D(B),D(K)),Z.current===t&&(D(Z),Ca._currentValue=ee)}var ze=Object.prototype.hasOwnProperty,et=s.unstable_scheduleCallback,pe=s.unstable_cancelCallback,bt=s.unstable_shouldYield,Pt=s.unstable_requestPaint,Qe=s.unstable_now,rn=s.unstable_getCurrentPriorityLevel,mn=s.unstable_ImmediatePriority,zt=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,Iu=s.unstable_LowPriority,vl=s.unstable_IdlePriority,El=s.log,Du=s.unstable_setDisableYieldValue,ei=null,Rt=null;function gn(t){if(typeof El=="function"&&Du(t),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(ei,t)}catch{}}var St=Math.clz32?Math.clz32:ku,bl=Math.log,Ir=Math.LN2;function ku(t){return t>>>=0,t===0?32:31-(bl(t)/Ir|0)|0}var bs=256,Sl=4194304;function Bi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tl(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?u=Bi(l):(g&=_,g!==0?u=Bi(g):r||(r=_&~t,r!==0&&(u=Bi(r))))):(_=l&~f,_!==0?u=Bi(_):g!==0?u=Bi(g):r||(r=l&~t,r!==0&&(u=Bi(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function Dr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function x0(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bd(){var t=bs;return bs<<=1,(bs&4194048)===0&&(bs=256),t}function qd(){var t=Sl;return Sl<<=1,(Sl&62914560)===0&&(Sl=4194304),t}function Lu(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function kr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function M0(t,n,r,l,u,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,T=t.expirationTimes,A=t.hiddenUpdates;for(r=g&~r;0<r;){var k=31-St(r),z=1<<k;_[k]=0,T[k]=-1;var N=A[k];if(N!==null)for(A[k]=null,k=0;k<N.length;k++){var O=N[k];O!==null&&(O.lane&=-536870913)}r&=~z}l!==0&&jd(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function jd(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-St(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Vd(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-St(r),u=1<<l;u&n|t[l]&n&&(t[l]|=n),r&=~u}}function Uu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gd(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function I0(t,n){var r=G.p;try{return G.p=t,n()}finally{G.p=r}}var ti=Math.random().toString(36).slice(2),Tt="__reactFiber$"+ti,xt="__reactProps$"+ti,Ss="__reactContainer$"+ti,zu="__reactEvents$"+ti,D0="__reactListeners$"+ti,k0="__reactHandles$"+ti,Yd="__reactResources$"+ti,Lr="__reactMarker$"+ti;function Hu(t){delete t[Tt],delete t[xt],delete t[zu],delete t[D0],delete t[k0]}function Ts(t){var n=t[Tt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ss]||r[Tt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=o_(t);t!==null;){if(r=t[Tt])return r;t=o_(t)}return n}t=r,r=t.parentNode}return null}function Cs(t){if(t=t[Tt]||t[Ss]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ur(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ws(t){var n=t[Yd];return n||(n=t[Yd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ot(t){t[Lr]=!0}var Fd=new Set,Kd={};function qi(t,n){Rs(t,n),Rs(t+"Capture",n)}function Rs(t,n){for(Kd[t]=n,t=0;t<n.length;t++)Fd.add(n[t])}var L0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wd={},Qd={};function U0(t){return ze.call(Qd,t)?!0:ze.call(Wd,t)?!1:L0.test(t)?Qd[t]=!0:(Wd[t]=!0,!1)}function Cl(t,n,r){if(U0(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function wl(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function An(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Bu,Xd;function As(t){if(Bu===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Bu=n&&n[1]||"",Xd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bu+t+Xd}var qu=!1;function ju(t,n){if(!t||qu)return"";qu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(O){var N=O}Reflect.construct(t,[],z)}else{try{z.call()}catch(O){N=O}t.call(z.prototype)}}else{try{throw Error()}catch(O){N=O}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(O){if(O&&N&&typeof O.stack=="string")return[O.stack,N.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],_=f[1];if(g&&_){var T=g.split(`
`),A=_.split(`
`);for(u=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;if(l===T.length||u===A.length)for(l=T.length-1,u=A.length-1;1<=l&&0<=u&&T[l]!==A[u];)u--;for(;1<=l&&0<=u;l--,u--)if(T[l]!==A[u]){if(l!==1||u!==1)do if(l--,u--,0>u||T[l]!==A[u]){var k=`
`+T[l].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=l&&0<=u);break}}}finally{qu=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?As(r):""}function P0(t){switch(t.tag){case 26:case 27:case 5:return As(t.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 15:return ju(t.type,!1);case 11:return ju(t.type.render,!1);case 1:return ju(t.type,!0);case 31:return As("Activity");default:return""}}function Zd(t){try{var n="";do n+=P0(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $d(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function z0(t){var n=$d(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Rl(t){t._valueTracker||(t._valueTracker=z0(t))}function Jd(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=$d(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var H0=/[\n"\\]/g;function Kt(t){return t.replace(H0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vu(t,n,r,l,u,f,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Gu(t,g,Ft(n)):r!=null?Gu(t,g,Ft(r)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Ft(_):t.removeAttribute("name")}function ep(t,n,r,l,u,f,g,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Gu(t,n,r){n==="number"&&Al(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ns(t,n,r,l){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function tp(t,n,r){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ft(r):""}function np(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(we(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ft(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Os(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var B0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ip(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||B0.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function sp(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&r[u]!==l&&ip(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&ip(t,f,n[f])}function Yu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(t){return j0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fu=null;function Ku(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xs=null,Ms=null;function rp(t){var n=Cs(t);if(n&&(t=n.stateNode)){var r=t[xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Vu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Kt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var u=l[xt]||null;if(!u)throw Error(a(90));Vu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Jd(l)}break e;case"textarea":tp(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ns(t,!!r.multiple,n,!1)}}}var Wu=!1;function ap(t,n,r){if(Wu)return t(n,r);Wu=!0;try{var l=t(n);return l}finally{if(Wu=!1,(xs!==null||Ms!==null)&&(po(),xs&&(n=xs,t=Ms,Ms=xs=null,rp(n),t)))for(n=0;n<t.length;n++)rp(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[xt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qu=!1;if(Nn)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Qu=!1}var ni=null,Xu=null,Ol=null;function lp(){if(Ol)return Ol;var t,n=Xu,r=n.length,l,u="value"in ni?ni.value:ni.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===u[f-l];l++);return Ol=u.slice(t,1<l?1-l:void 0)}function xl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function op(){return!1}function Mt(t){function n(r,l,u,f,g){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ml:op,this.isPropagationStopped=op,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=Mt(ji),Hr=v({},ji,{view:0,detail:0}),V0=Mt(Hr),Zu,$u,Br,Dl=v({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(Zu=t.screenX-Br.screenX,$u=t.screenY-Br.screenY):$u=Zu=0,Br=t),Zu)},movementY:function(t){return"movementY"in t?t.movementY:$u}}),up=Mt(Dl),G0=v({},Dl,{dataTransfer:0}),Y0=Mt(G0),F0=v({},Hr,{relatedTarget:0}),Ju=Mt(F0),K0=v({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=Mt(K0),Q0=v({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),X0=Mt(Q0),Z0=v({},ji,{data:0}),cp=Mt(Z0),$0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tb(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=eb[t])?!!n[t]:!1}function ec(){return tb}var nb=v({},Hr,{key:function(t){if(t.key){var n=$0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(t){return t.type==="keypress"?xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ib=Mt(nb),sb=v({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fp=Mt(sb),rb=v({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),ab=Mt(rb),lb=v({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),ob=Mt(lb),ub=v({},Dl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cb=Mt(ub),fb=v({},ji,{newState:0,oldState:0}),hb=Mt(fb),db=[9,13,27,32],tc=Nn&&"CompositionEvent"in window,qr=null;Nn&&"documentMode"in document&&(qr=document.documentMode);var pb=Nn&&"TextEvent"in window&&!qr,hp=Nn&&(!tc||qr&&8<qr&&11>=qr),dp=" ",pp=!1;function mp(t,n){switch(t){case"keyup":return db.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function mb(t,n){switch(t){case"compositionend":return gp(n);case"keypress":return n.which!==32?null:(pp=!0,dp);case"textInput":return t=n.data,t===dp&&pp?null:t;default:return null}}function gb(t,n){if(Is)return t==="compositionend"||!tc&&mp(t,n)?(t=lp(),Ol=Xu=ni=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hp&&n.locale!=="ko"?null:n.data;default:return null}}var _b={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!_b[t.type]:n==="textarea"}function yp(t,n,r,l){xs?Ms?Ms.push(l):Ms=[l]:xs=l,n=Eo(n,"onChange"),0<n.length&&(r=new Il("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var jr=null,Vr=null;function yb(t){$g(t,0)}function kl(t){var n=Ur(t);if(Jd(n))return t}function vp(t,n){if(t==="change")return n}var Ep=!1;if(Nn){var nc;if(Nn){var ic="oninput"in document;if(!ic){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),ic=typeof bp.oninput=="function"}nc=ic}else nc=!1;Ep=nc&&(!document.documentMode||9<document.documentMode)}function Sp(){jr&&(jr.detachEvent("onpropertychange",Tp),Vr=jr=null)}function Tp(t){if(t.propertyName==="value"&&kl(Vr)){var n=[];yp(n,Vr,t,Ku(t)),ap(yb,n)}}function vb(t,n,r){t==="focusin"?(Sp(),jr=n,Vr=r,jr.attachEvent("onpropertychange",Tp)):t==="focusout"&&Sp()}function Eb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kl(Vr)}function bb(t,n){if(t==="click")return kl(n)}function Sb(t,n){if(t==="input"||t==="change")return kl(n)}function Tb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ht=typeof Object.is=="function"?Object.is:Tb;function Gr(t,n){if(Ht(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!ze.call(n,u)||!Ht(t[u],n[u]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wp(t,n){var r=Cp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cp(r)}}function Rp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ap(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Al(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Al(t.document)}return n}function sc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Cb=Nn&&"documentMode"in document&&11>=document.documentMode,Ds=null,rc=null,Yr=null,ac=!1;function Np(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ac||Ds==null||Ds!==Al(l)||(l=Ds,"selectionStart"in l&&sc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yr&&Gr(Yr,l)||(Yr=l,l=Eo(rc,"onSelect"),0<l.length&&(n=new Il("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ds)))}function Vi(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ks={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},lc={},Op={};Nn&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Gi(t){if(lc[t])return lc[t];if(!ks[t])return t;var n=ks[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Op)return lc[t]=n[r];return t}var xp=Gi("animationend"),Mp=Gi("animationiteration"),Ip=Gi("animationstart"),wb=Gi("transitionrun"),Rb=Gi("transitionstart"),Ab=Gi("transitioncancel"),Dp=Gi("transitionend"),kp=new Map,oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oc.push("scrollEnd");function an(t,n){kp.set(t,n),qi(n,[t])}var Lp=new WeakMap;function Wt(t,n){if(typeof t=="object"&&t!==null){var r=Lp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Zd(n)},Lp.set(t,n),n)}return{value:t,source:n,stack:Zd(n)}}var Qt=[],Ls=0,uc=0;function Ll(){for(var t=Ls,n=uc=Ls=0;n<t;){var r=Qt[n];Qt[n++]=null;var l=Qt[n];Qt[n++]=null;var u=Qt[n];Qt[n++]=null;var f=Qt[n];if(Qt[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Up(r,u,f)}}function Ul(t,n,r,l){Qt[Ls++]=t,Qt[Ls++]=n,Qt[Ls++]=r,Qt[Ls++]=l,uc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function cc(t,n,r,l){return Ul(t,n,r,l),Pl(t)}function Us(t,n){return Ul(t,null,null,n),Pl(t)}function Up(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-St(r),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=r|536870912),f):null}function Pl(t){if(50<ga)throw ga=0,_f=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ps={};function Nb(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,n,r,l){return new Nb(t,n,r,l)}function fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function On(t,n){var r=t.alternate;return r===null?(r=Bt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Pp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zl(t,n,r,l,u,f){var g=0;if(l=t,typeof t=="function")fc(t)&&(g=1);else if(typeof t=="string")g=xS(t,r,B.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Le:return t=Bt(31,r,n,u),t.elementType=Le,t.lanes=f,t;case U:return Yi(r.children,u,f,n);case j:g=8,u|=24;break;case H:return t=Bt(12,r,n,u|2),t.elementType=H,t.lanes=f,t;case re:return t=Bt(13,r,n,u),t.elementType=re,t.lanes=f,t;case We:return t=Bt(19,r,n,u),t.elementType=We,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case $:g=10;break e;case Y:g=9;break e;case Ce:g=11;break e;case je:g=14;break e;case Ye:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Bt(g,r,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function Yi(t,n,r,l){return t=Bt(7,t,l,n),t.lanes=r,t}function hc(t,n,r){return t=Bt(6,t,null,n),t.lanes=r,t}function dc(t,n,r){return n=Bt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zs=[],Hs=0,Hl=null,Bl=0,Xt=[],Zt=0,Fi=null,xn=1,Mn="";function Ki(t,n){zs[Hs++]=Bl,zs[Hs++]=Hl,Hl=t,Bl=n}function zp(t,n,r){Xt[Zt++]=xn,Xt[Zt++]=Mn,Xt[Zt++]=Fi,Fi=t;var l=xn;t=Mn;var u=32-St(l)-1;l&=~(1<<u),r+=1;var f=32-St(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,xn=1<<32-St(n)+u|r<<u|l,Mn=f+t}else xn=1<<f|r<<u|l,Mn=t}function pc(t){t.return!==null&&(Ki(t,1),zp(t,1,0))}function mc(t){for(;t===Hl;)Hl=zs[--Hs],zs[Hs]=null,Bl=zs[--Hs],zs[Hs]=null;for(;t===Fi;)Fi=Xt[--Zt],Xt[Zt]=null,Mn=Xt[--Zt],Xt[Zt]=null,xn=Xt[--Zt],Xt[Zt]=null}var At=null,Xe=null,Re=!1,Wi=null,_n=!1,gc=Error(a(519));function Qi(t){var n=Error(a(418,""));throw Wr(Wt(n,t)),gc}function Hp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Tt]=t,n[xt]=l,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(r=0;r<ya.length;r++)ge(ya[r],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":ge("invalid",n),ep(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Rl(n);break;case"select":ge("invalid",n);break;case"textarea":ge("invalid",n),np(n,l.value,l.defaultValue,l.children),Rl(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||n_(n.textContent,r)?(l.popover!=null&&(ge("beforetoggle",n),ge("toggle",n)),l.onScroll!=null&&ge("scroll",n),l.onScrollEnd!=null&&ge("scrollend",n),l.onClick!=null&&(n.onclick=bo),n=!0):n=!1,n||Qi(t)}function Bp(t){for(At=t.return;At;)switch(At.tag){case 5:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:At=At.return}}function Fr(t){if(t!==At)return!1;if(!Re)return Bp(t),Re=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Df(t.type,t.memoizedProps)),r=!r),r&&Xe&&Qi(t),Bp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Xe=on(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Xe=null}}else n===27?(n=Xe,yi(t.type)?(t=Pf,Pf=null,Xe=t):Xe=n):Xe=At?on(t.stateNode.nextSibling):null;return!0}function Kr(){Xe=At=null,Re=!1}function qp(){var t=Wi;return t!==null&&(kt===null?kt=t:kt.push.apply(kt,t),Wi=null),t}function Wr(t){Wi===null?Wi=[t]:Wi.push(t)}var _c=E(null),Xi=null,In=null;function ii(t,n,r){L(_c,n._currentValue),n._currentValue=r}function Dn(t){t._currentValue=_c.current,D(_c)}function yc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function vc(t,n,r,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var T=0;T<n.length;T++)if(_.context===n[T]){f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),yc(f.return,r,t),l||(g=null);break e}f=_.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),yc(g,r,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Qr(t,n,r,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var _=u.type;Ht(u.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(u===Z.current){if(g=u.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Ca):t=[Ca])}u=u.return}t!==null&&vc(n,t,r,l),n.flags|=262144}function ql(t){for(t=t.firstContext;t!==null;){if(!Ht(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zi(t){Xi=t,In=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ct(t){return jp(Xi,t)}function jl(t,n){return Xi===null&&Zi(t),jp(t,n)}function jp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},In===null){if(t===null)throw Error(a(308));In=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else In=In.next=n;return r}var Ob=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},xb=s.unstable_scheduleCallback,Mb=s.unstable_NormalPriority,rt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ec(){return{controller:new Ob,data:new Map,refCount:0}}function Xr(t){t.refCount--,t.refCount===0&&xb(Mb,function(){t.controller.abort()})}var Zr=null,bc=0,Bs=0,qs=null;function Ib(t,n){if(Zr===null){var r=Zr=[];bc=0,Bs=Cf(),qs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return bc++,n.then(Vp,Vp),n}function Vp(){if(--bc===0&&Zr!==null){qs!==null&&(qs.status="fulfilled");var t=Zr;Zr=null,Bs=0,qs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Db(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),l}var Gp=M.S;M.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ib(t,n),Gp!==null&&Gp(t,n)};var $i=E(null);function Sc(){var t=$i.current;return t!==null?t:He.pooledCache}function Vl(t,n){n===null?L($i,$i.current):L($i,n.pool)}function Yp(){var t=Sc();return t===null?null:{parent:rt._currentValue,pool:t}}var $r=Error(a(460)),Fp=Error(a(474)),Gl=Error(a(542)),Tc={then:function(){}};function Kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yl(){}function Wp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Yl,Yl),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xp(t),t;default:if(typeof n.status=="string")n.then(Yl,Yl);else{if(t=He,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xp(t),t}throw Jr=n,$r}}var Jr=null;function Qp(){if(Jr===null)throw Error(a(459));var t=Jr;return Jr=null,t}function Xp(t){if(t===$r||t===Gl)throw Error(a(483))}var si=!1;function Cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ri(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ai(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ne&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=Pl(t),Up(t,null,r),n}return Ul(t,l,n,r),Pl(t)}function ea(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vd(t,r)}}function Rc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ac=!1;function ta(){if(Ac){var t=qs;if(t!==null)throw t}}function na(t,n,r,l){Ac=!1;var u=t.updateQueue;si=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var T=_,A=T.next;T.next=null,g===null?f=A:g.next=A,g=T;var k=t.alternate;k!==null&&(k=k.updateQueue,_=k.lastBaseUpdate,_!==g&&(_===null?k.firstBaseUpdate=A:_.next=A,k.lastBaseUpdate=T))}if(f!==null){var z=u.baseState;g=0,k=A=T=null,_=f;do{var N=_.lane&-536870913,O=N!==_.lane;if(O?(Ee&N)===N:(l&N)===N){N!==0&&N===Bs&&(Ac=!0),k!==null&&(k=k.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=t,te=_;N=n;var Ie=r;switch(te.tag){case 1:if(le=te.payload,typeof le=="function"){z=le.call(Ie,z,N);break e}z=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=te.payload,N=typeof le=="function"?le.call(Ie,z,N):le,N==null)break e;z=v({},z,N);break e;case 2:si=!0}}N=_.callback,N!==null&&(t.flags|=64,O&&(t.flags|=8192),O=u.callbacks,O===null?u.callbacks=[N]:O.push(N))}else O={lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},k===null?(A=k=O,T=z):k=k.next=O,g|=N;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;O=_,_=O.next,O.next=null,u.lastBaseUpdate=O,u.shared.pending=null}}while(!0);k===null&&(T=z),u.baseState=T,u.firstBaseUpdate=A,u.lastBaseUpdate=k,f===null&&(u.shared.lanes=0),pi|=g,t.lanes=g,t.memoizedState=z}}function Zp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $p(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Zp(r[t],n)}var js=E(null),Fl=E(0);function Jp(t,n){t=Bn,L(Fl,t),L(js,n),Bn=t|n.baseLanes}function Nc(){L(Fl,Bn),L(js,js.current)}function Oc(){Bn=Fl.current,D(js),D(Fl)}var li=0,fe=null,xe=null,it=null,Kl=!1,Vs=!1,Ji=!1,Wl=0,ia=0,Gs=null,kb=0;function tt(){throw Error(a(321))}function xc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Ht(t[r],n[r]))return!1;return!0}function Mc(t,n,r,l,u,f){return li=f,fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Um:Pm,Ji=!1,f=r(l,u),Ji=!1,Vs&&(f=tm(n,r,l,u)),em(t),f}function em(t){M.H=eo;var n=xe!==null&&xe.next!==null;if(li=0,it=xe=fe=null,Kl=!1,ia=0,Gs=null,n)throw Error(a(300));t===null||ut||(t=t.dependencies,t!==null&&ql(t)&&(ut=!0))}function tm(t,n,r,l){fe=t;var u=0;do{if(Vs&&(Gs=null),ia=0,Vs=!1,25<=u)throw Error(a(301));if(u+=1,it=xe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=qb,f=n(r,l)}while(Vs);return f}function Lb(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?sa(n):n,t=t.useState()[0],(xe!==null?xe.memoizedState:null)!==t&&(fe.flags|=1024),n}function Ic(){var t=Wl!==0;return Wl=0,t}function Dc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function kc(t){if(Kl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Kl=!1}li=0,it=xe=fe=null,Vs=!1,ia=Wl=0,Gs=null}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?fe.memoizedState=it=t:it=it.next=t,it}function st(){if(xe===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var n=it===null?fe.memoizedState:it.next;if(n!==null)it=n,xe=t;else{if(t===null)throw fe.alternate===null?Error(a(467)):Error(a(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},it===null?fe.memoizedState=it=t:it=it.next=t}return it}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sa(t){var n=ia;return ia+=1,Gs===null&&(Gs=[]),t=Wp(Gs,t,n),n=fe,(it===null?n.memoizedState:it.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Um:Pm),t}function Ql(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sa(t);if(t.$$typeof===$)return Ct(t)}throw Error(a(438,String(t)))}function Uc(t){var n=null,r=fe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Lc(),fe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=mt;return n.index++,r}function kn(t,n){return typeof n=="function"?n(t):n}function Xl(t){var n=st();return Pc(n,xe,t)}function Pc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var _=g=null,T=null,A=n,k=!1;do{var z=A.lane&-536870913;if(z!==A.lane?(Ee&z)===z:(li&z)===z){var N=A.revertLane;if(N===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),z===Bs&&(k=!0);else if((li&N)===N){A=A.next,N===Bs&&(k=!0);continue}else z={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},T===null?(_=T=z,g=f):T=T.next=z,fe.lanes|=N,pi|=N;z=A.action,Ji&&r(f,z),f=A.hasEagerState?A.eagerState:r(f,z)}else N={lane:z,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},T===null?(_=T=N,g=f):T=T.next=N,fe.lanes|=z,pi|=z;A=A.next}while(A!==null&&A!==n);if(T===null?g=f:T.next=_,!Ht(f,t.memoizedState)&&(ut=!0,k&&(r=qs,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=T,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zc(t){var n=st(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);Ht(f,n.memoizedState)||(ut=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function nm(t,n,r){var l=fe,u=st(),f=Re;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Ht((xe||u).memoizedState,r);g&&(u.memoizedState=r,ut=!0),u=u.queue;var _=rm.bind(null,l,u,t);if(ra(2048,8,_,[t]),u.getSnapshot!==n||g||it!==null&&it.memoizedState.tag&1){if(l.flags|=2048,Ys(9,Zl(),sm.bind(null,l,u,r,n),null),He===null)throw Error(a(349));f||(li&124)!==0||im(l,n,r)}return r}function im(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=fe.updateQueue,n===null?(n=Lc(),fe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function sm(t,n,r,l){n.value=r,n.getSnapshot=l,am(n)&&lm(t)}function rm(t,n,r){return r(function(){am(n)&&lm(t)})}function am(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Ht(t,r)}catch{return!0}}function lm(t){var n=Us(t,2);n!==null&&Yt(n,t,2)}function Hc(t){var n=It();if(typeof t=="function"){var r=t;if(t=r(),Ji){gn(!0);try{r()}finally{gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:t},n}function om(t,n,r,l){return t.baseState=r,Pc(t,xe,typeof l=="function"?l:kn)}function Ub(t,n,r,l,u){if(Jl(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};M.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,um(n,f)):(f.next=r.next,n.pending=r.next=f)}}function um(t,n){var r=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=M.T,g={};M.T=g;try{var _=r(u,l),T=M.S;T!==null&&T(g,_),cm(t,n,_)}catch(A){Bc(t,n,A)}finally{M.T=f}}else try{f=r(u,l),cm(t,n,f)}catch(A){Bc(t,n,A)}}function cm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){fm(t,n,l)},function(l){return Bc(t,n,l)}):fm(t,n,r)}function fm(t,n,r){n.status="fulfilled",n.value=r,hm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,um(t,r)))}function Bc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,hm(n),n=n.next;while(n!==l)}t.action=null}function hm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dm(t,n){return n}function pm(t,n){if(Re){var r=He.formState;if(r!==null){e:{var l=fe;if(Re){if(Xe){t:{for(var u=Xe,f=_n;u.nodeType!==8;){if(!f){u=null;break t}if(u=on(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Xe=on(u.nextSibling),l=u.data==="F!";break e}}Qi(l)}l=!1}l&&(n=r[0])}}return r=It(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dm,lastRenderedState:n},r.queue=l,r=Dm.bind(null,fe,l),l.dispatch=r,l=Hc(!1),f=Yc.bind(null,fe,!1,l.queue),l=It(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,r=Ub.bind(null,fe,u,f,r),u.dispatch=r,l.memoizedState=t,[n,r,!1]}function mm(t){var n=st();return gm(n,xe,t)}function gm(t,n,r){if(n=Pc(t,n,dm)[0],t=Xl(kn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=sa(n)}catch(g){throw g===$r?Gl:g}else l=n;n=st();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(fe.flags|=2048,Ys(9,Zl(),Pb.bind(null,u,r),null)),[l,f,t]}function Pb(t,n){t.action=n}function _m(t){var n=st(),r=xe;if(r!==null)return gm(n,r,t);st(),n=n.memoizedState,r=st();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ys(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=fe.updateQueue,n===null&&(n=Lc(),fe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Zl(){return{destroy:void 0,resource:void 0}}function ym(){return st().memoizedState}function $l(t,n,r,l){var u=It();l=l===void 0?null:l,fe.flags|=t,u.memoizedState=Ys(1|n,Zl(),r,l)}function ra(t,n,r,l){var u=st();l=l===void 0?null:l;var f=u.memoizedState.inst;xe!==null&&l!==null&&xc(l,xe.memoizedState.deps)?u.memoizedState=Ys(n,f,r,l):(fe.flags|=t,u.memoizedState=Ys(1|n,f,r,l))}function vm(t,n){$l(8390656,8,t,n)}function Em(t,n){ra(2048,8,t,n)}function bm(t,n){return ra(4,2,t,n)}function Sm(t,n){return ra(4,4,t,n)}function Tm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cm(t,n,r){r=r!=null?r.concat([t]):null,ra(4,4,Tm.bind(null,n,t),r)}function qc(){}function wm(t,n){var r=st();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&xc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Rm(t,n){var r=st();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&xc(n,l[1]))return l[0];if(l=t(),Ji){gn(!0);try{t()}finally{gn(!1)}}return r.memoizedState=[l,n],l}function jc(t,n,r){return r===void 0||(li&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Og(),fe.lanes|=t,pi|=t,r)}function Am(t,n,r,l){return Ht(r,n)?r:js.current!==null?(t=jc(t,r,l),Ht(t,n)||(ut=!0),t):(li&42)===0?(ut=!0,t.memoizedState=r):(t=Og(),fe.lanes|=t,pi|=t,n)}function Nm(t,n,r,l,u){var f=G.p;G.p=f!==0&&8>f?f:8;var g=M.T,_={};M.T=_,Yc(t,!1,n,r);try{var T=u(),A=M.S;if(A!==null&&A(_,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var k=Db(T,l);aa(t,n,k,Gt(t))}else aa(t,n,l,Gt(t))}catch(z){aa(t,n,{then:function(){},status:"rejected",reason:z},Gt())}finally{G.p=f,M.T=g}}function zb(){}function Vc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var u=Om(t).queue;Nm(t,u,n,ee,r===null?zb:function(){return xm(t),r(l)})}function Om(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:ee},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xm(t){var n=Om(t).next.queue;aa(t,n,{},Gt())}function Gc(){return Ct(Ca)}function Mm(){return st().memoizedState}function Im(){return st().memoizedState}function Hb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Gt();t=ri(r);var l=ai(n,t,r);l!==null&&(Yt(l,n,r),ea(l,n,r)),n={cache:Ec()},t.payload=n;return}n=n.return}}function Bb(t,n,r){var l=Gt();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Jl(t)?km(n,r):(r=cc(t,n,r,l),r!==null&&(Yt(r,t,l),Lm(r,n,l)))}function Dm(t,n,r){var l=Gt();aa(t,n,r,l)}function aa(t,n,r,l){var u={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jl(t))km(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,_=f(g,r);if(u.hasEagerState=!0,u.eagerState=_,Ht(_,g))return Ul(t,n,u,0),He===null&&Ll(),!1}catch{}finally{}if(r=cc(t,n,u,l),r!==null)return Yt(r,t,l),Lm(r,n,l),!0}return!1}function Yc(t,n,r,l){if(l={lane:2,revertLane:Cf(),action:l,hasEagerState:!1,eagerState:null,next:null},Jl(t)){if(n)throw Error(a(479))}else n=cc(t,r,l,2),n!==null&&Yt(n,t,2)}function Jl(t){var n=t.alternate;return t===fe||n!==null&&n===fe}function km(t,n){Vs=Kl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Lm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vd(t,r)}}var eo={readContext:Ct,use:Ql,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},Um={readContext:Ct,use:Ql,useCallback:function(t,n){return It().memoizedState=[t,n===void 0?null:n],t},useContext:Ct,useEffect:vm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,$l(4194308,4,Tm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return $l(4194308,4,t,n)},useInsertionEffect:function(t,n){$l(4,2,t,n)},useMemo:function(t,n){var r=It();n=n===void 0?null:n;var l=t();if(Ji){gn(!0);try{t()}finally{gn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=It();if(r!==void 0){var u=r(n);if(Ji){gn(!0);try{r(n)}finally{gn(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=Bb.bind(null,fe,t),[l.memoizedState,t]},useRef:function(t){var n=It();return t={current:t},n.memoizedState=t},useState:function(t){t=Hc(t);var n=t.queue,r=Dm.bind(null,fe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:qc,useDeferredValue:function(t,n){var r=It();return jc(r,t,n)},useTransition:function(){var t=Hc(!1);return t=Nm.bind(null,fe,t.queue,!0,!1),It().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=fe,u=It();if(Re){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),He===null)throw Error(a(349));(Ee&124)!==0||im(l,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,vm(rm.bind(null,l,f,t),[t]),l.flags|=2048,Ys(9,Zl(),sm.bind(null,l,f,r,n),null),r},useId:function(){var t=It(),n=He.identifierPrefix;if(Re){var r=Mn,l=xn;r=(l&~(1<<32-St(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Wl++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=kb++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Gc,useFormState:pm,useActionState:pm,useOptimistic:function(t){var n=It();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Yc.bind(null,fe,!0,r),r.dispatch=n,[t,n]},useMemoCache:Uc,useCacheRefresh:function(){return It().memoizedState=Hb.bind(null,fe)}},Pm={readContext:Ct,use:Ql,useCallback:wm,useContext:Ct,useEffect:Em,useImperativeHandle:Cm,useInsertionEffect:bm,useLayoutEffect:Sm,useMemo:Rm,useReducer:Xl,useRef:ym,useState:function(){return Xl(kn)},useDebugValue:qc,useDeferredValue:function(t,n){var r=st();return Am(r,xe.memoizedState,t,n)},useTransition:function(){var t=Xl(kn)[0],n=st().memoizedState;return[typeof t=="boolean"?t:sa(t),n]},useSyncExternalStore:nm,useId:Mm,useHostTransitionStatus:Gc,useFormState:mm,useActionState:mm,useOptimistic:function(t,n){var r=st();return om(r,xe,t,n)},useMemoCache:Uc,useCacheRefresh:Im},qb={readContext:Ct,use:Ql,useCallback:wm,useContext:Ct,useEffect:Em,useImperativeHandle:Cm,useInsertionEffect:bm,useLayoutEffect:Sm,useMemo:Rm,useReducer:zc,useRef:ym,useState:function(){return zc(kn)},useDebugValue:qc,useDeferredValue:function(t,n){var r=st();return xe===null?jc(r,t,n):Am(r,xe.memoizedState,t,n)},useTransition:function(){var t=zc(kn)[0],n=st().memoizedState;return[typeof t=="boolean"?t:sa(t),n]},useSyncExternalStore:nm,useId:Mm,useHostTransitionStatus:Gc,useFormState:_m,useActionState:_m,useOptimistic:function(t,n){var r=st();return xe!==null?om(r,xe,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Uc,useCacheRefresh:Im},Fs=null,la=0;function to(t){var n=la;return la+=1,Fs===null&&(Fs=[]),Wp(Fs,t,n)}function oa(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function no(t,n){throw n.$$typeof===b?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zm(t){var n=t._init;return n(t._payload)}function Hm(t){function n(w,C){if(t){var R=w.deletions;R===null?(w.deletions=[C],w.flags|=16):R.push(C)}}function r(w,C){if(!t)return null;for(;C!==null;)n(w,C),C=C.sibling;return null}function l(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function u(w,C){return w=On(w,C),w.index=0,w.sibling=null,w}function f(w,C,R){return w.index=R,t?(R=w.alternate,R!==null?(R=R.index,R<C?(w.flags|=67108866,C):R):(w.flags|=67108866,C)):(w.flags|=1048576,C)}function g(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function _(w,C,R,P){return C===null||C.tag!==6?(C=hc(R,w.mode,P),C.return=w,C):(C=u(C,R),C.return=w,C)}function T(w,C,R,P){var X=R.type;return X===U?k(w,C,R.props.children,P,R.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ye&&zm(X)===C.type)?(C=u(C,R.props),oa(C,R),C.return=w,C):(C=zl(R.type,R.key,R.props,null,w.mode,P),oa(C,R),C.return=w,C)}function A(w,C,R,P){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=dc(R,w.mode,P),C.return=w,C):(C=u(C,R.children||[]),C.return=w,C)}function k(w,C,R,P,X){return C===null||C.tag!==7?(C=Yi(R,w.mode,P,X),C.return=w,C):(C=u(C,R),C.return=w,C)}function z(w,C,R){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=hc(""+C,w.mode,R),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return R=zl(C.type,C.key,C.props,null,w.mode,R),oa(R,C),R.return=w,R;case x:return C=dc(C,w.mode,R),C.return=w,C;case Ye:var P=C._init;return C=P(C._payload),z(w,C,R)}if(we(C)||ae(C))return C=Yi(C,w.mode,R,null),C.return=w,C;if(typeof C.then=="function")return z(w,to(C),R);if(C.$$typeof===$)return z(w,jl(w,C),R);no(w,C)}return null}function N(w,C,R,P){var X=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return X!==null?null:_(w,C,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return R.key===X?T(w,C,R,P):null;case x:return R.key===X?A(w,C,R,P):null;case Ye:return X=R._init,R=X(R._payload),N(w,C,R,P)}if(we(R)||ae(R))return X!==null?null:k(w,C,R,P,null);if(typeof R.then=="function")return N(w,C,to(R),P);if(R.$$typeof===$)return N(w,C,jl(w,R),P);no(w,R)}return null}function O(w,C,R,P,X){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return w=w.get(R)||null,_(C,w,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return w=w.get(P.key===null?R:P.key)||null,T(C,w,P,X);case x:return w=w.get(P.key===null?R:P.key)||null,A(C,w,P,X);case Ye:var he=P._init;return P=he(P._payload),O(w,C,R,P,X)}if(we(P)||ae(P))return w=w.get(R)||null,k(C,w,P,X,null);if(typeof P.then=="function")return O(w,C,R,to(P),X);if(P.$$typeof===$)return O(w,C,R,jl(C,P),X);no(C,P)}return null}function le(w,C,R,P){for(var X=null,he=null,J=C,ne=C=0,ft=null;J!==null&&ne<R.length;ne++){J.index>ne?(ft=J,J=null):ft=J.sibling;var Se=N(w,J,R[ne],P);if(Se===null){J===null&&(J=ft);break}t&&J&&Se.alternate===null&&n(w,J),C=f(Se,C,ne),he===null?X=Se:he.sibling=Se,he=Se,J=ft}if(ne===R.length)return r(w,J),Re&&Ki(w,ne),X;if(J===null){for(;ne<R.length;ne++)J=z(w,R[ne],P),J!==null&&(C=f(J,C,ne),he===null?X=J:he.sibling=J,he=J);return Re&&Ki(w,ne),X}for(J=l(J);ne<R.length;ne++)ft=O(J,w,ne,R[ne],P),ft!==null&&(t&&ft.alternate!==null&&J.delete(ft.key===null?ne:ft.key),C=f(ft,C,ne),he===null?X=ft:he.sibling=ft,he=ft);return t&&J.forEach(function(Ti){return n(w,Ti)}),Re&&Ki(w,ne),X}function te(w,C,R,P){if(R==null)throw Error(a(151));for(var X=null,he=null,J=C,ne=C=0,ft=null,Se=R.next();J!==null&&!Se.done;ne++,Se=R.next()){J.index>ne?(ft=J,J=null):ft=J.sibling;var Ti=N(w,J,Se.value,P);if(Ti===null){J===null&&(J=ft);break}t&&J&&Ti.alternate===null&&n(w,J),C=f(Ti,C,ne),he===null?X=Ti:he.sibling=Ti,he=Ti,J=ft}if(Se.done)return r(w,J),Re&&Ki(w,ne),X;if(J===null){for(;!Se.done;ne++,Se=R.next())Se=z(w,Se.value,P),Se!==null&&(C=f(Se,C,ne),he===null?X=Se:he.sibling=Se,he=Se);return Re&&Ki(w,ne),X}for(J=l(J);!Se.done;ne++,Se=R.next())Se=O(J,w,ne,Se.value,P),Se!==null&&(t&&Se.alternate!==null&&J.delete(Se.key===null?ne:Se.key),C=f(Se,C,ne),he===null?X=Se:he.sibling=Se,he=Se);return t&&J.forEach(function(jS){return n(w,jS)}),Re&&Ki(w,ne),X}function Ie(w,C,R,P){if(typeof R=="object"&&R!==null&&R.type===U&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case S:e:{for(var X=R.key;C!==null;){if(C.key===X){if(X=R.type,X===U){if(C.tag===7){r(w,C.sibling),P=u(C,R.props.children),P.return=w,w=P;break e}}else if(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ye&&zm(X)===C.type){r(w,C.sibling),P=u(C,R.props),oa(P,R),P.return=w,w=P;break e}r(w,C);break}else n(w,C);C=C.sibling}R.type===U?(P=Yi(R.props.children,w.mode,P,R.key),P.return=w,w=P):(P=zl(R.type,R.key,R.props,null,w.mode,P),oa(P,R),P.return=w,w=P)}return g(w);case x:e:{for(X=R.key;C!==null;){if(C.key===X)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){r(w,C.sibling),P=u(C,R.children||[]),P.return=w,w=P;break e}else{r(w,C);break}else n(w,C);C=C.sibling}P=dc(R,w.mode,P),P.return=w,w=P}return g(w);case Ye:return X=R._init,R=X(R._payload),Ie(w,C,R,P)}if(we(R))return le(w,C,R,P);if(ae(R)){if(X=ae(R),typeof X!="function")throw Error(a(150));return R=X.call(R),te(w,C,R,P)}if(typeof R.then=="function")return Ie(w,C,to(R),P);if(R.$$typeof===$)return Ie(w,C,jl(w,R),P);no(w,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,C!==null&&C.tag===6?(r(w,C.sibling),P=u(C,R),P.return=w,w=P):(r(w,C),P=hc(R,w.mode,P),P.return=w,w=P),g(w)):r(w,C)}return function(w,C,R,P){try{la=0;var X=Ie(w,C,R,P);return Fs=null,X}catch(J){if(J===$r||J===Gl)throw J;var he=Bt(29,J,null,w.mode);return he.lanes=P,he.return=w,he}finally{}}}var Ks=Hm(!0),Bm=Hm(!1),$t=E(null),yn=null;function oi(t){var n=t.alternate;L(at,at.current&1),L($t,t),yn===null&&(n===null||js.current!==null||n.memoizedState!==null)&&(yn=t)}function qm(t){if(t.tag===22){if(L(at,at.current),L($t,t),yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(yn=t)}}else ui()}function ui(){L(at,at.current),L($t,$t.current)}function Ln(t){D($t),yn===t&&(yn=null),D(at)}var at=E(0);function io(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Uf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Fc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:v({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Kc={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Gt(),u=ri(l);u.payload=n,r!=null&&(u.callback=r),n=ai(t,u,l),n!==null&&(Yt(n,t,l),ea(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Gt(),u=ri(l);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=ai(t,u,l),n!==null&&(Yt(n,t,l),ea(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Gt(),l=ri(r);l.tag=2,n!=null&&(l.callback=n),n=ai(t,l,r),n!==null&&(Yt(n,t,r),ea(n,t,r))}};function jm(t,n,r,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Gr(r,l)||!Gr(u,f):!0}function Vm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Kc.enqueueReplaceState(n,n.state,null)}function es(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=v({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}var so=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gm(t){so(t)}function Ym(t){console.error(t)}function Fm(t){so(t)}function ro(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Km(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Wc(t,n,r){return r=ri(r),r.tag=3,r.payload={element:null},r.callback=function(){ro(t,n)},r}function Wm(t){return t=ri(t),t.tag=3,t}function Qm(t,n,r,l){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Km(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Km(n,r,l),typeof u!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function jb(t,n,r,l,u){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Qr(n,r,u,!0),r=$t.current,r!==null){switch(r.tag){case 13:return yn===null?vf():r.alternate===null&&Ze===0&&(Ze=3),r.flags&=-257,r.flags|=65536,r.lanes=u,l===Tc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),bf(t,l,u)),!1;case 22:return r.flags|=65536,l===Tc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),bf(t,l,u)),!1}throw Error(a(435,r.tag))}return bf(t,l,u),vf(),!1}if(Re)return n=$t.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==gc&&(t=Error(a(422),{cause:l}),Wr(Wt(t,r)))):(l!==gc&&(n=Error(a(423),{cause:l}),Wr(Wt(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=Wt(l,r),u=Wc(t.stateNode,l,u),Rc(t,u),Ze!==4&&(Ze=2)),!1;var f=Error(a(520),{cause:l});if(f=Wt(f,r),ma===null?ma=[f]:ma.push(f),Ze!==4&&(Ze=2),n===null)return!0;l=Wt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=Wc(r.stateNode,l,t),Rc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(mi===null||!mi.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Wm(u),Qm(u,t,r,l),Rc(r,u),!1}r=r.return}while(r!==null);return!1}var Xm=Error(a(461)),ut=!1;function gt(t,n,r,l){n.child=t===null?Bm(n,null,r,l):Ks(n,t.child,r,l)}function Zm(t,n,r,l,u){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return Zi(n),l=Mc(t,n,r,g,f,u),_=Ic(),t!==null&&!ut?(Dc(t,n,u),Un(t,n,u)):(Re&&_&&pc(n),n.flags|=1,gt(t,n,l,u),n.child)}function $m(t,n,r,l,u){if(t===null){var f=r.type;return typeof f=="function"&&!fc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Jm(t,n,f,l,u)):(t=zl(r.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!nf(t,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Gr,r(g,l)&&t.ref===n.ref)return Un(t,n,u)}return n.flags|=1,t=On(f,l),t.ref=n.ref,t.return=n,n.child=t}function Jm(t,n,r,l,u){if(t!==null){var f=t.memoizedProps;if(Gr(f,l)&&t.ref===n.ref)if(ut=!1,n.pendingProps=l=f,nf(t,u))(t.flags&131072)!==0&&(ut=!0);else return n.lanes=t.lanes,Un(t,n,u)}return Qc(t,n,r,l,u)}function eg(t,n,r){var l=n.pendingProps,u=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(u=n.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return tg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vl(n,f!==null?f.cachePool:null),f!==null?Jp(n,f):Nc(),qm(n);else return n.lanes=n.childLanes=536870912,tg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Vl(n,f.cachePool),Jp(n,f),ui(),n.memoizedState=null):(t!==null&&Vl(n,null),Nc(),ui());return gt(t,n,u,r),n.child}function tg(t,n,r,l){var u=Sc();return u=u===null?null:{parent:rt._currentValue,pool:u},n.memoizedState={baseLanes:r,cachePool:u},t!==null&&Vl(n,null),Nc(),qm(n),t!==null&&Qr(t,n,l,!0),null}function ao(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Qc(t,n,r,l,u){return Zi(n),r=Mc(t,n,r,l,void 0,u),l=Ic(),t!==null&&!ut?(Dc(t,n,u),Un(t,n,u)):(Re&&l&&pc(n),n.flags|=1,gt(t,n,r,u),n.child)}function ng(t,n,r,l,u,f){return Zi(n),n.updateQueue=null,r=tm(n,l,r,u),em(t),l=Ic(),t!==null&&!ut?(Dc(t,n,f),Un(t,n,f)):(Re&&l&&pc(n),n.flags|=1,gt(t,n,r,f),n.child)}function ig(t,n,r,l,u){if(Zi(n),n.stateNode===null){var f=Ps,g=r.contextType;typeof g=="object"&&g!==null&&(f=Ct(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Cc(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Ct(g):Ps,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Fc(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Kc.enqueueReplaceState(f,f.state,null),na(n,l,f,u),ta(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var _=n.memoizedProps,T=es(r,_);f.props=T;var A=f.context,k=r.contextType;g=Ps,typeof k=="object"&&k!==null&&(g=Ct(k));var z=r.getDerivedStateFromProps;k=typeof z=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||A!==g)&&Vm(n,f,l,g),si=!1;var N=n.memoizedState;f.state=N,na(n,l,f,u),ta(),A=n.memoizedState,_||N!==A||si?(typeof z=="function"&&(Fc(n,r,z,l),A=n.memoizedState),(T=si||jm(n,r,T,l,N,A,g))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),f.props=l,f.state=A,f.context=g,l=T):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,wc(t,n),g=n.memoizedProps,k=es(r,g),f.props=k,z=n.pendingProps,N=f.context,A=r.contextType,T=Ps,typeof A=="object"&&A!==null&&(T=Ct(A)),_=r.getDerivedStateFromProps,(A=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==z||N!==T)&&Vm(n,f,l,T),si=!1,N=n.memoizedState,f.state=N,na(n,l,f,u),ta();var O=n.memoizedState;g!==z||N!==O||si||t!==null&&t.dependencies!==null&&ql(t.dependencies)?(typeof _=="function"&&(Fc(n,r,_,l),O=n.memoizedState),(k=si||jm(n,r,k,l,N,O,T)||t!==null&&t.dependencies!==null&&ql(t.dependencies))?(A||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,O,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,O,T)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&N===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&N===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=T,l=k):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&N===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&N===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ao(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ks(n,t.child,null,u),n.child=Ks(n,null,r,u)):gt(t,n,r,u),n.memoizedState=f.state,t=n.child):t=Un(t,n,u),t}function sg(t,n,r,l){return Kr(),n.flags|=256,gt(t,n,r,l),n.child}var Xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zc(t){return{baseLanes:t,cachePool:Yp()}}function $c(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Jt),t}function rg(t,n,r){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(at.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Re){if(u?oi(n):ui(),Re){var _=Xe,T;if(T=_){e:{for(T=_,_=_n;T.nodeType!==8;){if(!_){_=null;break e}if(T=on(T.nextSibling),T===null){_=null;break e}}_=T}_!==null?(n.memoizedState={dehydrated:_,treeContext:Fi!==null?{id:xn,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},T=Bt(18,null,null,0),T.stateNode=_,T.return=n,n.child=T,At=n,Xe=null,T=!0):T=!1}T||Qi(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Uf(_)?n.lanes=32:n.lanes=536870912,null;Ln(n)}return _=l.children,l=l.fallback,u?(ui(),u=n.mode,_=lo({mode:"hidden",children:_},u),l=Yi(l,u,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,u=n.child,u.memoizedState=Zc(r),u.childLanes=$c(t,g,r),n.memoizedState=Xc,l):(oi(n),Jc(n,_))}if(T=t.memoizedState,T!==null&&(_=T.dehydrated,_!==null)){if(f)n.flags&256?(oi(n),n.flags&=-257,n=ef(t,n,r)):n.memoizedState!==null?(ui(),n.child=t.child,n.flags|=128,n=null):(ui(),u=l.fallback,_=n.mode,l=lo({mode:"visible",children:l.children},_),u=Yi(u,_,r,null),u.flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,Ks(n,t.child,null,r),l=n.child,l.memoizedState=Zc(r),l.childLanes=$c(t,g,r),n.memoizedState=Xc,n=u);else if(oi(n),Uf(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var A=g.dgst;g=A,l=Error(a(419)),l.stack="",l.digest=g,Wr({value:l,source:null,stack:null}),n=ef(t,n,r)}else if(ut||Qr(t,n,r,!1),g=(r&t.childLanes)!==0,ut||g){if(g=He,g!==null&&(l=r&-r,l=(l&42)!==0?1:Uu(l),l=(l&(g.suspendedLanes|r))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,Us(t,l),Yt(g,t,l),Xm;_.data==="$?"||vf(),n=ef(t,n,r)}else _.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=T.treeContext,Xe=on(_.nextSibling),At=n,Re=!0,Wi=null,_n=!1,t!==null&&(Xt[Zt++]=xn,Xt[Zt++]=Mn,Xt[Zt++]=Fi,xn=t.id,Mn=t.overflow,Fi=n),n=Jc(n,l.children),n.flags|=4096);return n}return u?(ui(),u=l.fallback,_=n.mode,T=t.child,A=T.sibling,l=On(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,A!==null?u=On(A,u):(u=Yi(u,_,r,null),u.flags|=2),u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,_=t.child.memoizedState,_===null?_=Zc(r):(T=_.cachePool,T!==null?(A=rt._currentValue,T=T.parent!==A?{parent:A,pool:A}:T):T=Yp(),_={baseLanes:_.baseLanes|r,cachePool:T}),u.memoizedState=_,u.childLanes=$c(t,g,r),n.memoizedState=Xc,l):(oi(n),r=t.child,t=r.sibling,r=On(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Jc(t,n){return n=lo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lo(t,n){return t=Bt(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ef(t,n,r){return Ks(n,t.child,null,r),t=Jc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ag(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),yc(t.return,n,r)}function tf(t,n,r,l,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=u)}function lg(t,n,r){var l=n.pendingProps,u=l.revealOrder,f=l.tail;if(gt(t,n,l.children,r),l=at.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ag(t,r,n);else if(t.tag===19)ag(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(L(at,l),u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&io(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),tf(n,!1,u,r,f);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&io(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}tf(n,!0,r,null,f);break;case"together":tf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Un(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),pi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Qr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=On(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=On(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function nf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ql(t)))}function Vb(t,n,r){switch(n.tag){case 3:Q(n,n.stateNode.containerInfo),ii(n,rt,t.memoizedState.cache),Kr();break;case 27:case 5:Pe(n);break;case 4:Q(n,n.stateNode.containerInfo);break;case 10:ii(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(oi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?rg(t,n,r):(oi(n),t=Un(t,n,r),t!==null?t.sibling:null);oi(n);break;case 19:var u=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Qr(t,n,r,!1),l=(r&n.childLanes)!==0),u){if(l)return lg(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),L(at,at.current),l)break;return null;case 22:case 23:return n.lanes=0,eg(t,n,r);case 24:ii(n,rt,t.memoizedState.cache)}return Un(t,n,r)}function og(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)ut=!0;else{if(!nf(t,r)&&(n.flags&128)===0)return ut=!1,Vb(t,n,r);ut=(t.flags&131072)!==0}else ut=!1,Re&&(n.flags&1048576)!==0&&zp(n,Bl,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,u=l._init;if(l=u(l._payload),n.type=l,typeof l=="function")fc(l)?(t=es(l,t),n.tag=1,n=ig(null,n,l,t,r)):(n.tag=0,n=Qc(null,n,l,t,r));else{if(l!=null){if(u=l.$$typeof,u===Ce){n.tag=11,n=Zm(null,n,l,t,r);break e}else if(u===je){n.tag=14,n=$m(null,n,l,t,r);break e}}throw n=ve(l)||l,Error(a(306,n,""))}}return n;case 0:return Qc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,u=es(l,n.pendingProps),ig(t,n,l,u,r);case 3:e:{if(Q(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,wc(t,n),na(n,l,null,r);var g=n.memoizedState;if(l=g.cache,ii(n,rt,l),l!==f.cache&&vc(n,[rt],r,!0),ta(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sg(t,n,l,r);break e}else if(l!==u){u=Wt(Error(a(424)),n),Wr(u),n=sg(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xe=on(t.firstChild),At=n,Re=!0,Wi=null,_n=!0,r=Bm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Kr(),l===u){n=Un(t,n,r);break e}gt(t,n,l,r)}n=n.child}return n;case 26:return ao(t,n),t===null?(r=h_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Re||(r=n.type,t=n.pendingProps,l=So(V.current).createElement(r),l[Tt]=n,l[xt]=t,yt(l,r,t),ot(l),n.stateNode=l):n.memoizedState=h_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pe(n),t===null&&Re&&(l=n.stateNode=u_(n.type,n.pendingProps,V.current),At=n,_n=!0,u=Xe,yi(n.type)?(Pf=u,Xe=on(l.firstChild)):Xe=u),gt(t,n,n.pendingProps.children,r),ao(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Re&&((u=l=Xe)&&(l=_S(l,n.type,n.pendingProps,_n),l!==null?(n.stateNode=l,At=n,Xe=on(l.firstChild),_n=!1,u=!0):u=!1),u||Qi(n)),Pe(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Df(u,f)?l=null:g!==null&&Df(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=Mc(t,n,Lb,null,null,r),Ca._currentValue=u),ao(t,n),gt(t,n,l,r),n.child;case 6:return t===null&&Re&&((t=r=Xe)&&(r=yS(r,n.pendingProps,_n),r!==null?(n.stateNode=r,At=n,Xe=null,t=!0):t=!1),t||Qi(n)),null;case 13:return rg(t,n,r);case 4:return Q(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ks(n,null,l,r):gt(t,n,l,r),n.child;case 11:return Zm(t,n,n.type,n.pendingProps,r);case 7:return gt(t,n,n.pendingProps,r),n.child;case 8:return gt(t,n,n.pendingProps.children,r),n.child;case 12:return gt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ii(n,n.type,l.value),gt(t,n,l.children,r),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,Zi(n),u=Ct(u),l=l(u),n.flags|=1,gt(t,n,l,r),n.child;case 14:return $m(t,n,n.type,n.pendingProps,r);case 15:return Jm(t,n,n.type,n.pendingProps,r);case 19:return lg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=lo(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=On(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return eg(t,n,r);case 24:return Zi(n),l=Ct(rt),t===null?(u=Sc(),u===null&&(u=He,f=Ec(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:l,cache:u},Cc(n),ii(n,rt,u)):((t.lanes&r)!==0&&(wc(t,n),na(n,null,null,r),ta()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ii(n,rt,l)):(l=f.cache,ii(n,rt,l),l!==u.cache&&vc(n,[rt],r,!0))),gt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pn(t){t.flags|=4}function ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!__(n)){if(n=$t.current,n!==null&&((Ee&4194048)===Ee?yn!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||n!==yn))throw Jr=Tc,Fp;t.flags|=8192}}function oo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?qd():536870912,t.lanes|=n,Zs|=n)}function ua(t,n){if(!Re)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Fe(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Gb(t,n,r){var l=n.pendingProps;switch(mc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(n),null;case 1:return Fe(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Dn(rt),ue(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fr(n)?Pn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qp())),Fe(n),null;case 26:return r=n.memoizedState,t===null?(Pn(n),r!==null?(Fe(n),ug(n,r)):(Fe(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Pn(n),Fe(n),ug(n,r)):(Fe(n),n.flags&=-16777217):(t.memoizedProps!==l&&Pn(n),Fe(n),n.flags&=-16777217),null;case 27:Ae(n),r=V.current;var u=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Fe(n),null}t=B.current,Fr(n)?Hp(n):(t=u_(u,l,r),n.stateNode=t,Pn(n))}return Fe(n),null;case 5:if(Ae(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Fe(n),null}if(t=B.current,Fr(n))Hp(n);else{switch(u=So(V.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?u.createElement(r,{is:l.is}):u.createElement(r)}}t[Tt]=n,t[xt]=l;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=t;e:switch(yt(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Pn(n)}}return Fe(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Pn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=V.current,Fr(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,u=At,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[Tt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||n_(t.nodeValue,r)),t||Qi(n)}else t=So(t).createTextNode(l),t[Tt]=n,n.stateNode=t}return Fe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Fr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[Tt]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),u=!1}else u=qp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Ln(n),n):(Ln(n),null)}if(Ln(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),oo(n,n.updateQueue),Fe(n),null;case 4:return ue(),t===null&&Nf(n.stateNode.containerInfo),Fe(n),null;case 10:return Dn(n.type),Fe(n),null;case 19:if(D(at),u=n.memoizedState,u===null)return Fe(n),null;if(l=(n.flags&128)!==0,f=u.rendering,f===null)if(l)ua(u,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=io(t),f!==null){for(n.flags|=128,ua(u,!1),t=f.updateQueue,n.updateQueue=t,oo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Pp(r,t),r=r.sibling;return L(at,at.current&1|2),n.child}t=t.sibling}u.tail!==null&&Qe()>fo&&(n.flags|=128,l=!0,ua(u,!1),n.lanes=4194304)}else{if(!l)if(t=io(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,oo(n,t),ua(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Re)return Fe(n),null}else 2*Qe()-u.renderingStartTime>fo&&r!==536870912&&(n.flags|=128,l=!0,ua(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(t=u.last,t!==null?t.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Qe(),n.sibling=null,t=at.current,L(at,l?t&1|2:t&1),n):(Fe(n),null);case 22:case 23:return Ln(n),Oc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Fe(n),n.subtreeFlags&6&&(n.flags|=8192)):Fe(n),r=n.updateQueue,r!==null&&oo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&D($i),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Dn(rt),Fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Yb(t,n){switch(mc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Dn(rt),ue(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ae(n),null;case 13:if(Ln(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return D(at),null;case 4:return ue(),null;case 10:return Dn(n.type),null;case 22:case 23:return Ln(n),Oc(),t!==null&&D($i),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Dn(rt),null;case 25:return null;default:return null}}function cg(t,n){switch(mc(n),n.tag){case 3:Dn(rt),ue();break;case 26:case 27:case 5:Ae(n);break;case 4:ue();break;case 13:Ln(n);break;case 19:D(at);break;case 10:Dn(n.type);break;case 22:case 23:Ln(n),Oc(),t!==null&&D($i);break;case 24:Dn(rt)}}function ca(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var u=l.next;r=u;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==u)}}catch(_){Ue(n,n.return,_)}}function ci(t,n,r){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,u=n;var T=r,A=_;try{A()}catch(k){Ue(u,T,k)}}}l=l.next}while(l!==f)}}catch(k){Ue(n,n.return,k)}}function fg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{$p(n,r)}catch(l){Ue(t,t.return,l)}}}function hg(t,n,r){r.props=es(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ue(t,n,l)}}function fa(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(u){Ue(t,n,u)}}function vn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(u){Ue(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Ue(t,n,u)}else r.current=null}function dg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(u){Ue(t,t.return,u)}}function sf(t,n,r){try{var l=t.stateNode;hS(l,t.type,r,n),l[xt]=n}catch(u){Ue(t,t.return,u)}}function pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&yi(t.type)||t.tag===4}function rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function af(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=bo));else if(l!==4&&(l===27&&yi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(af(t,n,r),t=t.sibling;t!==null;)af(t,n,r),t=t.sibling}function uo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&yi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(uo(t,n,r),t=t.sibling;t!==null;)uo(t,n,r),t=t.sibling}function mg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);yt(n,l,r),n[Tt]=t,n[xt]=r}catch(f){Ue(t,t.return,f)}}var zn=!1,nt=!1,lf=!1,gg=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Fb(t,n){if(t=t.containerInfo,Mf=No,t=Ap(t),sc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,_=-1,T=-1,A=0,k=0,z=t,N=null;t:for(;;){for(var O;z!==r||u!==0&&z.nodeType!==3||(_=g+u),z!==f||l!==0&&z.nodeType!==3||(T=g+l),z.nodeType===3&&(g+=z.nodeValue.length),(O=z.firstChild)!==null;)N=z,z=O;for(;;){if(z===t)break t;if(N===r&&++A===u&&(_=g),N===f&&++k===l&&(T=g),(O=z.nextSibling)!==null)break;z=N,N=z.parentNode}z=O}r=_===-1||T===-1?null:{start:_,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(If={focusedElem:t,selectionRange:r},No=!1,ct=n;ct!==null;)if(n=ct,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,ct=t;else for(;ct!==null;){switch(n=ct,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var le=es(r.type,u,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(te){Ue(r,r.return,te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Lf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ct=t;break}ct=n.return}}function _g(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:fi(t,r),l&4&&ca(5,r);break;case 1:if(fi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Ue(r,r.return,g)}else{var u=es(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ue(r,r.return,g)}}l&64&&fg(r),l&512&&fa(r,r.return);break;case 3:if(fi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{$p(t,n)}catch(g){Ue(r,r.return,g)}}break;case 27:n===null&&l&4&&mg(r);case 26:case 5:fi(t,r),n===null&&l&4&&dg(r),l&512&&fa(r,r.return);break;case 12:fi(t,r);break;case 13:fi(t,r),l&4&&Eg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=tS.bind(null,r),vS(t,r))));break;case 22:if(l=r.memoizedState!==null||zn,!l){n=n!==null&&n.memoizedState!==null||nt,u=zn;var f=nt;zn=l,(nt=n)&&!f?hi(t,r,(r.subtreeFlags&8772)!==0):fi(t,r),zn=u,nt=f}break;case 30:break;default:fi(t,r)}}function yg(t){var n=t.alternate;n!==null&&(t.alternate=null,yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Hu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ge=null,Dt=!1;function Hn(t,n,r){for(r=r.child;r!==null;)vg(t,n,r),r=r.sibling}function vg(t,n,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(ei,r)}catch{}switch(r.tag){case 26:nt||vn(r,n),Hn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:nt||vn(r,n);var l=Ge,u=Dt;yi(r.type)&&(Ge=r.stateNode,Dt=!1),Hn(t,n,r),Ea(r.stateNode),Ge=l,Dt=u;break;case 5:nt||vn(r,n);case 6:if(l=Ge,u=Dt,Ge=null,Hn(t,n,r),Ge=l,Dt=u,Ge!==null)if(Dt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(r.stateNode)}catch(f){Ue(r,n,f)}else try{Ge.removeChild(r.stateNode)}catch(f){Ue(r,n,f)}break;case 18:Ge!==null&&(Dt?(t=Ge,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Na(t)):l_(Ge,r.stateNode));break;case 4:l=Ge,u=Dt,Ge=r.stateNode.containerInfo,Dt=!0,Hn(t,n,r),Ge=l,Dt=u;break;case 0:case 11:case 14:case 15:nt||ci(2,r,n),nt||ci(4,r,n),Hn(t,n,r);break;case 1:nt||(vn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&hg(r,n,l)),Hn(t,n,r);break;case 21:Hn(t,n,r);break;case 22:nt=(l=nt)||r.memoizedState!==null,Hn(t,n,r),nt=l;break;default:Hn(t,n,r)}}function Eg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Na(t)}catch(r){Ue(n,n.return,r)}}function Kb(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gg),n;default:throw Error(a(435,t.tag))}}function of(t,n){var r=Kb(t);n.forEach(function(l){var u=nS.bind(null,t,l);r.has(l)||(r.add(l),l.then(u,u))})}function qt(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l],f=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(yi(_.type)){Ge=_.stateNode,Dt=!1;break e}break;case 5:Ge=_.stateNode,Dt=!1;break e;case 3:case 4:Ge=_.stateNode.containerInfo,Dt=!0;break e}_=_.return}if(Ge===null)throw Error(a(160));vg(f,g,u),Ge=null,Dt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)bg(n,t),n=n.sibling}var ln=null;function bg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qt(n,t),jt(t),l&4&&(ci(3,t,t.return),ca(3,t),ci(5,t,t.return));break;case 1:qt(n,t),jt(t),l&512&&(nt||r===null||vn(r,r.return)),l&64&&zn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var u=ln;if(qt(n,t),jt(t),l&512&&(nt||r===null||vn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Lr]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),yt(f,l,r),f[Tt]=t,ot(f),l=f;break e;case"link":var g=m_("link","href",u).get(l+(r.href||""));if(g){for(var _=0;_<g.length;_++)if(f=g[_],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(_,1);break t}}f=u.createElement(l),yt(f,l,r),u.head.appendChild(f);break;case"meta":if(g=m_("meta","content",u).get(l+(r.content||""))){for(_=0;_<g.length;_++)if(f=g[_],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(_,1);break t}}f=u.createElement(l),yt(f,l,r),u.head.appendChild(f);break;default:throw Error(a(468,l))}f[Tt]=t,ot(f),l=f}t.stateNode=l}else g_(u,t.type,t.stateNode);else t.stateNode=p_(u,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?g_(u,t.type,t.stateNode):p_(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sf(t,t.memoizedProps,r.memoizedProps)}break;case 27:qt(n,t),jt(t),l&512&&(nt||r===null||vn(r,r.return)),r!==null&&l&4&&sf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(qt(n,t),jt(t),l&512&&(nt||r===null||vn(r,r.return)),t.flags&32){u=t.stateNode;try{Os(u,"")}catch(O){Ue(t,t.return,O)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,sf(t,u,r!==null?r.memoizedProps:u)),l&1024&&(lf=!0);break;case 6:if(qt(n,t),jt(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(O){Ue(t,t.return,O)}}break;case 3:if(wo=null,u=ln,ln=To(n.containerInfo),qt(n,t),ln=u,jt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Na(n.containerInfo)}catch(O){Ue(t,t.return,O)}lf&&(lf=!1,Sg(t));break;case 4:l=ln,ln=To(t.stateNode.containerInfo),qt(n,t),jt(t),ln=l;break;case 12:qt(n,t),jt(t);break;case 13:qt(n,t),jt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(pf=Qe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,of(t,l)));break;case 22:u=t.memoizedState!==null;var T=r!==null&&r.memoizedState!==null,A=zn,k=nt;if(zn=A||u,nt=k||T,qt(n,t),nt=k,zn=A,jt(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||T||zn||nt||ts(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){T=r=n;try{if(f=T.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=T.stateNode;var z=T.memoizedProps.style,N=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(O){Ue(T,T.return,O)}}}else if(n.tag===6){if(r===null){T=n;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(O){Ue(T,T.return,O)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,of(t,r))));break;case 19:qt(n,t),jt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,of(t,l)));break;case 30:break;case 21:break;default:qt(n,t),jt(t)}}function jt(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(pg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var u=r.stateNode,f=rf(t);uo(t,f,u);break;case 5:var g=r.stateNode;r.flags&32&&(Os(g,""),r.flags&=-33);var _=rf(t);uo(t,_,g);break;case 3:case 4:var T=r.stateNode.containerInfo,A=rf(t);af(t,A,T);break;default:throw Error(a(161))}}catch(k){Ue(t,t.return,k)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_g(t,n.alternate,n),n=n.sibling}function ts(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ci(4,n,n.return),ts(n);break;case 1:vn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&hg(n,n.return,r),ts(n);break;case 27:Ea(n.stateNode);case 26:case 5:vn(n,n.return),ts(n);break;case 22:n.memoizedState===null&&ts(n);break;case 30:ts(n);break;default:ts(n)}t=t.sibling}}function hi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:hi(u,f,r),ca(4,f);break;case 1:if(hi(u,f,r),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(A){Ue(l,l.return,A)}if(l=f,u=l.updateQueue,u!==null){var _=l.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)Zp(T[u],_)}catch(A){Ue(l,l.return,A)}}r&&g&64&&fg(f),fa(f,f.return);break;case 27:mg(f);case 26:case 5:hi(u,f,r),r&&l===null&&g&4&&dg(f),fa(f,f.return);break;case 12:hi(u,f,r);break;case 13:hi(u,f,r),r&&g&4&&Eg(u,f);break;case 22:f.memoizedState===null&&hi(u,f,r),fa(f,f.return);break;case 30:break;default:hi(u,f,r)}n=n.sibling}}function uf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xr(r))}function cf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xr(t))}function En(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tg(t,n,r,l),n=n.sibling}function Tg(t,n,r,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:En(t,n,r,l),u&2048&&ca(9,n);break;case 1:En(t,n,r,l);break;case 3:En(t,n,r,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xr(t)));break;case 12:if(u&2048){En(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,_=f.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(T){Ue(n,n.return,T)}}else En(t,n,r,l);break;case 13:En(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?En(t,n,r,l):ha(t,n):f._visibility&2?En(t,n,r,l):(f._visibility|=2,Ws(t,n,r,l,(n.subtreeFlags&10256)!==0)),u&2048&&uf(g,n);break;case 24:En(t,n,r,l),u&2048&&cf(n.alternate,n);break;default:En(t,n,r,l)}}function Ws(t,n,r,l,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,g=n,_=r,T=l,A=g.flags;switch(g.tag){case 0:case 11:case 15:Ws(f,g,_,T,u),ca(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&2?Ws(f,g,_,T,u):ha(f,g):(k._visibility|=2,Ws(f,g,_,T,u)),u&&A&2048&&uf(g.alternate,g);break;case 24:Ws(f,g,_,T,u),u&&A&2048&&cf(g.alternate,g);break;default:Ws(f,g,_,T,u)}n=n.sibling}}function ha(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,u=l.flags;switch(l.tag){case 22:ha(r,l),u&2048&&uf(l.alternate,l);break;case 24:ha(r,l),u&2048&&cf(l.alternate,l);break;default:ha(r,l)}n=n.sibling}}var da=8192;function Qs(t){if(t.subtreeFlags&da)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 26:Qs(t),t.flags&da&&t.memoizedState!==null&&IS(ln,t.memoizedState,t.memoizedProps);break;case 5:Qs(t);break;case 3:case 4:var n=ln;ln=To(t.stateNode.containerInfo),Qs(t),ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=da,da=16777216,Qs(t),da=n):Qs(t));break;default:Qs(t)}}function wg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function pa(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ct=l,Ag(l,t)}wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rg(t),t=t.sibling}function Rg(t){switch(t.tag){case 0:case 11:case 15:pa(t),t.flags&2048&&ci(9,t,t.return);break;case 3:pa(t);break;case 12:pa(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,co(t)):pa(t);break;default:pa(t)}}function co(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ct=l,Ag(l,t)}wg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ci(8,n,n.return),co(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,co(n));break;default:co(n)}t=t.sibling}}function Ag(t,n){for(;ct!==null;){var r=ct;switch(r.tag){case 0:case 11:case 15:ci(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,ct=l;else e:for(r=t;ct!==null;){l=ct;var u=l.sibling,f=l.return;if(yg(l),l===r){ct=null;break e}if(u!==null){u.return=f,ct=u;break e}ct=f}}}var Wb={getCacheForType:function(t){var n=Ct(rt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},Qb=typeof WeakMap=="function"?WeakMap:Map,Ne=0,He=null,me=null,Ee=0,Oe=0,Vt=null,di=!1,Xs=!1,ff=!1,Bn=0,Ze=0,pi=0,ns=0,hf=0,Jt=0,Zs=0,ma=null,kt=null,df=!1,pf=0,fo=1/0,ho=null,mi=null,_t=0,gi=null,$s=null,Js=0,mf=0,gf=null,Ng=null,ga=0,_f=null;function Gt(){if((Ne&2)!==0&&Ee!==0)return Ee&-Ee;if(M.T!==null){var t=Bs;return t!==0?t:Cf()}return Gd()}function Og(){Jt===0&&(Jt=(Ee&536870912)===0||Re?Bd():536870912);var t=$t.current;return t!==null&&(t.flags|=32),Jt}function Yt(t,n,r){(t===He&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(er(t,0),_i(t,Ee,Jt,!1)),kr(t,r),((Ne&2)===0||t!==He)&&(t===He&&((Ne&2)===0&&(ns|=r),Ze===4&&_i(t,Ee,Jt,!1)),bn(t))}function xg(t,n,r){if((Ne&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Dr(t,n),u=l?$b(t,n):Ef(t,n,!0),f=l;do{if(u===0){Xs&&!l&&_i(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!Xb(r)){u=Ef(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;u=ma;var T=_.current.memoizedState.isDehydrated;if(T&&(er(_,g).flags|=256),g=Ef(_,g,!1),g!==2){if(ff&&!T){_.errorRecoveryDisabledLanes|=f,ns|=f,u=4;break e}f=kt,kt=u,f!==null&&(kt===null?kt=f:kt.push.apply(kt,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){er(t,0),_i(t,n,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:_i(l,n,Jt,!di);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=pf+300-Qe(),10<u)){if(_i(l,n,Jt,!di),Tl(l,0,!0)!==0)break e;l.timeoutHandle=r_(Mg.bind(null,l,r,kt,ho,df,n,Jt,ns,Zs,di,f,2,-0,0),u);break e}Mg(l,r,kt,ho,df,n,Jt,ns,Zs,di,f,0,-0,0)}}break}while(!0);bn(t)}function Mg(t,n,r,l,u,f,g,_,T,A,k,z,N,O){if(t.timeoutHandle=-1,z=n.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(Ta={stylesheets:null,count:0,unsuspend:MS},Cg(n),z=DS(),z!==null)){t.cancelPendingCommit=z(zg.bind(null,t,n,f,r,l,u,g,_,T,k,1,N,O)),_i(t,f,g,!A);return}zg(t,n,f,r,l,u,g,_,T)}function Xb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var u=r[l],f=u.getSnapshot;u=u.value;try{if(!Ht(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _i(t,n,r,l){n&=~hf,n&=~ns,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-St(u),g=1<<f;l[f]=-1,u&=~g}r!==0&&jd(t,r,n)}function po(){return(Ne&6)===0?(_a(0),!1):!0}function yf(){if(me!==null){if(Oe===0)var t=me.return;else t=me,In=Xi=null,kc(t),Fs=null,la=0,t=me;for(;t!==null;)cg(t.alternate,t),t=t.return;me=null}}function er(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,pS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),yf(),He=t,me=r=On(t.current,null),Ee=n,Oe=0,Vt=null,di=!1,Xs=Dr(t,n),ff=!1,Zs=Jt=hf=ns=pi=Ze=0,kt=ma=null,df=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-St(l),f=1<<u;n|=t[u],l&=~f}return Bn=n,Ll(),r}function Ig(t,n){fe=null,M.H=eo,n===$r||n===Gl?(n=Qp(),Oe=3):n===Fp?(n=Qp(),Oe=4):Oe=n===Xm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vt=n,me===null&&(Ze=1,ro(t,Wt(n,t.current)))}function Dg(){var t=M.H;return M.H=eo,t===null?eo:t}function kg(){var t=M.A;return M.A=Wb,t}function vf(){Ze=4,di||(Ee&4194048)!==Ee&&$t.current!==null||(Xs=!0),(pi&134217727)===0&&(ns&134217727)===0||He===null||_i(He,Ee,Jt,!1)}function Ef(t,n,r){var l=Ne;Ne|=2;var u=Dg(),f=kg();(He!==t||Ee!==n)&&(ho=null,er(t,n)),n=!1;var g=Ze;e:do try{if(Oe!==0&&me!==null){var _=me,T=Vt;switch(Oe){case 8:yf(),g=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(n=!0);var A=Oe;if(Oe=0,Vt=null,tr(t,_,T,A),r&&Xs){g=0;break e}break;default:A=Oe,Oe=0,Vt=null,tr(t,_,T,A)}}Zb(),g=Ze;break}catch(k){Ig(t,k)}while(!0);return n&&t.shellSuspendCounter++,In=Xi=null,Ne=l,M.H=u,M.A=f,me===null&&(He=null,Ee=0,Ll()),g}function Zb(){for(;me!==null;)Lg(me)}function $b(t,n){var r=Ne;Ne|=2;var l=Dg(),u=kg();He!==t||Ee!==n?(ho=null,fo=Qe()+500,er(t,n)):Xs=Dr(t,n);e:do try{if(Oe!==0&&me!==null){n=me;var f=Vt;t:switch(Oe){case 1:Oe=0,Vt=null,tr(t,n,f,1);break;case 2:case 9:if(Kp(f)){Oe=0,Vt=null,Ug(n);break}n=function(){Oe!==2&&Oe!==9||He!==t||(Oe=7),bn(t)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Kp(f)?(Oe=0,Vt=null,Ug(n)):(Oe=0,Vt=null,tr(t,n,f,7));break;case 5:var g=null;switch(me.tag){case 26:g=me.memoizedState;case 5:case 27:var _=me;if(!g||__(g)){Oe=0,Vt=null;var T=_.sibling;if(T!==null)me=T;else{var A=_.return;A!==null?(me=A,mo(A)):me=null}break t}}Oe=0,Vt=null,tr(t,n,f,5);break;case 6:Oe=0,Vt=null,tr(t,n,f,6);break;case 8:yf(),Ze=6;break e;default:throw Error(a(462))}}Jb();break}catch(k){Ig(t,k)}while(!0);return In=Xi=null,M.H=l,M.A=u,Ne=r,me!==null?0:(He=null,Ee=0,Ll(),Ze)}function Jb(){for(;me!==null&&!bt();)Lg(me)}function Lg(t){var n=og(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,n===null?mo(t):me=n}function Ug(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ng(r,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=ng(r,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:kc(n);default:cg(r,n),n=me=Pp(n,Bn),n=og(r,n,Bn)}t.memoizedProps=t.pendingProps,n===null?mo(t):me=n}function tr(t,n,r,l){In=Xi=null,kc(n),Fs=null,la=0;var u=n.return;try{if(jb(t,u,n,r,Ee)){Ze=1,ro(t,Wt(r,t.current)),me=null;return}}catch(f){if(u!==null)throw me=u,f;Ze=1,ro(t,Wt(r,t.current)),me=null;return}n.flags&32768?(Re||l===1?t=!0:Xs||(Ee&536870912)!==0?t=!1:(di=t=!0,(l===2||l===9||l===3||l===6)&&(l=$t.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pg(n,t)):mo(n)}function mo(t){var n=t;do{if((n.flags&32768)!==0){Pg(n,di);return}t=n.return;var r=Gb(n.alternate,n,Bn);if(r!==null){me=r;return}if(n=n.sibling,n!==null){me=n;return}me=n=t}while(n!==null);Ze===0&&(Ze=5)}function Pg(t,n){do{var r=Yb(t.alternate,t);if(r!==null){r.flags&=32767,me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){me=t;return}me=t=r}while(t!==null);Ze=6,me=null}function zg(t,n,r,l,u,f,g,_,T){t.cancelPendingCommit=null;do go();while(_t!==0);if((Ne&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=uc,M0(t,r,f,g,_,T),t===He&&(me=He=null,Ee=0),$s=n,gi=t,Js=r,mf=f,gf=u,Ng=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iS(Es,function(){return Vg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=G.p,G.p=2,g=Ne,Ne|=4;try{Fb(t,n,r)}finally{Ne=g,G.p=u,M.T=l}}_t=1,Hg(),Bg(),qg()}}function Hg(){if(_t===1){_t=0;var t=gi,n=$s,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var l=G.p;G.p=2;var u=Ne;Ne|=4;try{bg(n,t);var f=If,g=Ap(t.containerInfo),_=f.focusedElem,T=f.selectionRange;if(g!==_&&_&&_.ownerDocument&&Rp(_.ownerDocument.documentElement,_)){if(T!==null&&sc(_)){var A=T.start,k=T.end;if(k===void 0&&(k=A),"selectionStart"in _)_.selectionStart=A,_.selectionEnd=Math.min(k,_.value.length);else{var z=_.ownerDocument||document,N=z&&z.defaultView||window;if(N.getSelection){var O=N.getSelection(),le=_.textContent.length,te=Math.min(T.start,le),Ie=T.end===void 0?te:Math.min(T.end,le);!O.extend&&te>Ie&&(g=Ie,Ie=te,te=g);var w=wp(_,te),C=wp(_,Ie);if(w&&C&&(O.rangeCount!==1||O.anchorNode!==w.node||O.anchorOffset!==w.offset||O.focusNode!==C.node||O.focusOffset!==C.offset)){var R=z.createRange();R.setStart(w.node,w.offset),O.removeAllRanges(),te>Ie?(O.addRange(R),O.extend(C.node,C.offset)):(R.setEnd(C.node,C.offset),O.addRange(R))}}}}for(z=[],O=_;O=O.parentNode;)O.nodeType===1&&z.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var P=z[_];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}No=!!Mf,If=Mf=null}finally{Ne=u,G.p=l,M.T=r}}t.current=n,_t=2}}function Bg(){if(_t===2){_t=0;var t=gi,n=$s,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var l=G.p;G.p=2;var u=Ne;Ne|=4;try{_g(t,n.alternate,n)}finally{Ne=u,G.p=l,M.T=r}}_t=3}}function qg(){if(_t===4||_t===3){_t=0,Pt();var t=gi,n=$s,r=Js,l=Ng;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?_t=5:(_t=0,$s=gi=null,jg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(mi=null),Pu(r),n=n.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,u=G.p,G.p=2,M.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var _=l[g];f(_.value,{componentStack:_.stack})}}finally{M.T=n,G.p=u}}(Js&3)!==0&&go(),bn(t),u=t.pendingLanes,(r&4194090)!==0&&(u&42)!==0?t===_f?ga++:(ga=0,_f=t):ga=0,_a(0)}}function jg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xr(n)))}function go(t){return Hg(),Bg(),qg(),Vg()}function Vg(){if(_t!==5)return!1;var t=gi,n=mf;mf=0;var r=Pu(Js),l=M.T,u=G.p;try{G.p=32>r?32:r,M.T=null,r=gf,gf=null;var f=gi,g=Js;if(_t=0,$s=gi=null,Js=0,(Ne&6)!==0)throw Error(a(331));var _=Ne;if(Ne|=4,Rg(f.current),Tg(f,f.current,g,r),Ne=_,_a(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(ei,f)}catch{}return!0}finally{G.p=u,M.T=l,jg(t,n)}}function Gg(t,n,r){n=Wt(r,n),n=Wc(t.stateNode,n,2),t=ai(t,n,2),t!==null&&(kr(t,2),bn(t))}function Ue(t,n,r){if(t.tag===3)Gg(t,t,r);else for(;n!==null;){if(n.tag===3){Gg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mi===null||!mi.has(l))){t=Wt(r,t),r=Wm(2),l=ai(n,r,2),l!==null&&(Qm(r,l,n,t),kr(l,2),bn(l));break}}n=n.return}}function bf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Qb;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(r)||(ff=!0,u.add(r),t=eS.bind(null,t,n,r),n.then(t,t))}function eS(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,He===t&&(Ee&r)===r&&(Ze===4||Ze===3&&(Ee&62914560)===Ee&&300>Qe()-pf?(Ne&2)===0&&er(t,0):hf|=r,Zs===Ee&&(Zs=0)),bn(t)}function Yg(t,n){n===0&&(n=qd()),t=Us(t,n),t!==null&&(kr(t,n),bn(t))}function tS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Yg(t,r)}function nS(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Yg(t,r)}function iS(t,n){return et(t,n)}var _o=null,nr=null,Sf=!1,yo=!1,Tf=!1,is=0;function bn(t){t!==nr&&t.next===null&&(nr===null?_o=nr=t:nr=nr.next=t),yo=!0,Sf||(Sf=!0,rS())}function _a(t,n){if(!Tf&&yo){Tf=!0;do for(var r=!1,l=_o;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-St(42|t)+1)-1,f&=u&~(g&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Qg(l,f))}else f=Ee,f=Tl(l,l===He?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Dr(l,f)||(r=!0,Qg(l,f));l=l.next}while(r);Tf=!1}}function sS(){Fg()}function Fg(){yo=Sf=!1;var t=0;is!==0&&(dS()&&(t=is),is=0);for(var n=Qe(),r=null,l=_o;l!==null;){var u=l.next,f=Kg(l,n);f===0?(l.next=null,r===null?_o=u:r.next=u,u===null&&(nr=r)):(r=l,(t!==0||(f&3)!==0)&&(yo=!0)),l=u}_a(t)}function Kg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-St(f),_=1<<g,T=u[g];T===-1?((_&r)===0||(_&l)!==0)&&(u[g]=x0(_,n)):T<=n&&(t.expiredLanes|=_),f&=~_}if(n=He,r=Ee,r=Tl(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pe(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Dr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&pe(l),Pu(r)){case 2:case 8:r=zt;break;case 32:r=Es;break;case 268435456:r=vl;break;default:r=Es}return l=Wg.bind(null,t),r=et(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&pe(l),t.callbackPriority=2,t.callbackNode=null,2}function Wg(t,n){if(_t!==0&&_t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(go()&&t.callbackNode!==r)return null;var l=Ee;return l=Tl(t,t===He?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xg(t,l,n),Kg(t,Qe()),t.callbackNode!=null&&t.callbackNode===r?Wg.bind(null,t):null)}function Qg(t,n){if(go())return null;xg(t,n,!0)}function rS(){mS(function(){(Ne&6)!==0?et(mn,sS):Fg()})}function Cf(){return is===0&&(is=Bd()),is}function Xg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Nl(""+t)}function Zg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function aS(t,n,r,l,u){if(n==="submit"&&r&&r.stateNode===u){var f=Xg((u[xt]||null).action),g=l.submitter;g&&(n=(n=g[xt]||null)?Xg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var _=new Il("action","action",null,l,u);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var T=g?Zg(u,g):new FormData(u);Vc(r,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(_.preventDefault(),T=g?Zg(u,g):new FormData(u),Vc(r,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var wf=0;wf<oc.length;wf++){var Rf=oc[wf],lS=Rf.toLowerCase(),oS=Rf[0].toUpperCase()+Rf.slice(1);an(lS,"on"+oS)}an(xp,"onAnimationEnd"),an(Mp,"onAnimationIteration"),an(Ip,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(wb,"onTransitionRun"),an(Rb,"onTransitionStart"),an(Ab,"onTransitionCancel"),an(Dp,"onTransitionEnd"),Rs("onMouseEnter",["mouseout","mouseover"]),Rs("onMouseLeave",["mouseout","mouseover"]),Rs("onPointerEnter",["pointerout","pointerover"]),Rs("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ya));function $g(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],T=_.instance,A=_.currentTarget;if(_=_.listener,T!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=A;try{f(u)}catch(k){so(k)}u.currentTarget=null,f=T}else for(g=0;g<l.length;g++){if(_=l[g],T=_.instance,A=_.currentTarget,_=_.listener,T!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=A;try{f(u)}catch(k){so(k)}u.currentTarget=null,f=T}}}}function ge(t,n){var r=n[zu];r===void 0&&(r=n[zu]=new Set);var l=t+"__bubble";r.has(l)||(Jg(n,t,2,!1),r.add(l))}function Af(t,n,r){var l=0;n&&(l|=4),Jg(r,t,l,n)}var vo="_reactListening"+Math.random().toString(36).slice(2);function Nf(t){if(!t[vo]){t[vo]=!0,Fd.forEach(function(r){r!=="selectionchange"&&(uS.has(r)||Af(r,!1,t),Af(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vo]||(n[vo]=!0,Af("selectionchange",!1,n))}}function Jg(t,n,r,l){switch(T_(n)){case 2:var u=US;break;case 8:u=PS;break;default:u=jf}r=u.bind(null,n,r,t),u=void 0,!Qu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Of(t,n,r,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===u)break;if(g===4)for(g=l.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;_!==null;){if(g=Ts(_),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){l=f=g;continue e}_=_.parentNode}}l=l.return}ap(function(){var A=f,k=Ku(r),z=[];e:{var N=kp.get(t);if(N!==void 0){var O=Il,le=t;switch(t){case"keypress":if(xl(r)===0)break e;case"keydown":case"keyup":O=ib;break;case"focusin":le="focus",O=Ju;break;case"focusout":le="blur",O=Ju;break;case"beforeblur":case"afterblur":O=Ju;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=ab;break;case xp:case Mp:case Ip:O=W0;break;case Dp:O=ob;break;case"scroll":case"scrollend":O=V0;break;case"wheel":O=cb;break;case"copy":case"cut":case"paste":O=X0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=fp;break;case"toggle":case"beforetoggle":O=hb}var te=(n&4)!==0,Ie=!te&&(t==="scroll"||t==="scrollend"),w=te?N!==null?N+"Capture":null:N;te=[];for(var C=A,R;C!==null;){var P=C;if(R=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||R===null||w===null||(P=Pr(C,w),P!=null&&te.push(va(C,P,R))),Ie)break;C=C.return}0<te.length&&(N=new O(N,le,null,r,k),z.push({event:N,listeners:te}))}}if((n&7)===0){e:{if(N=t==="mouseover"||t==="pointerover",O=t==="mouseout"||t==="pointerout",N&&r!==Fu&&(le=r.relatedTarget||r.fromElement)&&(Ts(le)||le[Ss]))break e;if((O||N)&&(N=k.window===k?k:(N=k.ownerDocument)?N.defaultView||N.parentWindow:window,O?(le=r.relatedTarget||r.toElement,O=A,le=le?Ts(le):null,le!==null&&(Ie=c(le),te=le.tag,le!==Ie||te!==5&&te!==27&&te!==6)&&(le=null)):(O=null,le=A),O!==le)){if(te=up,P="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(te=fp,P="onPointerLeave",w="onPointerEnter",C="pointer"),Ie=O==null?N:Ur(O),R=le==null?N:Ur(le),N=new te(P,C+"leave",O,r,k),N.target=Ie,N.relatedTarget=R,P=null,Ts(k)===A&&(te=new te(w,C+"enter",le,r,k),te.target=R,te.relatedTarget=Ie,P=te),Ie=P,O&&le)t:{for(te=O,w=le,C=0,R=te;R;R=ir(R))C++;for(R=0,P=w;P;P=ir(P))R++;for(;0<C-R;)te=ir(te),C--;for(;0<R-C;)w=ir(w),R--;for(;C--;){if(te===w||w!==null&&te===w.alternate)break t;te=ir(te),w=ir(w)}te=null}else te=null;O!==null&&e_(z,N,O,te,!1),le!==null&&Ie!==null&&e_(z,Ie,le,te,!0)}}e:{if(N=A?Ur(A):window,O=N.nodeName&&N.nodeName.toLowerCase(),O==="select"||O==="input"&&N.type==="file")var X=vp;else if(_p(N))if(Ep)X=Sb;else{X=Eb;var he=vb}else O=N.nodeName,!O||O.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?A&&Yu(A.elementType)&&(X=vp):X=bb;if(X&&(X=X(t,A))){yp(z,X,r,k);break e}he&&he(t,N,A),t==="focusout"&&A&&N.type==="number"&&A.memoizedProps.value!=null&&Gu(N,"number",N.value)}switch(he=A?Ur(A):window,t){case"focusin":(_p(he)||he.contentEditable==="true")&&(Ds=he,rc=A,Yr=null);break;case"focusout":Yr=rc=Ds=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,Np(z,r,k);break;case"selectionchange":if(Cb)break;case"keydown":case"keyup":Np(z,r,k)}var J;if(tc)e:{switch(t){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Is?mp(t,r)&&(ne="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ne="onCompositionStart");ne&&(hp&&r.locale!=="ko"&&(Is||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Is&&(J=lp()):(ni=k,Xu="value"in ni?ni.value:ni.textContent,Is=!0)),he=Eo(A,ne),0<he.length&&(ne=new cp(ne,t,null,r,k),z.push({event:ne,listeners:he}),J?ne.data=J:(J=gp(r),J!==null&&(ne.data=J)))),(J=pb?mb(t,r):gb(t,r))&&(ne=Eo(A,"onBeforeInput"),0<ne.length&&(he=new cp("onBeforeInput","beforeinput",null,r,k),z.push({event:he,listeners:ne}),he.data=J)),aS(z,t,A,r,k)}$g(z,n)})}function va(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Eo(t,n){for(var r=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Pr(t,r),u!=null&&l.unshift(va(t,u,f)),u=Pr(t,n),u!=null&&l.push(va(t,u,f))),t.tag===3)return l;t=t.return}return[]}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e_(t,n,r,l,u){for(var f=n._reactName,g=[];r!==null&&r!==l;){var _=r,T=_.alternate,A=_.stateNode;if(_=_.tag,T!==null&&T===l)break;_!==5&&_!==26&&_!==27||A===null||(T=A,u?(A=Pr(r,f),A!=null&&g.unshift(va(r,A,T))):u||(A=Pr(r,f),A!=null&&g.push(va(r,A,T)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var cS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(cS,`
`).replace(fS,"")}function n_(t,n){return n=t_(n),t_(t)===n}function bo(){}function Me(t,n,r,l,u,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Os(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Os(t,""+l);break;case"className":wl(t,"class",l);break;case"tabIndex":wl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(t,r,l);break;case"style":sp(t,l,f);break;case"data":if(n!=="object"){wl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Nl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Me(t,n,"name",u.name,u,null),Me(t,n,"formEncType",u.formEncType,u,null),Me(t,n,"formMethod",u.formMethod,u,null),Me(t,n,"formTarget",u.formTarget,u,null)):(Me(t,n,"encType",u.encType,u,null),Me(t,n,"method",u.method,u,null),Me(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Nl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=bo);break;case"onScroll":l!=null&&ge("scroll",t);break;case"onScrollEnd":l!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Nl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ge("beforetoggle",t),ge("toggle",t),Cl(t,"popover",l);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Cl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=q0.get(r)||r,Cl(t,r,l))}}function xf(t,n,r,l,u,f){switch(r){case"style":sp(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Os(t,l):(typeof l=="number"||typeof l=="bigint")&&Os(t,""+l);break;case"onScroll":l!=null&&ge("scroll",t);break;case"onScrollEnd":l!=null&&ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[xt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,u);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Cl(t,r,l)}}}function yt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var l=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Me(t,n,f,g,r,null)}}u&&Me(t,n,"srcSet",r.srcSet,r,null),l&&Me(t,n,"src",r.src,r,null);return;case"input":ge("invalid",t);var _=f=g=u=null,T=null,A=null;for(l in r)if(r.hasOwnProperty(l)){var k=r[l];if(k!=null)switch(l){case"name":u=k;break;case"type":g=k;break;case"checked":T=k;break;case"defaultChecked":A=k;break;case"value":f=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Me(t,n,l,k,r,null)}}ep(t,f,_,T,A,g,u,!1),Rl(t);return;case"select":ge("invalid",t),l=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(_=r[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Me(t,n,u,_,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Ns(t,!!l,n,!1):r!=null&&Ns(t,!!l,r,!0);return;case"textarea":ge("invalid",t),f=u=l=null;for(g in r)if(r.hasOwnProperty(g)&&(_=r[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Me(t,n,g,_,r,null)}np(t,l,u,f),Rl(t);return;case"option":for(T in r)if(r.hasOwnProperty(T)&&(l=r[T],l!=null))switch(T){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(t,n,T,l,r,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(l=0;l<ya.length;l++)ge(ya[l],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Me(t,n,A,l,r,null)}return;default:if(Yu(n)){for(k in r)r.hasOwnProperty(k)&&(l=r[k],l!==void 0&&xf(t,n,k,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Me(t,n,_,l,r,null))}function hS(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,_=null,T=null,A=null,k=null;for(O in r){var z=r[O];if(r.hasOwnProperty(O)&&z!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":T=z;default:l.hasOwnProperty(O)||Me(t,n,O,null,l,z)}}for(var N in l){var O=l[N];if(z=r[N],l.hasOwnProperty(N)&&(O!=null||z!=null))switch(N){case"type":f=O;break;case"name":u=O;break;case"checked":A=O;break;case"defaultChecked":k=O;break;case"value":g=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:O!==z&&Me(t,n,N,O,l,z)}}Vu(t,g,_,T,A,k,f,u);return;case"select":O=g=_=N=null;for(f in r)if(T=r[f],r.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":O=T;default:l.hasOwnProperty(f)||Me(t,n,f,null,l,T)}for(u in l)if(f=l[u],T=r[u],l.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":N=f;break;case"defaultValue":_=f;break;case"multiple":g=f;default:f!==T&&Me(t,n,u,f,l,T)}n=_,r=g,l=O,N!=null?Ns(t,!!r,N,!1):!!l!=!!r&&(n!=null?Ns(t,!!r,n,!0):Ns(t,!!r,r?[]:"",!1));return;case"textarea":O=N=null;for(_ in r)if(u=r[_],r.hasOwnProperty(_)&&u!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Me(t,n,_,null,l,u)}for(g in l)if(u=l[g],f=r[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":N=u;break;case"defaultValue":O=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&Me(t,n,g,u,l,f)}tp(t,N,O);return;case"option":for(var le in r)if(N=r[le],r.hasOwnProperty(le)&&N!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Me(t,n,le,null,l,N)}for(T in l)if(N=l[T],O=r[T],l.hasOwnProperty(T)&&N!==O&&(N!=null||O!=null))switch(T){case"selected":t.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Me(t,n,T,N,l,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in r)N=r[te],r.hasOwnProperty(te)&&N!=null&&!l.hasOwnProperty(te)&&Me(t,n,te,null,l,N);for(A in l)if(N=l[A],O=r[A],l.hasOwnProperty(A)&&N!==O&&(N!=null||O!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,n));break;default:Me(t,n,A,N,l,O)}return;default:if(Yu(n)){for(var Ie in r)N=r[Ie],r.hasOwnProperty(Ie)&&N!==void 0&&!l.hasOwnProperty(Ie)&&xf(t,n,Ie,void 0,l,N);for(k in l)N=l[k],O=r[k],!l.hasOwnProperty(k)||N===O||N===void 0&&O===void 0||xf(t,n,k,N,l,O);return}}for(var w in r)N=r[w],r.hasOwnProperty(w)&&N!=null&&!l.hasOwnProperty(w)&&Me(t,n,w,null,l,N);for(z in l)N=l[z],O=r[z],!l.hasOwnProperty(z)||N===O||N==null&&O==null||Me(t,n,z,N,l,O)}var Mf=null,If=null;function So(t){return t.nodeType===9?t:t.ownerDocument}function i_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var kf=null;function dS(){var t=window.event;return t&&t.type==="popstate"?t===kf?!1:(kf=t,!0):(kf=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,pS=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(gS)}:r_;function gS(t){setTimeout(function(){throw t})}function yi(t){return t==="head"}function l_(t,n){var r=n,l=0,u=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var g=t.ownerDocument;if(r&1&&Ea(g.documentElement),r&2&&Ea(g.body),r&4)for(r=g.head,Ea(r),g=r.firstChild;g;){var _=g.nextSibling,T=g.nodeName;g[Lr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=_}}if(u===0){t.removeChild(f),Na(n);return}u--}else r==="$"||r==="$?"||r==="$!"?u++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Na(n)}function Lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Lf(r),Hu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function _S(t,n,r,l){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Lr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=on(t.nextSibling),t===null)break}return null}function yS(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=on(t.nextSibling),t===null))return null;return t}function Uf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function vS(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function on(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Pf=null;function o_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function u_(t,n,r){switch(n=So(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ea(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Hu(t)}var en=new Map,c_=new Set;function To(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qn=G.d;G.d={f:ES,r:bS,D:SS,C:TS,L:CS,m:wS,X:AS,S:RS,M:NS};function ES(){var t=qn.f(),n=po();return t||n}function bS(t){var n=Cs(t);n!==null&&n.tag===5&&n.type==="form"?xm(n):qn.r(t)}var sr=typeof document>"u"?null:document;function f_(t,n,r){var l=sr;if(l&&typeof n=="string"&&n){var u=Kt(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),c_.has(u)||(c_.add(u),t={rel:t,crossOrigin:r,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),yt(n,"link",t),ot(n),l.head.appendChild(n)))}}function SS(t){qn.D(t),f_("dns-prefetch",t,null)}function TS(t,n){qn.C(t,n),f_("preconnect",t,n)}function CS(t,n,r){qn.L(t,n,r);var l=sr;if(l&&t&&n){var u='link[rel="preload"][as="'+Kt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Kt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Kt(r.imageSizes)+'"]')):u+='[href="'+Kt(t)+'"]';var f=u;switch(n){case"style":f=rr(t);break;case"script":f=ar(t)}en.has(f)||(t=v({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),en.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(ba(f))||n==="script"&&l.querySelector(Sa(f))||(n=l.createElement("link"),yt(n,"link",t),ot(n),l.head.appendChild(n)))}}function wS(t,n){qn.m(t,n);var r=sr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ar(t)}if(!en.has(f)&&(t=v({rel:"modulepreload",href:t},n),en.set(f,t),r.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sa(f)))return}l=r.createElement("link"),yt(l,"link",t),ot(l),r.head.appendChild(l)}}}function RS(t,n,r){qn.S(t,n,r);var l=sr;if(l&&t){var u=ws(l).hoistableStyles,f=rr(t);n=n||"default";var g=u.get(f);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(ba(f)))_.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},r),(r=en.get(f))&&zf(t,r);var T=g=l.createElement("link");ot(T),yt(T,"link",t),T._p=new Promise(function(A,k){T.onload=A,T.onerror=k}),T.addEventListener("load",function(){_.loading|=1}),T.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Co(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},u.set(f,g)}}}function AS(t,n){qn.X(t,n);var r=sr;if(r&&t){var l=ws(r).hoistableScripts,u=ar(t),f=l.get(u);f||(f=r.querySelector(Sa(u)),f||(t=v({src:t,async:!0},n),(n=en.get(u))&&Hf(t,n),f=r.createElement("script"),ot(f),yt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function NS(t,n){qn.M(t,n);var r=sr;if(r&&t){var l=ws(r).hoistableScripts,u=ar(t),f=l.get(u);f||(f=r.querySelector(Sa(u)),f||(t=v({src:t,async:!0,type:"module"},n),(n=en.get(u))&&Hf(t,n),f=r.createElement("script"),ot(f),yt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function h_(t,n,r,l){var u=(u=V.current)?To(u):null;if(!u)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=rr(r.href),r=ws(u).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=rr(r.href);var f=ws(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(ba(t)))&&!f._p&&(g.instance=f,g.state.loading=5),en.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},en.set(t,r),f||OS(u,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ar(r),r=ws(u).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function rr(t){return'href="'+Kt(t)+'"'}function ba(t){return'link[rel="stylesheet"]['+t+"]"}function d_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function OS(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),yt(n,"link",r),ot(n),t.head.appendChild(n))}function ar(t){return'[src="'+Kt(t)+'"]'}function Sa(t){return"script[async]"+t}function p_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Kt(r.href)+'"]');if(l)return n.instance=l,ot(l),l;var u=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ot(l),yt(l,"style",u),Co(l,r.precedence,t),n.instance=l;case"stylesheet":u=rr(r.href);var f=t.querySelector(ba(u));if(f)return n.state.loading|=4,n.instance=f,ot(f),f;l=d_(r),(u=en.get(u))&&zf(l,u),f=(t.ownerDocument||t).createElement("link"),ot(f);var g=f;return g._p=new Promise(function(_,T){g.onload=_,g.onerror=T}),yt(f,"link",l),n.state.loading|=4,Co(f,r.precedence,t),n.instance=f;case"script":return f=ar(r.src),(u=t.querySelector(Sa(f)))?(n.instance=u,ot(u),u):(l=r,(u=en.get(f))&&(l=v({},r),Hf(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),ot(u),yt(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Co(l,r.precedence,t));return n.instance}function Co(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wo=null;function m_(t,n,r){if(wo===null){var l=new Map,u=wo=new Map;u.set(r,l)}else u=wo,l=u.get(r),l||(l=new Map,u.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[Lr]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(f):l.set(g,[f])}}return l}function g_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function xS(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function __(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ta=null;function MS(){}function IS(t,n,r){if(Ta===null)throw Error(a(475));var l=Ta;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=rr(r.href),f=t.querySelector(ba(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ro.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ot(f);return}f=t.ownerDocument||t,r=d_(r),(u=en.get(u))&&zf(r,u),f=f.createElement("link"),ot(f);var g=f;g._p=new Promise(function(_,T){g.onload=_,g.onerror=T}),yt(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ro.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function DS(){if(Ta===null)throw Error(a(475));var t=Ta;return t.stylesheets&&t.count===0&&Bf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Bf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Ro(){if(this.count--,this.count===0){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ao=null;function Bf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ao=new Map,n.forEach(kS,t),Ao=null,Ro.call(t))}function kS(t,n){if(!(n.state.loading&4)){var r=Ao.get(t);if(r)var l=r.get(null);else{r=new Map,Ao.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,u),r.set(g,u),this.count++,l=Ro.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var Ca={$$typeof:$,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function LS(t,n,r,l,u,f,g,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lu(0),this.hiddenUpdates=Lu(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function y_(t,n,r,l,u,f,g,_,T,A,k,z){return t=new LS(t,n,r,g,_,T,A,z),n=1,f===!0&&(n|=24),f=Bt(3,null,null,n),t.current=f,f.stateNode=t,n=Ec(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Cc(f),t}function v_(t){return t?(t=Ps,t):Ps}function E_(t,n,r,l,u,f){u=v_(u),l.context===null?l.context=u:l.pendingContext=u,l=ri(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ai(t,l,n),r!==null&&(Yt(r,t,n),ea(r,t,n))}function b_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function qf(t,n){b_(t,n),(t=t.alternate)&&b_(t,n)}function S_(t){if(t.tag===13){var n=Us(t,67108864);n!==null&&Yt(n,t,67108864),qf(t,67108864)}}var No=!0;function US(t,n,r,l){var u=M.T;M.T=null;var f=G.p;try{G.p=2,jf(t,n,r,l)}finally{G.p=f,M.T=u}}function PS(t,n,r,l){var u=M.T;M.T=null;var f=G.p;try{G.p=8,jf(t,n,r,l)}finally{G.p=f,M.T=u}}function jf(t,n,r,l){if(No){var u=Vf(l);if(u===null)Of(t,n,l,Oo,r),C_(t,l);else if(HS(u,t,n,r,l))l.stopPropagation();else if(C_(t,l),n&4&&-1<zS.indexOf(t)){for(;u!==null;){var f=Cs(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Bi(f.pendingLanes);if(g!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var T=1<<31-St(g);_.entanglements[1]|=T,g&=~T}bn(f),(Ne&6)===0&&(fo=Qe()+500,_a(0))}}break;case 13:_=Us(f,2),_!==null&&Yt(_,f,2),po(),qf(f,2)}if(f=Vf(l),f===null&&Of(t,n,l,Oo,r),f===u)break;u=f}u!==null&&l.stopPropagation()}else Of(t,n,l,null,r)}}function Vf(t){return t=Ku(t),Gf(t)}var Oo=null;function Gf(t){if(Oo=null,t=Ts(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=h(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Oo=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case mn:return 2;case zt:return 8;case Es:case Iu:return 32;case vl:return 268435456;default:return 32}default:return 32}}var Yf=!1,vi=null,Ei=null,bi=null,wa=new Map,Ra=new Map,Si=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(t,n){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":wa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(n.pointerId)}}function Aa(t,n,r,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Cs(n),n!==null&&S_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function HS(t,n,r,l,u){switch(n){case"focusin":return vi=Aa(vi,t,n,r,l,u),!0;case"dragenter":return Ei=Aa(Ei,t,n,r,l,u),!0;case"mouseover":return bi=Aa(bi,t,n,r,l,u),!0;case"pointerover":var f=u.pointerId;return wa.set(f,Aa(wa.get(f)||null,t,n,r,l,u)),!0;case"gotpointercapture":return f=u.pointerId,Ra.set(f,Aa(Ra.get(f)||null,t,n,r,l,u)),!0}return!1}function w_(t){var n=Ts(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=h(r),n!==null){t.blockedOn=n,I0(t.priority,function(){if(r.tag===13){var l=Gt();l=Uu(l);var u=Us(r,l);u!==null&&Yt(u,r,l),qf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Fu=l,r.target.dispatchEvent(l),Fu=null}else return n=Cs(r),n!==null&&S_(n),t.blockedOn=r,!1;n.shift()}return!0}function R_(t,n,r){xo(t)&&r.delete(n)}function BS(){Yf=!1,vi!==null&&xo(vi)&&(vi=null),Ei!==null&&xo(Ei)&&(Ei=null),bi!==null&&xo(bi)&&(bi=null),wa.forEach(R_),Ra.forEach(R_)}function Mo(t,n){t.blockedOn===n&&(t.blockedOn=null,Yf||(Yf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,BS)))}var Io=null;function A_(t){Io!==t&&(Io=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Io===t&&(Io=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(Gf(l||r)===null)continue;break}var f=Cs(r);f!==null&&(t.splice(n,3),n-=3,Vc(f,{pending:!0,data:u,method:r.method,action:l},l,u))}}))}function Na(t){function n(T){return Mo(T,t)}vi!==null&&Mo(vi,t),Ei!==null&&Mo(Ei,t),bi!==null&&Mo(bi,t),wa.forEach(n),Ra.forEach(n);for(var r=0;r<Si.length;r++){var l=Si[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Si.length&&(r=Si[0],r.blockedOn===null);)w_(r),r.blockedOn===null&&Si.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var u=r[l],f=r[l+1],g=u[xt]||null;if(typeof f=="function")g||A_(r);else if(g){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[xt]||null)_=g.formAction;else if(Gf(u)!==null)continue}else _=g.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),A_(r)}}}function Ff(t){this._internalRoot=t}Do.prototype.render=Ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Gt();E_(r,l,t,n,null,null)},Do.prototype.unmount=Ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;E_(t.current,2,null,t,null,null),po(),n[Ss]=null}};function Do(t){this._internalRoot=t}Do.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gd();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Si.length&&n!==0&&n<Si[r].priority;r++);Si.splice(r,0,t),r===0&&w_(t)}};var N_=e.version;if(N_!=="19.1.1")throw Error(a(527,N_,"19.1.1"));G.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var qS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{ei=ko.inject(qS),Rt=ko}catch{}}return xa.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",u=Gm,f=Ym,g=Fm,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=y_(t,1,!1,null,null,r,l,u,f,g,_,null),t[Ss]=n.current,Nf(t),new Ff(n)},xa.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,u="",f=Gm,g=Ym,_=Fm,T=null,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks),r.formState!==void 0&&(A=r.formState)),n=y_(t,1,!0,n,r??null,l,u,f,g,_,T,A),n.context=v_(null),r=n.current,l=Gt(),l=Uu(l),u=ri(l),u.callback=null,ai(r,u,l),r=l,n.current.lanes=r,kr(n,r),bn(n),t[Ss]=n.current,Nf(t),new Do(n)},xa.version="19.1.1",xa}var z_;function $S(){if(z_)return Qf.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qf.exports=ZS(),Qf.exports}var JS=$S();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H_="popstate";function eT(s={}){function e(o,c){let{pathname:h="/",search:d="",hash:p=""}=ms(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),gh("",{pathname:h,search:d,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");d=m===-1?p:p.slice(0,m)}return d+"#"+(typeof c=="string"?c:Ya(c))}function a(o,c){dn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return nT(e,i,a,s)}function Ke(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function dn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tT(){return Math.random().toString(36).substring(2,10)}function B_(s,e){return{usr:s.state,key:s.key,idx:e}}function gh(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?ms(e):e,state:i,key:e&&e.key||a||tT()}}function Ya({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function ms(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function nT(s,e,i,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,h=o.history,d="POP",p=null,m=v();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function v(){return(h.state||{idx:null}).idx}function b(){d="POP";let H=v(),W=H==null?null:H-m;m=H,p&&p({action:d,location:j.location,delta:W})}function S(H,W){d="PUSH";let Y=gh(j.location,H,W);i&&i(Y,H),m=v()+1;let $=B_(Y,m),Ce=j.createHref(Y);try{h.pushState($,"",Ce)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(Ce)}c&&p&&p({action:d,location:j.location,delta:1})}function x(H,W){d="REPLACE";let Y=gh(j.location,H,W);i&&i(Y,H),m=v();let $=B_(Y,m),Ce=j.createHref(Y);h.replaceState($,"",Ce),c&&p&&p({action:d,location:j.location,delta:0})}function U(H){return iT(H)}let j={get action(){return d},get location(){return s(o,h)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(H_,b),p=H,()=>{o.removeEventListener(H_,b),p=null}},createHref(H){return e(o,H)},createURL:U,encodeLocation(H){let W=U(H);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:S,replace:x,go(H){return h.go(H)}};return j}function iT(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:Ya(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function sv(s,e,i="/"){return sT(s,e,i,!1)}function sT(s,e,i,a){let o=typeof e=="string"?ms(e):e,c=Wn(o.pathname||"/",i);if(c==null)return null;let h=rv(s);rT(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let m=gT(c);d=pT(h[p],m,a)}return d}function rv(s,e=[],i=[],a="",o=!1){let c=(h,d,p=o,m)=>{let v={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;Ke(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let b=Yn([a,v.relativePath]),S=i.concat(v);h.children&&h.children.length>0&&(Ke(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),rv(h.children,e,S,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:hT(b,h.index),routesMeta:S})};return s.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))c(h,d);else for(let p of av(h.path))c(h,d,!0,p)}),e}function av(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let h=av(a.join("/")),d=[];return d.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&d.push(...h),d.map(p=>s.startsWith("/")&&p===""?"/":p)}function rT(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:dT(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var aT=/^:[\w-]+$/,lT=3,oT=2,uT=1,cT=10,fT=-2,q_=s=>s==="*";function hT(s,e){let i=s.split("/"),a=i.length;return i.some(q_)&&(a+=fT),e&&(a+=oT),i.filter(o=>!q_(o)).reduce((o,c)=>o+(aT.test(c)?lT:c===""?uT:cT),a)}function dT(s,e){return s.length===e.length&&s.slice(0,-1).every((a,o)=>a===e[o])?s[s.length-1]-e[e.length-1]:0}function pT(s,e,i=!1){let{routesMeta:a}=s,o={},c="/",h=[];for(let d=0;d<a.length;++d){let p=a[d],m=d===a.length-1,v=c==="/"?e:e.slice(c.length)||"/",b=Ko({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),S=p.route;if(!b&&m&&i&&!a[a.length-1].route.index&&(b=Ko({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Yn([c,b.pathname]),pathnameBase:ET(Yn([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=Yn([c,b.pathnameBase]))}return h}function Ko(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=mT(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:b},S)=>{if(v==="*"){let U=d[S]||"";h=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const x=d[S];return b&&!x?m[v]=void 0:m[v]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:h,pattern:s}}function mT(s,e=!1,i=!0){dn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function gT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Wn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function _T(s,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof s=="string"?ms(s):s;return{pathname:i?i.startsWith("/")?i:yT(i,e):e,search:bT(a),hash:ST(o)}}function yT(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Jf(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function lv(s){let e=vT(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function ov(s,e,i,a=!1){let o;typeof s=="string"?o=ms(s):(o={...s},Ke(!o.pathname||!o.pathname.includes("?"),Jf("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Jf("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Jf("#","search","hash",o)));let c=s===""||o.pathname==="",h=c?"/":o.pathname,d;if(h==null)d=i;else{let b=e.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}d=b>=0?e[b]:"/"}let p=_T(o,d),m=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Yn=s=>s.join("/").replace(/\/\/+/g,"/"),ET=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),bT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ST=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function TT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var uv=["POST","PUT","PATCH","DELETE"];new Set(uv);var CT=["GET",...uv];new Set(CT);var Sr=I.createContext(null);Sr.displayName="DataRouter";var gu=I.createContext(null);gu.displayName="DataRouterState";I.createContext(!1);var cv=I.createContext({isTransitioning:!1});cv.displayName="ViewTransition";var wT=I.createContext(new Map);wT.displayName="Fetchers";var RT=I.createContext(null);RT.displayName="Await";var wn=I.createContext(null);wn.displayName="Navigation";var rl=I.createContext(null);rl.displayName="Location";var $n=I.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var qh=I.createContext(null);qh.displayName="RouteError";function AT(s,{relative:e}={}){Ke(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=I.useContext(wn),{hash:o,pathname:c,search:h}=ll(s,{relative:e}),d=c;return i!=="/"&&(d=c==="/"?i:Yn([i,c])),a.createHref({pathname:d,search:h,hash:o})}function al(){return I.useContext(rl)!=null}function gs(){return Ke(al(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(rl).location}var fv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hv(s){I.useContext(wn).static||I.useLayoutEffect(s)}function jh(){let{isDataRoute:s}=I.useContext($n);return s?BT():NT()}function NT(){Ke(al(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(Sr),{basename:e,navigator:i}=I.useContext(wn),{matches:a}=I.useContext($n),{pathname:o}=gs(),c=JSON.stringify(lv(a)),h=I.useRef(!1);return hv(()=>{h.current=!0}),I.useCallback((p,m={})=>{if(dn(h.current,fv),!h.current)return;if(typeof p=="number"){i.go(p);return}let v=ov(p,JSON.parse(c),o,m.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Yn([e,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[e,i,c,o,s])}I.createContext(null);function ll(s,{relative:e}={}){let{matches:i}=I.useContext($n),{pathname:a}=gs(),o=JSON.stringify(lv(i));return I.useMemo(()=>ov(s,JSON.parse(o),a,e==="path"),[s,o,a,e])}function OT(s,e){return dv(s,e)}function dv(s,e,i,a,o){Ke(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=I.useContext(wn),{matches:h}=I.useContext($n),d=h[h.length-1],p=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let Y=b&&b.path||"";pv(m,!b||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=gs(),x;if(e){let Y=typeof e=="string"?ms(e):e;Ke(v==="/"||Y.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),x=Y}else x=S;let U=x.pathname||"/",j=U;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");j="/"+U.replace(/^\//,"").split("/").slice(Y.length).join("/")}let H=sv(s,{pathname:j});dn(b||H!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),dn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=kT(H&&H.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:Yn([v,c.encodeLocation?c.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:Yn([v,c.encodeLocation?c.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,i,a,o);return e&&W?I.createElement(rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},W):W}function xT(){let s=HT(),e=TT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),i?I.createElement("pre",{style:o},i):null,h)}var MT=I.createElement(xT,null),IT=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?I.createElement($n.Provider,{value:this.props.routeContext},I.createElement(qh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DT({routeContext:s,match:e,children:i}){let a=I.useContext(Sr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement($n.Provider,{value:s},i)}function kT(s,e=[],i=null,a=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,h=i?.errors;if(h!=null){let m=c.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);Ke(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let d=!1,p=-1;if(i)for(let m=0;m<c.length;m++){let v=c[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:b,errors:S}=i,x=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||x){d=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((m,v,b)=>{let S,x=!1,U=null,j=null;i&&(S=h&&v.route.id?h[v.route.id]:void 0,U=v.route.errorElement||MT,d&&(p<0&&b===0?(pv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):p===b&&(x=!0,j=v.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,b+1)),W=()=>{let Y;return S?Y=U:x?Y=j:v.route.Component?Y=I.createElement(v.route.Component,null):v.route.element?Y=v.route.element:Y=m,I.createElement(DT,{match:v,routeContext:{outlet:m,matches:H,isDataRoute:i!=null},children:Y})};return i&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?I.createElement(IT,{location:i.location,revalidation:i.revalidation,component:U,error:S,children:W(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:a}):W()},null)}function Vh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LT(s){let e=I.useContext(Sr);return Ke(e,Vh(s)),e}function UT(s){let e=I.useContext(gu);return Ke(e,Vh(s)),e}function PT(s){let e=I.useContext($n);return Ke(e,Vh(s)),e}function Gh(s){let e=PT(s),i=e.matches[e.matches.length-1];return Ke(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function zT(){return Gh("useRouteId")}function HT(){let s=I.useContext(qh),e=UT("useRouteError"),i=Gh("useRouteError");return s!==void 0?s:e.errors?.[i]}function BT(){let{router:s}=LT("useNavigate"),e=Gh("useNavigate"),i=I.useRef(!1);return hv(()=>{i.current=!0}),I.useCallback(async(o,c={})=>{dn(i.current,fv),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var j_={};function pv(s,e,i){!e&&!j_[s]&&(j_[s]=!0,dn(!1,i))}I.memo(qT);function qT({routes:s,future:e,state:i,unstable_onError:a}){return dv(s,void 0,i,a,e)}function or(s){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jT({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:c=!1}){Ke(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof i=="string"&&(i=ms(i));let{pathname:p="/",search:m="",hash:v="",state:b=null,key:S="default"}=i,x=I.useMemo(()=>{let U=Wn(p,h);return U==null?null:{location:{pathname:U,search:m,hash:v,state:b,key:S},navigationType:a}},[h,p,m,v,b,S,a]);return dn(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:I.createElement(wn.Provider,{value:d},I.createElement(rl.Provider,{children:e,value:x}))}function VT({children:s,location:e}){return OT(_h(s),e)}function _h(s,e=[]){let i=[];return I.Children.forEach(s,(a,o)=>{if(!I.isValidElement(a))return;let c=[...e,o];if(a.type===I.Fragment){i.push.apply(i,_h(a.props.children,c));return}Ke(a.type===or,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=_h(a.props.children,c)),i.push(h)}),i}var Bo="get",qo="application/x-www-form-urlencoded";function _u(s){return s!=null&&typeof s.tagName=="string"}function GT(s){return _u(s)&&s.tagName.toLowerCase()==="button"}function YT(s){return _u(s)&&s.tagName.toLowerCase()==="form"}function FT(s){return _u(s)&&s.tagName.toLowerCase()==="input"}function KT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function WT(s,e){return s.button===0&&(!e||e==="_self")&&!KT(s)}var Lo=null;function QT(){if(Lo===null)try{new FormData(document.createElement("form"),0),Lo=!1}catch{Lo=!0}return Lo}var XT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eh(s){return s!=null&&!XT.has(s)?(dn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qo}"`),null):s}function ZT(s,e){let i,a,o,c,h;if(YT(s)){let d=s.getAttribute("action");a=d?Wn(d,e):null,i=s.getAttribute("method")||Bo,o=eh(s.getAttribute("enctype"))||qo,c=new FormData(s)}else if(GT(s)||FT(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||d.getAttribute("action");if(a=p?Wn(p,e):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||Bo,o=eh(s.getAttribute("formenctype"))||eh(d.getAttribute("enctype"))||qo,c=new FormData(d,s),!QT()){let{name:m,type:v,value:b}=s;if(v==="image"){let S=m?`${m}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else m&&c.append(m,b)}}else{if(_u(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Bo,a=null,o=qo,h=s}return c&&o==="text/plain"&&(h=c,c=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yh(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function $T(s,e,i){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${i}`:e&&Wn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function JT(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function tC(s,e,i){let a=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await JT(c,i);return h.links?h.links():[]}return[]}));return rC(a.flat(1).filter(eC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V_(s,e,i,a,o,c){let h=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,d=(p,m)=>i[m].pathname!==p.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,m)=>h(p,m)||d(p,m)):c==="data"?e.filter((p,m)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function nC(s,e,{includeHydrateFallback:i}={}){return iC(s.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function iC(s){return[...new Set(s)]}function sC(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function rC(s,e){let i=new Set;return new Set(e),s.reduce((a,o)=>{let c=JSON.stringify(sC(o));return i.has(c)||(i.add(c),a.push({key:c,link:o})),a},[])}function mv(){let s=I.useContext(Sr);return Yh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function aC(){let s=I.useContext(gu);return Yh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Fh=I.createContext(void 0);Fh.displayName="FrameworkContext";function gv(){let s=I.useContext(Fh);return Yh(s,"You must render this element inside a <HydratedRouter> element"),s}function lC(s,e){let i=I.useContext(Fh),[a,o]=I.useState(!1),[c,h]=I.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=e,S=I.useRef(null);I.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let j=W=>{W.forEach(Y=>{h(Y.isIntersecting)})},H=new IntersectionObserver(j,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[s]),I.useEffect(()=>{if(a){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[a]);let x=()=>{o(!0)},U=()=>{o(!1),h(!1)};return i?s!=="intent"?[c,S,{}]:[c,S,{onFocus:Ma(d,x),onBlur:Ma(p,U),onMouseEnter:Ma(m,x),onMouseLeave:Ma(v,U),onTouchStart:Ma(b,x)}]:[!1,S,{}]}function Ma(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function oC({page:s,...e}){let{router:i}=mv(),a=I.useMemo(()=>sv(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?I.createElement(cC,{page:s,matches:a,...e}):null}function uC(s){let{manifest:e,routeModules:i}=gv(),[a,o]=I.useState([]);return I.useEffect(()=>{let c=!1;return tC(s,e,i).then(h=>{c||o(h)}),()=>{c=!0}},[s,e,i]),a}function cC({page:s,matches:e,...i}){let a=gs(),{manifest:o,routeModules:c}=gv(),{basename:h}=mv(),{loaderData:d,matches:p}=aC(),m=I.useMemo(()=>V_(s,e,p,o,a,"data"),[s,e,p,o,a]),v=I.useMemo(()=>V_(s,e,p,o,a,"assets"),[s,e,p,o,a]),b=I.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let U=new Set,j=!1;if(e.forEach(W=>{let Y=o.routes[W.route.id];!Y||!Y.hasLoader||(!m.some($=>$.route.id===W.route.id)&&W.route.id in d&&c[W.route.id]?.shouldRevalidate||Y.hasClientLoader?j=!0:U.add(W.route.id))}),U.size===0)return[];let H=$T(s,h,"data");return j&&U.size>0&&H.searchParams.set("_routes",e.filter(W=>U.has(W.route.id)).map(W=>W.route.id).join(",")),[H.pathname+H.search]},[h,d,a,o,m,e,s,c]),S=I.useMemo(()=>nC(v,o),[v,o]),x=uC(v);return I.createElement(I.Fragment,null,b.map(U=>I.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...i})),S.map(U=>I.createElement("link",{key:U,rel:"modulepreload",href:U,...i})),x.map(({key:U,link:j})=>I.createElement("link",{key:U,nonce:i.nonce,...j})))}function fC(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var _v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_v&&(window.__reactRouterVersion="7.8.2")}catch{}function hC({basename:s,children:e,window:i}){let a=I.useRef();a.current==null&&(a.current=eT({window:i,v5Compat:!0}));let o=a.current,[c,h]=I.useState({action:o.action,location:o.location}),d=I.useCallback(p=>{I.startTransition(()=>h(p))},[h]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.createElement(jT,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tr=I.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:c,replace:h,state:d,target:p,to:m,preventScrollReset:v,viewTransition:b,...S},x){let{basename:U}=I.useContext(wn),j=typeof m=="string"&&yv.test(m),H,W=!1;if(typeof m=="string"&&j&&(H=m,_v))try{let Le=new URL(window.location.href),mt=m.startsWith("//")?new URL(Le.protocol+m):new URL(m),oe=Wn(mt.pathname,U);mt.origin===Le.origin&&oe!=null?m=oe+mt.search+mt.hash:W=!0}catch{dn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=AT(m,{relative:o}),[$,Ce,re]=lC(a,S),We=gC(m,{replace:h,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:b});function je(Le){e&&e(Le),Le.defaultPrevented||We(Le)}let Ye=I.createElement("a",{...S,...re,href:H||Y,onClick:W||c?e:je,ref:fC(x,Ce),target:p,"data-discover":!j&&i==="render"?"true":void 0});return $&&!j?I.createElement(I.Fragment,null,Ye,I.createElement(oC,{page:Y})):Ye});Tr.displayName="Link";var dC=I.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:h,viewTransition:d,children:p,...m},v){let b=ll(h,{relative:m.relative}),S=gs(),x=I.useContext(gu),{navigator:U,basename:j}=I.useContext(wn),H=x!=null&&bC(b)&&d===!0,W=U.encodeLocation?U.encodeLocation(b).pathname:b.pathname,Y=S.pathname,$=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(Y=Y.toLowerCase(),$=$?$.toLowerCase():null,W=W.toLowerCase()),$&&j&&($=Wn($,j)||$);const Ce=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let re=Y===W||!o&&Y.startsWith(W)&&Y.charAt(Ce)==="/",We=$!=null&&($===W||!o&&$.startsWith(W)&&$.charAt(W.length)==="/"),je={isActive:re,isPending:We,isTransitioning:H},Ye=re?e:void 0,Le;typeof a=="function"?Le=a(je):Le=[a,re?"active":null,We?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let mt=typeof c=="function"?c(je):c;return I.createElement(Tr,{...m,"aria-current":Ye,className:Le,ref:v,style:mt,to:h,viewTransition:d},typeof p=="function"?p(je):p)});dC.displayName="NavLink";var pC=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:c,method:h=Bo,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:b,...S},x)=>{let U=vC(),j=EC(d,{relative:m}),H=h.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&yv.test(d),Y=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let Ce=$.nativeEvent.submitter,re=Ce?.getAttribute("formmethod")||h;U(Ce||$.currentTarget,{fetcherKey:e,method:re,navigate:i,replace:o,state:c,relative:m,preventScrollReset:v,viewTransition:b})};return I.createElement("form",{ref:x,method:H,action:j,onSubmit:a?p:Y,...S,"data-discover":!W&&s==="render"?"true":void 0})});pC.displayName="Form";function mC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vv(s){let e=I.useContext(Sr);return Ke(e,mC(s)),e}function gC(s,{target:e,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:h}={}){let d=jh(),p=gs(),m=ll(s,{relative:c});return I.useCallback(v=>{if(WT(v,e)){v.preventDefault();let b=i!==void 0?i:Ya(p)===Ya(m);d(s,{replace:b,state:a,preventScrollReset:o,relative:c,viewTransition:h})}},[p,d,m,i,a,e,s,o,c,h])}var _C=0,yC=()=>`__${String(++_C)}__`;function vC(){let{router:s}=vv("useSubmit"),{basename:e}=I.useContext(wn),i=zT();return I.useCallback(async(a,o={})=>{let{action:c,method:h,encType:d,formData:p,body:m}=ZT(a,e);if(o.navigate===!1){let v=o.fetcherKey||yC();await s.fetch(v,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function EC(s,{relative:e}={}){let{basename:i}=I.useContext(wn),a=I.useContext($n);Ke(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...ll(s||".",{relative:e})},h=gs();if(s==null){c.search=h.search;let d=new URLSearchParams(c.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();c.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Yn([i,c.pathname])),Ya(c)}function bC(s,{relative:e}={}){let i=I.useContext(cv);Ke(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=vv("useViewTransitionState"),o=ll(s,{relative:e});if(!i.isTransitioning)return!1;let c=Wn(i.currentLocation.pathname,a)||i.currentLocation.pathname,h=Wn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Ko(o.pathname,h)!=null||Ko(o.pathname,c)!=null}const SC=()=>F.jsxs("div",{className:"w-full h-dvh bg-black bg-center bg-cover flex justify-center items-center relative",style:{backgroundImage:"url('/bg.png')"},children:[F.jsx("div",{className:"absolute inset-0 bg-black/60"}),F.jsxs("div",{className:"relative text-center max-w-2xl px-6",children:[F.jsx("p",{className:"text-emerald-300 text-lg md:text-xl font-semibold tracking-wide uppercase",children:"Explore the"}),F.jsx("h1",{className:"text-white text-5xl md:text-7xl font-extrabold tracking-wider drop-shadow-lg",children:"Earths Interior"}),F.jsx("p",{className:"mt-4 text-gray-300 text-base md:text-lg leading-relaxed",children:"Discover the Crust, Mantle, Outer Core, and Inner Core in an interactive and engaging way designed for students."}),F.jsx("div",{className:"flex justify-center items-center pt-12",children:F.jsx(Tr,{to:"/homeSign",className:"transition transform hover:scale-110 hover:drop-shadow-2xl",children:F.jsx("img",{className:"w-24 md:w-28",src:"play-button.png",alt:"Start"})})})]})]}),TC=()=>{};var G_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(s,e){if(!s)throw Cr(e)},Cr=function(s){return new Error("Firebase Database ("+Ev.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},CC=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],h=s[i++],d=s[i++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],h=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Kh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,d=h?s[o+1]:0,p=o+2<s.length,m=p?s[o+2]:0,v=c>>2,b=(c&3)<<4|d>>4;let S=(d&15)<<2|m>>6,x=m&63;p||(x=64,h||(S=64)),a.push(i[v],i[b],i[S],i[x])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(bv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):CC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const m=o<s.length?i[s.charAt(o)]:64;++o;const b=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||d==null||m==null||b==null)throw new wC;const S=c<<2|d>>4;if(a.push(S),m!==64){const x=d<<4&240|m>>2;if(a.push(x),b!==64){const U=m<<6&192|b;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sv=function(s){const e=bv(s);return Kh.encodeByteArray(e,!0)},Wo=function(s){return Sv(s).replace(/\./g,"")},Qo=function(s){try{return Kh.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(s){return Tv(void 0,s)}function Tv(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!AC(i)||(s[i]=Tv(s[i],e[i]));return s}function AC(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=()=>NC().__FIREBASE_DEFAULTS__,xC=()=>{if(typeof process>"u"||typeof G_>"u")return;const s=G_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},MC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Qo(s[1]);return e&&JSON.parse(e)},Wh=()=>{try{return TC()||OC()||xC()||MC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Cv=s=>Wh()?.emulatorHosts?.[s],IC=s=>{const e=Cv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},wv=()=>Wh()?.config,Rv=s=>Wh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Av(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wo(JSON.stringify(i)),Wo(JSON.stringify(h)),""].join(".")}const za={};function kC(){const s={prod:[],emulator:[]};for(const e of Object.keys(za))za[e]?s.emulator.push(e):s.prod.push(e);return s}function LC(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Y_=!1;function Nv(s,e){if(typeof window>"u"||typeof document>"u"||!wr(window.location.host)||za[s]===e||za[s]||Y_)return;za[s]=e;function i(S){return`__firebase__banner__${S}`}const a="__firebase__banner",c=kC().prod.length>0;function h(){const S=document.getElementById(a);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,x){S.setAttribute("width","24"),S.setAttribute("id",x),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Y_=!0,h()},S}function v(S,x){S.setAttribute("id",x),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=LC(a),x=i("text"),U=document.getElementById(x)||document.createElement("span"),j=i("learnmore"),H=document.getElementById(j)||document.createElement("a"),W=i("preprendIcon"),Y=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;d($),v(H,j);const Ce=m();p(Y,W),$.append(Y,U,H,Ce),document.body.appendChild($)}c?(U.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function UC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PC(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ov(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){const s=Ot();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function HC(){return Ev.NODE_ADMIN===!0}function BC(){try{return typeof indexedDB=="object"}catch{return!1}}function qC(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="FirebaseError";class Pi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=jC,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?VC(c,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Pi(o,d,a)}}function VC(s,e){return s.replace(GC,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const GC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(s){return JSON.parse(s)}function lt(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=function(s){let e={},i={},a={},o="";try{const c=s.split(".");e=Fa(Qo(c[0])||""),i=Fa(Qo(c[1])||""),o=c[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},YC=function(s){const e=xv(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},FC=function(s){const e=xv(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function gr(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function yh(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Xo(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function os(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],h=e[o];if(F_(c)&&F_(h)){if(!os(c,h))return!1}else if(c!==h)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function F_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ua(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Pa(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let b=0;b<16;b++)a[b]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let b=0;b<16;b++)a[b]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let b=16;b<80;b++){const S=a[b-3]^a[b-8]^a[b-14]^a[b-16];a[b]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],h=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,v;for(let b=0;b<80;b++){b<40?b<20?(m=d^c&(h^d),v=1518500249):(m=c^h^d,v=1859775393):b<60?(m=c&h|d&(c|h),v=2400959708):(m=c^h^d,v=3395469782);const S=(o<<5|o>>>27)+m+p+v+a[b]&4294967295;p=d,d=h,h=(c<<30|c>>>2)&4294967295,c=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const c=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(c[h]=e.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}else for(;o<i;)if(c[h]=e[o],++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[a]=this.chain_[o]>>c&255,++a;return e}}function WC(s,e){const i=new QC(s,e);return i.subscribe.bind(i)}class QC{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");XC(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=th),o.error===void 0&&(o.error=th),o.complete===void 0&&(o.complete=th);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XC(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function th(){}function Xh(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const c=o-55296;a++,q(a<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(a)-56320;o=65536+(c<<10)+h}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},vu=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(s){return s&&s._delegate?s._delegate:s}class us{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new yu;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e1(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);a===d&&h.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:JC(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JC(s){return s===ss?void 0:s}function e1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new $C(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(De||(De={}));const n1={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},i1=De.INFO,s1={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},r1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=s1[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zh{constructor(e){this.name=e,this._logLevel=i1,this._logHandler=r1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const a1=(s,e)=>e.some(i=>s instanceof i);let K_,W_;function l1(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o1(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,vh=new WeakMap,Iv=new WeakMap,nh=new WeakMap,$h=new WeakMap;function u1(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{i(Oi(s.result)),o()},h=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&Mv.set(i,s)}).catch(()=>{}),$h.set(e,s),e}function c1(s){if(vh.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});vh.set(s,e)}let Eh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return vh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Iv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Oi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function f1(s){Eh=s(Eh)}function h1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(ih(this),e,...i);return Iv.set(a,e.sort?e.sort():[e]),Oi(a)}:o1().includes(s)?function(...e){return s.apply(ih(this),e),Oi(Mv.get(this))}:function(...e){return Oi(s.apply(ih(this),e))}}function d1(s){return typeof s=="function"?h1(s):(s instanceof IDBTransaction&&c1(s),a1(s,l1())?new Proxy(s,Eh):s)}function Oi(s){if(s instanceof IDBRequest)return u1(s);if(nh.has(s))return nh.get(s);const e=d1(s);return e!==s&&(nh.set(s,e),$h.set(e,s)),e}const ih=s=>$h.get(s);function p1(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const h=indexedDB.open(s,e),d=Oi(h);return a&&h.addEventListener("upgradeneeded",p=>{a(Oi(h.result),p.oldVersion,p.newVersion,Oi(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const m1=["get","getKey","getAll","getAllKeys","count"],g1=["put","add","delete","clear"],sh=new Map;function Q_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(sh.get(e))return sh.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=g1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||m1.includes(i)))return;const c=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let m=p.store;return a&&(m=m.index(d.shift())),(await Promise.all([m[i](...d),o&&p.done]))[0]};return sh.set(e,c),c}f1(s=>({...s,get:(e,i,a)=>Q_(e,i)||s.get(e,i,a),has:(e,i)=>!!Q_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(y1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function y1(s){return s.getComponent()?.type==="VERSION"}const bh="@firebase/app",X_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Zh("@firebase/app"),v1="@firebase/app-compat",E1="@firebase/analytics-compat",b1="@firebase/analytics",S1="@firebase/app-check-compat",T1="@firebase/app-check",C1="@firebase/auth",w1="@firebase/auth-compat",R1="@firebase/database",A1="@firebase/data-connect",N1="@firebase/database-compat",O1="@firebase/functions",x1="@firebase/functions-compat",M1="@firebase/installations",I1="@firebase/installations-compat",D1="@firebase/messaging",k1="@firebase/messaging-compat",L1="@firebase/performance",U1="@firebase/performance-compat",P1="@firebase/remote-config",z1="@firebase/remote-config-compat",H1="@firebase/storage",B1="@firebase/storage-compat",q1="@firebase/firestore",j1="@firebase/ai",V1="@firebase/firestore-compat",G1="firebase",Y1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="[DEFAULT]",F1={[bh]:"fire-core",[v1]:"fire-core-compat",[b1]:"fire-analytics",[E1]:"fire-analytics-compat",[T1]:"fire-app-check",[S1]:"fire-app-check-compat",[C1]:"fire-auth",[w1]:"fire-auth-compat",[R1]:"fire-rtdb",[A1]:"fire-data-connect",[N1]:"fire-rtdb-compat",[O1]:"fire-fn",[x1]:"fire-fn-compat",[M1]:"fire-iid",[I1]:"fire-iid-compat",[D1]:"fire-fcm",[k1]:"fire-fcm-compat",[L1]:"fire-perf",[U1]:"fire-perf-compat",[P1]:"fire-rc",[z1]:"fire-rc-compat",[H1]:"fire-gcs",[B1]:"fire-gcs-compat",[q1]:"fire-fst",[V1]:"fire-fst-compat",[j1]:"fire-vertex","fire-js":"fire-js",[G1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Map,K1=new Map,Th=new Map;function Z_(s,e){try{s.container.addComponent(e)}catch(i){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function _r(s){const e=s.name;if(Th.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;Th.set(e,s);for(const i of Zo.values())Z_(i,s);for(const i of K1.values())Z_(i,s);return!0}function Jh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function tn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new ol("app","Firebase",W1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=Y1;function Dv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Sh,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw xi.create("bad-app-name",{appName:String(o)});if(i||(i=wv()),!i)throw xi.create("no-options");const c=Zo.get(o);if(c){if(os(i,c.options)&&os(a,c.config))return c;throw xi.create("duplicate-app",{appName:o})}const h=new t1(o);for(const p of Th.values())h.addComponent(p);const d=new Q1(i,a,h);return Zo.set(o,d),d}function kv(s=Sh){const e=Zo.get(s);if(!e&&s===Sh&&wv())return Dv();if(!e)throw xi.create("no-app",{appName:s});return e}function Mi(s,e,i){let a=F1[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(h.join(" "));return}_r(new us(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebase-heartbeat-database",Z1=1,Ka="firebase-heartbeat-store";let rh=null;function Lv(){return rh||(rh=p1(X1,Z1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ka)}catch(i){console.warn(i)}}}}).catch(s=>{throw xi.create("idb-open",{originalErrorMessage:s.message})})),rh}async function $1(s){try{const i=(await Lv()).transaction(Ka),a=await i.objectStore(Ka).get(Uv(s));return await i.done,a}catch(e){if(e instanceof Pi)Qn.warn(e.message);else{const i=xi.create("idb-get",{originalErrorMessage:e?.message});Qn.warn(i.message)}}}async function $_(s,e){try{const a=(await Lv()).transaction(Ka,"readwrite");await a.objectStore(Ka).put(e,Uv(s)),await a.done}catch(i){if(i instanceof Pi)Qn.warn(i.message);else{const a=xi.create("idb-set",{originalErrorMessage:i?.message});Qn.warn(a.message)}}}function Uv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=1024,ew=30;class tw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ew){const o=sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=J_(),{heartbeatsToSend:i,unsentEntries:a}=nw(this._heartbeatsCache.heartbeats),o=Wo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qn.warn(e),""}}}function J_(){return new Date().toISOString().substring(0,10)}function nw(s,e=J1){const i=[];let a=s.slice();for(const o of s){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),ey(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ey(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class iw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BC()?qC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return $_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function ey(s){return Wo(JSON.stringify({version:2,heartbeats:s})).length}function sw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(s){_r(new us("platform-logger",e=>new _1(e),"PRIVATE")),_r(new us("heartbeat",e=>new tw(e),"PRIVATE")),Mi(bh,X_,s),Mi(bh,X_,"esm2020"),Mi("fire-js","")}rw("");var aw="firebase",lw="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(aw,lw,"app");function Pv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ow=Pv,zv=new ol("auth","Firebase",Pv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Zh("@firebase/auth");function uw(s,...e){$o.logLevel<=De.WARN&&$o.warn(`Auth (${Ar}): ${s}`,...e)}function jo(s,...e){$o.logLevel<=De.ERROR&&$o.error(`Auth (${Ar}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(s,...e){throw ed(s,...e)}function Sn(s,...e){return ed(s,...e)}function Hv(s,e,i){const a={...ow(),[e]:i};return new ol("auth","Firebase",a).create(e,{appName:s.name})}function Fn(s){return Hv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ed(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return zv.create(s,...e)}function ie(s,e,...i){if(!s)throw ed(e,...i)}function jn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw jo(e),new Error(e)}function Xn(s,e){s||jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(){return typeof self<"u"&&self.location?.href||""}function cw(){return ty()==="http:"||ty()==="https:"}function ty(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cw()||PC()||"connection"in navigator)?navigator.onLine:!0}function hw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,i){this.shortDelay=e,this.longDelay=i,Xn(i>e,"Short delay should be less than long delay!"),this.isMobile=Qh()||Ov()}get(){return fw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(s,e){Xn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mw=new ul(3e4,6e4);function zi(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Hi(s,e,i,a,o={}){return qv(s,o,async()=>{let c={},h={};a&&(e==="GET"?h=a:c={body:JSON.stringify(a)});const d=Rr({key:s.config.apiKey,...h}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const m={method:e,headers:p,...c};return UC()||(m.referrerPolicy="no-referrer"),s.emulatorConfig&&wr(s.emulatorConfig.host)&&(m.credentials="include"),Bv.fetch()(await jv(s,s.config.apiHost,i,d),m)})}async function qv(s,e,i){s._canInitEmulator=!1;const a={...dw,...e};try{const o=new _w(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Uo(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const d=c.ok?h.errorMessage:h.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uo(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Uo(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw Uo(s,"user-disabled",h);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Hv(s,v,m);pn(s,v)}}catch(o){if(o instanceof Pi)throw o;pn(s,"network-request-failed",{message:String(o)})}}async function cl(s,e,i,a,o={}){const c=await Hi(s,e,i,a,o);return"mfaPendingCredential"in c&&pn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function jv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,h=c.config.emulator?td(s.config,o):`${s.config.apiScheme}://${o}`;return pw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function gw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _w{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Sn(this.auth,"network-request-failed")),mw.get())})}}function Uo(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Sn(s,e,a);return o.customData._tokenResponse=i,o}function ny(s){return s!==void 0&&s.enterprise!==void 0}class yw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return gw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vw(s,e){return Hi(s,"GET","/v2/recaptchaConfig",zi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(s,e){return Hi(s,"POST","/v1/accounts:delete",e)}async function Jo(s,e){return Hi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bw(s,e=!1){const i=sn(s),a=await i.getIdToken(e),o=nd(a);ie(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:a,authTime:Ha(ah(o.auth_time)),issuedAtTime:Ha(ah(o.iat)),expirationTime:Ha(ah(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function ah(s){return Number(s)*1e3}function nd(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return jo("JWT malformed, contained fewer than 3 sections"),null;try{const o=Qo(i);return o?JSON.parse(o):(jo("Failed to decode base64 JWT payload"),null)}catch(o){return jo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function iy(s){const e=nd(s);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Pi&&Sw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Sw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(s){const e=s.auth,i=await s.getIdToken(),a=await Wa(s,Jo(e,{idToken:i}));ie(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Vv(o.providerUserInfo):[],h=ww(s.providerData,c),d=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!h?.length,m=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new wh(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(s,v)}async function Cw(s){const e=sn(s);await eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ww(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Vv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(s,e){const i=await qv(s,{},async()=>{const a=Rr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await jv(s,o,"/v1/token",`key=${c}`),d=await s._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:a};return s.emulatorConfig&&wr(s.emulatorConfig.host)&&(p.credentials="include"),Bv.fetch()(h,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Aw(s,e){return Hi(s,"POST","/v2/accounts:revokeToken",zi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const i=iy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await Rw(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,h=new fr;return a&&(ie(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(ie(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(ie(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fr,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(s,e){ie(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class cn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Wa(this,this.stsTokenManager.getToken(this.auth,e));return ie(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return bw(this,e)}reload(){return Cw(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await eu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Fn(this.auth));const e=await this.getIdToken();return await Wa(this,Ew(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,h=i.photoURL??void 0,d=i.tenantId??void 0,p=i._redirectEventId??void 0,m=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:x,providerData:U,stsTokenManager:j}=i;ie(b&&j,e,"internal-error");const H=fr.fromJSON(this.name,j);ie(typeof b=="string",e,"internal-error"),Ci(a,e.name),Ci(o,e.name),ie(typeof S=="boolean",e,"internal-error"),ie(typeof x=="boolean",e,"internal-error"),Ci(c,e.name),Ci(h,e.name),Ci(d,e.name),Ci(p,e.name),Ci(m,e.name),Ci(v,e.name);const W=new cn({uid:b,auth:e,email:o,emailVerified:S,displayName:a,isAnonymous:x,photoURL:h,phoneNumber:c,tenantId:d,stsTokenManager:H,createdAt:m,lastLoginAt:v});return U&&Array.isArray(U)&&(W.providerData=U.map(Y=>({...Y}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,i,a=!1){const o=new fr;o.updateFromServerResponse(i);const c=new cn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await eu(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Vv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,d=new fr;d.updateFromIdToken(a);const p=new cn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new wh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=new Map;function Vn(s){Xn(s instanceof Function,"Expected a class definition");let e=sy.get(s);return e?(Xn(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,sy.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Gv.type="NONE";const ry=Gv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(s,e,i){return`firebase:${s}:${e}:${i}`}class hr{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Vo(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vo("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jo(this.auth,{idToken:e}).catch(()=>{});return i?cn._fromGetAccountInfoResponse(this.auth,i,e):null}return cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new hr(Vn(ry),e,a);const o=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let c=o[0]||Vn(ry);const h=Vo(a,e.config.apiKey,e.name);let d=null;for(const m of i)try{const v=await m._get(h);if(v){let b;if(typeof v=="string"){const S=await Jo(e,{idToken:v}).catch(()=>{});if(!S)break;b=await cn._fromGetAccountInfoResponse(e,S,v)}else b=cn._fromJSON(e,v);m!==c&&(d=b),c=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new hr(c,e,a):(c=p[0],d&&await c._set(h,d.toJSON()),await Promise.all(i.map(async m=>{if(m!==c)try{await m._remove(h)}catch{}})),new hr(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xv(e))return"Blackberry";if(Zv(e))return"Webos";if(Fv(e))return"Safari";if((e.includes("chrome/")||Kv(e))&&!e.includes("edge/"))return"Chrome";if(Qv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Yv(s=Ot()){return/firefox\//i.test(s)}function Fv(s=Ot()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kv(s=Ot()){return/crios\//i.test(s)}function Wv(s=Ot()){return/iemobile/i.test(s)}function Qv(s=Ot()){return/android/i.test(s)}function Xv(s=Ot()){return/blackberry/i.test(s)}function Zv(s=Ot()){return/webos/i.test(s)}function id(s=Ot()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Nw(s=Ot()){return id(s)&&!!window.navigator?.standalone}function Ow(){return zC()&&document.documentMode===10}function $v(s=Ot()){return id(s)||Qv(s)||Zv(s)||Xv(s)||/windows phone/i.test(s)||Wv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(s,e=[]){let i;switch(s){case"Browser":i=ay(Ot());break;case"Worker":i=`${ay(Ot())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ar}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((h,d)=>{try{const p=e(c);h(p)}catch(p){d(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(s,e={}){return Hi(s,"GET","/v2/passwordPolicy",zi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=6;class Dw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Iw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ly(this),this.idTokenSubscription=new ly(this),this.beforeStateQueue=new xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Vn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jo(this,{idToken:e}),a=await cn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&d?.user&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await eu(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(Fn(this));const i=e?sn(e):null;return i&&ie(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(Fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mw(this),i=new Dw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ol("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Aw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Vn(e)||this._popupRedirectResolver;ie(i,this,"argument-error"),this.redirectPersistenceManager=await hr.create(this,[Vn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(d,this,"internal-error"),d.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(i);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _s(s){return sn(s)}class ly{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(i=>this.observer=i)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lw(s){Eu=s}function eE(s){return Eu.loadJS(s)}function Uw(){return Eu.recaptchaEnterpriseScript}function Pw(){return Eu.gapiScript}function zw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Hw{constructor(){this.enterprise=new Bw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Bw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const qw="recaptcha-enterprise",tE="NO_RECAPTCHA";class jw{constructor(e){this.type=qw,this.auth=_s(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,d)=>{vw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new yw(p);return c.tenantId==null?c._agentRecaptchaConfig=m:c._tenantRecaptchaConfigs[c.tenantId]=m,h(m.siteKey)}}).catch(p=>{d(p)})})}function o(c,h,d){const p=window.grecaptcha;ny(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(m=>{h(m)}).catch(()=>{h(tE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Hw().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{a(this.auth).then(d=>{if(!i&&ny(window.grecaptcha))o(d,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Uw();p.length!==0&&(p+=d),eE(p).then(()=>{o(d,c,h)}).catch(m=>{h(m)})}}).catch(d=>{h(d)})})}}async function oy(s,e,i,a=!1,o=!1){const c=new jw(s);let h;if(o)h=tE;else try{h=await c.verify(i)}catch{h=await c.verify(i,!0)}const d={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Rh(s,e,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await oy(s,e,i,i==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await oy(s,e,i,i==="getOobCode");return a(s,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(s,e){const i=Jh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(os(c,e??{}))return o;pn(o,"already-initialized")}return i.initialize({options:e})}function Gw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Vn);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function Yw(s,e,i){const a=_s(s);ie(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=nE(e),{host:h,port:d}=Fw(e),p=d===null?"":`:${d}`,m={url:`${c}//${h}${p}/`},v=Object.freeze({host:h,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ie(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ie(os(m,a.config.emulator)&&os(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=m,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,wr(h)?(Av(`${c}//${h}${p}`),Nv("Auth",!0)):Kw()}function nE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Fw(s){const e=nE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:uy(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:uy(h)}}}function uy(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Kw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,i){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}}async function Ww(s,e){return Hi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(s,e){return cl(s,"POST","/v1/accounts:signInWithPassword",zi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(s,e){return cl(s,"POST","/v1/accounts:signInWithEmailLink",zi(s,e))}async function Zw(s,e){return cl(s,"POST","/v1/accounts:signInWithEmailLink",zi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends sd{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Qa(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Qa(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,i,"signInWithPassword",Qw);case"emailLink":return Xw(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,a,"signUpPassword",Ww);case"emailLink":return Zw(e,{idToken:i,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dr(s,e){return cl(s,"POST","/v1/accounts:signInWithIdp",zi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="http://localhost";class cs extends sd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):pn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const h=new cs(a,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return dr(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,dr(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,dr(e,i)}buildRequest(){const e={requestUri:$w,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Rr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eR(s){const e=Ua(Pa(s)).link,i=e?Ua(Pa(e)).deep_link_id:null,a=Ua(Pa(s)).deep_link_id;return(a?Ua(Pa(a)).link:null)||a||i||e||s}class rd{constructor(e){const i=Ua(Pa(e)),a=i.apiKey??null,o=i.oobCode??null,c=Jw(i.mode??null);ie(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=eR(e);try{return new rd(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.providerId=Nr.PROVIDER_ID}static credential(e,i){return Qa._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=rd.parseLink(i);return ie(a,"argument-error"),Qa._fromEmailAndCode(e,a.code,a.tenantId)}}Nr.PROVIDER_ID="password";Nr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends fl{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return cs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Ri.credential(i,a)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends fl{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends fl{constructor(){super("twitter.com")}static credential(e,i){return cs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Ni.credential(i,a)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(s,e){return cl(s,"POST","/v1/accounts:signUp",zi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await cn._fromIdTokenResponse(e,a,o),h=cy(a);return new fs({user:c,providerId:h,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=cy(a);return new fs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function cy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Pi{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,tu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new tu(e,i,a,o)}}function sE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?tu._fromErrorAndOperation(s,c,e,a):c})}async function nR(s,e,i=!1){const a=await Wa(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return fs._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(s,e,i=!1){const{auth:a}=s;if(tn(a.app))return Promise.reject(Fn(a));const o="reauthenticate";try{const c=await Wa(s,sE(a,o,e,s),i);ie(c.idToken,a,"internal-error");const h=nd(c.idToken);ie(h,a,"internal-error");const{sub:d}=h;return ie(s.uid===d,a,"user-mismatch"),fs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&pn(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(s,e,i=!1){if(tn(s.app))return Promise.reject(Fn(s));const a="signIn",o=await sE(s,a,e),c=await fs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function sR(s,e){return rE(_s(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aE(s){const e=_s(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rR(s,e,i){if(tn(s.app))return Promise.reject(Fn(s));const a=_s(s),h=await Rh(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&aE(s),p}),d=await fs._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function aR(s,e,i){return tn(s.app)?Promise.reject(Fn(s)):sR(sn(s),Nr.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&aE(s),a})}function lR(s,e,i,a){return sn(s).onIdTokenChanged(e,i,a)}function oR(s,e,i){return sn(s).beforeAuthStateChanged(e,i)}const nu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nu,"1"),this.storage.removeItem(nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=1e3,cR=10;class oE extends lE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$v(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!i&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);Ow()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cR):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const fR=oE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends lE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}uE.type="SESSION";const cE=uE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new bu(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async m=>m(i.origin,c)),p=await hR(d);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((d,p)=>{const m=ad("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(S.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function pR(s){Tn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function mR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gR(){return navigator?.serviceWorker?.controller||null}function _R(){return fE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="firebaseLocalStorageDb",yR=1,iu="firebaseLocalStorage",dE="fbase_key";class hl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Su(s,e){return s.transaction([iu],e?"readwrite":"readonly").objectStore(iu)}function vR(){const s=indexedDB.deleteDatabase(hE);return new hl(s).toPromise()}function Ah(){const s=indexedDB.open(hE,yR);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(iu,{keyPath:dE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(iu)?e(a):(a.close(),await vR(),e(await Ah()))})})}async function fy(s,e,i){const a=Su(s,!0).put({[dE]:e,value:i});return new hl(a).toPromise()}async function ER(s,e){const i=Su(s,!1).get(e),a=await new hl(i).toPromise();return a===void 0?null:a.value}function hy(s,e){const i=Su(s,!0).delete(e);return new hl(i).toPromise()}const bR=800,SR=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ah(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>SR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bu._getInstance(_R()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mR(),!this.activeServiceWorker)return;this.sender=new dR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ah();return await fy(e,nu,"1"),await hy(e,nu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>fy(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>ER(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>hy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Su(o,!1).getAll();return new hl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const TR=pE;new ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(s,e){return e?Vn(e):(ie(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends sd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return dr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return dr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function wR(s){return rE(s.auth,new ld(s),s.bypassAuthState)}function RR(s){const{auth:e,user:i}=s;return ie(i,e,"internal-error"),iR(i,new ld(s),s.bypassAuthState)}async function AR(s){const{auth:e,user:i}=s;return ie(i,e,"internal-error"),nR(i,new ld(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wR;case"linkViaPopup":case"linkViaRedirect":return AR;case"reauthViaPopup":case"reauthViaRedirect":return RR;default:pn(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new ul(2e3,1e4);class ur extends mE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ur.currentPopupAction&&ur.currentPopupAction.cancel(),ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=ad();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NR.get())};e()}}ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="pendingRedirect",Go=new Map;class xR extends mE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Go.get(this.auth._key());if(!e){try{const a=await MR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Go.set(this.auth._key(),e)}return this.bypassAuthState||Go.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MR(s,e){const i=kR(e),a=DR(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function IR(s,e){Go.set(s._key(),e)}function DR(s){return Vn(s._redirectPersistence)}function kR(s){return Vo(OR,s.config.apiKey,s.name)}async function LR(s,e,i=!1){if(tn(s.app))return Promise.reject(Fn(s));const a=_s(s),o=CR(a,e),h=await new xR(a,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=600*1e3;class PR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!gE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Sn(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UR&&this.cachedEventUids.clear(),this.cachedEventUids.has(dy(e))}saveEventToCache(e){this.cachedEventUids.add(dy(e)),this.lastProcessedEventTime=Date.now()}}function dy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function gE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function zR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(s,e={}){return Hi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qR=/^https?/;async function jR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await HR(s);for(const i of e)try{if(VR(i))return}catch{}pn(s,"unauthorized-domain")}function VR(s){const e=Ch(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===a}if(!qR.test(i))return!1;if(BR.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new ul(3e4,6e4);function py(){const s=Tn().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function YR(s){return new Promise((e,i)=>{function a(){py(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{py(),i(Sn(s,"network-request-failed"))},timeout:GR.get()})}if(Tn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tn().gapi?.load)a();else{const o=zw("iframefcb");return Tn()[o]=()=>{gapi.load?a():i(Sn(s,"network-request-failed"))},eE(`${Pw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Yo=null,e})}let Yo=null;function FR(s){return Yo=Yo||YR(s),Yo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new ul(5e3,15e3),WR="__/auth/iframe",QR="emulator/auth/iframe",XR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $R(s){const e=s.config;ie(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?td(e,QR):`https://${s.config.authDomain}/${WR}`,a={apiKey:e.apiKey,appName:s.name,v:Ar},o=ZR.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Rr(a).slice(1)}`}async function JR(s){const e=await FR(s),i=Tn().gapi;return ie(i,s,"internal-error"),e.open({where:document.body,url:$R(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XR,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const h=Sn(s,"network-request-failed"),d=Tn().setTimeout(()=>{c(h)},KR.get());function p(){Tn().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tA=500,nA=600,iA="_blank",sA="http://localhost";class my{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rA(s,e,i,a=tA,o=nA){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p={...eA,width:a.toString(),height:o.toString(),top:c,left:h},m=Ot().toLowerCase();i&&(d=Kv(m)?iA:i),Yv(m)&&(e=e||sA,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[x,U])=>`${S}${x}=${U},`,"");if(Nw(m)&&d!=="_self")return aA(e||"",d),new my(null);const b=window.open(e||"",d,v);ie(b,s,"popup-blocked");try{b.focus()}catch{}return new my(b)}function aA(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="__/auth/handler",oA="emulator/auth/handler",uA=encodeURIComponent("fac");async function gy(s,e,i,a,o,c){ie(s.config.authDomain,s,"auth-domain-config-required"),ie(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Ar,eventId:o};if(e instanceof iE){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",yh(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof fl){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}s.tenantId&&(h.tid=s.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await s._getAppCheckToken(),m=p?`#${uA}=${encodeURIComponent(p)}`:"";return`${cA(s)}?${Rr(d).slice(1)}${m}`}function cA({config:s}){return s.emulator?td(s,oA):`https://${s.authDomain}/${lA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="webStorageSupport";class fA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=LR,this._overrideRedirectResult=IR}async _openPopup(e,i,a,o){Xn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await gy(e,i,a,Ch(),o);return rA(e,c,ad())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await gy(e,i,a,Ch(),o);return pR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Xn(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await JR(e),a=new PR(e);return i.register("authEvent",o=>(ie(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(lh,{type:lh},o=>{const c=o?.[0]?.[lh];c!==void 0&&i(!!c),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=jR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return $v()||Fv()||id()}}const hA=fA;var _y="@firebase/auth",yy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mA(s){_r(new us("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;ie(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jv(s)},m=new kw(a,o,c,p);return Gw(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),_r(new us("auth-internal",e=>{const i=_s(e.getProvider("auth").getImmediate());return(a=>new dA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(_y,yy,pA(s)),Mi(_y,yy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=300,_A=Rv("authIdTokenMaxAge")||gA;let vy=null;const yA=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>_A)return;const o=i?.token;vy!==o&&(vy=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vA(s=kv()){const e=Jh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Vw(s,{popupRedirectResolver:hA,persistence:[TR,fR,cE]}),a=Rv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=yA(c.toString());oR(i,h,()=>h(i.currentUser)),lR(i,d=>h(d))}}const o=Cv("auth");return o&&Yw(i,`http://${o}`),i}function EA(){return document.getElementsByTagName("head")?.[0]??document}Lw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Sn("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",EA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mA("Browser");var Ey={};const by="@firebase/database",Sy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _E="";function bA(s){_E=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),lt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Fa(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new SA(e)}}catch{}return new TA},as=yE("localStorage"),CA=yE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Zh("@firebase/database"),wA=(function(){let s=1;return function(){return s++}})(),vE=function(s){const e=ZC(s),i=new KC;i.update(e);const a=i.digest();return Kh.encodeByteArray(a)},dl=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=dl.apply(null,a):typeof a=="object"?e+=lt(a):e+=a,e+=" "}return e};let Ba=null,Ty=!0;const RA=function(s,e){q(!0,"Can't turn on custom loggers persistently."),pr.logLevel=De.VERBOSE,Ba=pr.log.bind(pr)},vt=function(...s){if(Ty===!0&&(Ty=!1,Ba===null&&CA.get("logging_enabled")===!0&&RA()),Ba){const e=dl.apply(null,s);Ba(e)}},pl=function(s){return function(...e){vt(s,...e)}},Nh=function(...s){const e="FIREBASE INTERNAL ERROR: "+dl(...s);pr.error(e)},Zn=function(...s){const e=`FIREBASE FATAL ERROR: ${dl(...s)}`;throw pr.error(e),new Error(e)},Ut=function(...s){const e="FIREBASE WARNING: "+dl(...s);pr.warn(e)},AA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},od=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},NA=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},yr="[MIN_NAME]",hs="[MAX_NAME]",ys=function(s,e){if(s===e)return 0;if(s===yr||e===hs)return-1;if(e===yr||s===hs)return 1;{const i=Cy(s),a=Cy(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},OA=function(s,e){return s===e?0:s<e?-1:1},Ia=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+lt(e))},ud=function(s){if(typeof s!="object"||s===null)return lt(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=lt(e[a]),i+=":",i+=ud(s[e[a]]);return i+="}",i},EE=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function Et(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const bE=function(s){q(!od(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,c,h,d,p;s===0?(c=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),a),c=d+a,h=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(c=0,h=Math.round(s/Math.pow(2,1-a-i))));const m=[];for(p=i;p;p-=1)m.push(h%2?1:0),h=Math.floor(h/2);for(p=e;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);m.push(o?1:0),m.reverse();const v=m.join("");let b="";for(p=0;p<64;p+=8){let S=parseInt(v.substr(p,8),2).toString(16);S.length===1&&(S="0"+S),b=b+S}return b.toLowerCase()},xA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},MA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function IA(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const DA=new RegExp("^-?(0*)\\d{1,10}$"),kA=-2147483648,LA=2147483647,Cy=function(s){if(DA.test(s)){const e=Number(s);if(e>=kA&&e<=LA)return e}return null},Or=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Ut("Exception was thrown by user callback.",i),e},Math.floor(0))}},UA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qa=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,tn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ut(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ut(e)}}class Fo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="5",SE="v",TE="s",CE="r",wE="f",RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AE="ls",NE="p",Oh="ac",OE="websocket",xE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,i,a,o,c=!1,h="",d=!1,p=!1,m=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=as.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&as.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function HA(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function IE(s,e,i){q(typeof e=="string","typeof type must == string"),q(typeof i=="object","typeof params must == object");let a;if(e===OE)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===xE)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);HA(s)&&(i.ns=s.namespace);const o=[];return Et(i,(c,h)=>{o.push(c+"="+h)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.counters_={}}incrementCounter(e,i=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return RC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh={},uh={};function fd(s){const e=s.toString();return oh[e]||(oh[e]=new BA),oh[e]}function qA(s,e){const i=s.toString();return uh[i]||(uh[i]=e()),uh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Or(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="start",VA="close",GA="pLPCommand",YA="pRTLPCB",DE="id",kE="pw",LE="ser",FA="cb",KA="seg",WA="ts",QA="d",XA="dframe",UE=1870,PE=30,ZA=UE-PE,$A=25e3,JA=3e4;class cr{constructor(e,i,a,o,c,h,d){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pl(e),this.stats_=fd(i),this.urlFn=p=>(this.appCheckToken&&(p[Oh]=this.appCheckToken),IE(i,xE,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new jA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(JA)),NA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hd((...c)=>{const[h,d,p,m,v]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===wy)this.id=d,this.password=p;else if(h===VA)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,d]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[wy]="t",a[LE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[FA]=this.scriptTagHolder.uniqueCallbackIdentifier),a[SE]=cd,this.transportSessionId&&(a[TE]=this.transportSessionId),this.lastSessionId&&(a[AE]=this.lastSessionId),this.applicationId&&(a[NE]=this.applicationId),this.appCheckToken&&(a[Oh]=this.appCheckToken),typeof location<"u"&&location.hostname&&RE.test(location.hostname)&&(a[CE]=wE);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cr.forceAllow_=!0}static forceDisallow(){cr.forceDisallow_=!0}static isAvailable(){return cr.forceAllow_?!0:!cr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!xA()&&!MA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=lt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Sv(i),o=EE(a,ZA);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[XA]="t",a[DE]=e,a[kE]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=lt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class hd{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wA(),window[GA+this.uniqueCallbackIdentifier]=e,window[YA+this.uniqueCallbackIdentifier]=i,this.myIFrame=hd.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){vt("frame writing exception"),d.stack&&vt(d.stack),vt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[DE]=this.myID,e[kE]=this.myPW,e[LE]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+PE+a.length<=UE;){const h=this.pendingSegs.shift();a=a+"&"+KA+o+"="+h.seg+"&"+WA+o+"="+h.ts+"&"+QA+o+"="+h.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor($A)),c=()=>{clearTimeout(o),a()};this.addTag(e,c)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=16384,tN=45e3;let su=null;typeof MozWebSocket<"u"?su=MozWebSocket:typeof WebSocket<"u"&&(su=WebSocket);class un{constructor(e,i,a,o,c,h,d){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pl(this.connId),this.stats_=fd(i),this.connURL=un.connectionURL_(i,h,d,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,c){const h={};return h[SE]=cd,typeof location<"u"&&location.hostname&&RE.test(location.hostname)&&(h[CE]=wE),i&&(h[TE]=i),a&&(h[AE]=a),o&&(h[Oh]=o),c&&(h[NE]=c),IE(e,OE,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,as.set("previous_websocket_failure",!0);try{let a;HC(),this.mySock=new su(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){un.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&su!==null&&!un.forceDisallow_}static previouslyFailed(){return as.isInMemoryStorage||as.get("previous_websocket_failure")===!0}markConnectionHealthy(){as.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=Fa(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=lt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=EE(i,eN);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(tN))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}un.responsesRequiredToBeHealthy=2;un.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static get ALL_TRANSPORTS(){return[cr,un]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=un&&un.isAvailable();let a=i&&!un.previouslyFailed();if(e.webSocketOnly&&(i||Ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[un];else{const o=this.transports_=[];for(const c of Xa.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Xa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=6e4,iN=5e3,sN=10*1024,rN=100*1024,ch="t",Ry="d",aN="s",Ay="r",lN="e",Ny="o",Oy="a",xy="n",My="p",oN="h";class uN{constructor(e,i,a,o,c,h,d,p,m,v){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pl("c:"+this.id+":"),this.transportManager_=new Xa(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=qa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ch in e){const i=e[ch];i===Oy?this.upgradeIfSecondaryHealthy_():i===Ay?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Ny&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Ia("t",e),a=Ia("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:My,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Oy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Ia("t",e),a=Ia("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Ia(ch,e);if(Ry in e){const a=e[Ry];if(i===oN){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===xy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===aN?this.onConnectionShutdown_(a):i===Ay?this.onReset_(a):i===lN?Nh("Server Error: "+a):i===Ny?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nh("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),cd!==a&&Ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),qa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(nN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:My,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(as.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!a||a===o[c].context)){o.splice(c,1);return}}validateEventType_(e){q(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends HE{static getInstance(){return new ru}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=32,Dy=768;class ke{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Te(){return new ke("")}function ye(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ki(s){return s.pieces_.length-s.pieceNum_}function qe(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new ke(s.pieces_,e)}function dd(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function cN(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function Za(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function BE(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new ke(e,0)}function $e(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof ke)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new ke(i,0)}function _e(s){return s.pieceNum_>=s.pieces_.length}function Nt(s,e){const i=ye(s),a=ye(e);if(i===null)return e;if(i===a)return Nt(qe(s),qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function fN(s,e){const i=Za(s,0),a=Za(e,0);for(let o=0;o<i.length&&o<a.length;o++){const c=ys(i[o],a[o]);if(c!==0)return c}return i.length===a.length?0:i.length<a.length?-1:1}function qE(s,e){if(ki(s)!==ki(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function nn(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(ki(s)>ki(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class hN{constructor(e,i){this.errorPrefix_=i,this.parts_=Za(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=vu(this.parts_[a]);jE(this)}}function dN(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=vu(e),jE(s)}function pN(s){const e=s.parts_.pop();s.byteLength_-=vu(e),s.parts_.length>0&&(s.byteLength_-=1)}function jE(s){if(s.byteLength_>Dy)throw new Error(s.errorPrefix_+"has a key path longer than "+Dy+" bytes ("+s.byteLength_+").");if(s.parts_.length>Iy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Iy+") or object contains a cycle "+rs(s))}function rs(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends HE{static getInstance(){return new pd}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=1e3,mN=300*1e3,ky=30*1e3,gN=1.3,_N=3e4,yN="server_kill",Ly=3;class Kn extends zE{constructor(e,i,a,o,c,h,d,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Kn.nextPersistentConnectionId_++,this.log_=pl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Da,this.maxReconnectDelay_=mN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ru.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_(lt(c)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new yu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(e,i,a,o){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(h).set(c,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const c={p:a},h="q";e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(h,c,d=>{const p=d.d,m=d.s;Kn.warnOnListenWarnings_(p,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Rn(e,"w")){const a=gr(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||FC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ky)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=YC(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const c=o.s,h=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e},h="n";o&&(c.q=a,c.t=o),this.sendRequest(h,c)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const c={p:i,d:a};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,c){this.initConnection_();const h={p:i,d:a};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const c=a.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+lt(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Nh("Unrecognized action received from server: "+lt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_N&&(this.reconnectDelay_=Da),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Kn.nextConnectionId_++,c=this.lastSessionId;let h=!1,d=null;const p=function(){d?d.close():(h=!0,a())},m=function(b){q(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(b)};this.realtime_={close:p,sendRequest:m};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,S]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);h?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=S&&S.token,d=new uN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,x=>{Ut(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(yN)},c))}catch(b){this.log_("Failed to get token: "+b),h||(this.repoInfo_.nodeAdmin&&Ut(b),p())}}}interrupt(e){vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],yh(this.interruptReasons_)&&(this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(c=>ud(c)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new ke(e).toString();let o;if(this.listens.has(a)){const c=this.listens.get(a);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){vt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ly&&(this.reconnectDelay_=ky,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){vt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ly&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+_E.replace(/\./g,"-")]=1,Qh()?e["framework.cordova"]=1:Ov()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ru.getInstance().currentlyOnline();return yh(this.interruptReasons_)&&e}}Kn.nextPersistentConnectionId_=0;Kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new de(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new de(yr,e),o=new de(yr,i);return this.compare(a,o)!==0}minPost(){return de.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po;class VE extends Tu{static get __EMPTY_NODE(){return Po}static set __EMPTY_NODE(e){Po=e}compare(e,i){return ys(e.name,i.name)}isDefinedOn(e){throw Cr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return de.MIN}maxPost(){return new de(hs,Po)}makePost(e,i){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new de(e,Po)}toString(){return".key"}}const mr=new VE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,i,a,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=i?a(e.key,i):1,o&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??dt.RED,this.left=o??Lt.EMPTY_NODE,this.right=c??Lt.EMPTY_NODE}copy(e,i,a,o,c){return new dt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return Lt.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dt.RED=!0;dt.BLACK=!1;class vN{copy(e,i,a,o,c){return this}insert(e,i,a){return new dt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Lt{constructor(e,i=Lt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Lt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,dt.BLACK,null,null))}remove(e){return new Lt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dt.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new zo(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new zo(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new zo(this.root_,null,this.comparator_,!0,e)}}Lt.EMPTY_NODE=new vN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(s,e){return ys(s.name,e.name)}function md(s,e){return ys(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh;function bN(s){xh=s}const GE=function(s){return typeof s=="number"?"number:"+bE(s):"string:"+s},YE=function(s){if(s.isLeafNode()){const e=s.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else q(s===xh||s.isEmpty(),"priority of unexpected type.");q(s===xh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uy;class ht{static set __childrenNodeConstructor(e){Uy=e}static get __childrenNodeConstructor(){return Uy}constructor(e,i=ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),YE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ht(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _e(e)?this:ye(e)===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=ye(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(q(a!==".priority"||ki(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(qe(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+GE(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=bE(this.value_):e+=this.value_,this.lazyHash_=vE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ht.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ht.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=ht.VALUE_TYPE_ORDER.indexOf(i),c=ht.VALUE_TYPE_ORDER.indexOf(a);return q(o>=0,"Unknown leaf type: "+i),q(c>=0,"Unknown leaf type: "+a),o===c?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FE,KE;function SN(s){FE=s}function TN(s){KE=s}class CN extends Tu{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),c=a.compareTo(o);return c===0?ys(e.name,i.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return de.MIN}maxPost(){return new de(hs,new ht("[PRIORITY-POST]",KE))}makePost(e,i){const a=FE(e);return new de(i,new ht("[PRIORITY-POST]",a))}toString(){return".priority"}}const Je=new CN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=Math.log(2);class RN{constructor(e){const i=c=>parseInt(Math.log(c)/wN,10),a=c=>parseInt(Array(c+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const au=function(s,e,i,a){s.sort(e);const o=function(p,m){const v=m-p;let b,S;if(v===0)return null;if(v===1)return b=s[p],S=i?i(b):b,new dt(S,b.node,dt.BLACK,null,null);{const x=parseInt(v/2,10)+p,U=o(p,x),j=o(x+1,m);return b=s[x],S=i?i(b):b,new dt(S,b.node,dt.BLACK,U,j)}},c=function(p){let m=null,v=null,b=s.length;const S=function(U,j){const H=b-U,W=b;b-=U;const Y=o(H+1,W),$=s[H],Ce=i?i($):$;x(new dt(Ce,$.node,j,null,Y))},x=function(U){m?(m.left=U,m=U):(v=U,m=U)};for(let U=0;U<p.count;++U){const j=p.nextBitIsOne(),H=Math.pow(2,p.count-(U+1));j?S(H,dt.BLACK):(S(H,dt.BLACK),S(H,dt.RED))}return v},h=new RN(s.length),d=c(h);return new Lt(a||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh;const lr={};class Gn{static get Default(){return q(lr&&Je,"ChildrenNode.ts has not been loaded"),fh=fh||new Gn({".priority":lr},{".priority":Je}),fh}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=gr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Lt?i:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,i){q(e!==mr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const c=i.getIterator(de.Wrap);let h=c.getNext();for(;h;)o=o||e.isDefinedOn(h.node),a.push(h),h=c.getNext();let d;o?d=au(a,e.getCompare()):d=lr;const p=e.toString(),m={...this.indexSet_};m[p]=e;const v={...this.indexes_};return v[p]=d,new Gn(v,m)}addToIndexes(e,i){const a=Xo(this.indexes_,(o,c)=>{const h=gr(this.indexSet_,c);if(q(h,"Missing index implementation for "+c),o===lr)if(h.isDefinedOn(e.node)){const d=[],p=i.getIterator(de.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),au(d,h.getCompare())}else return lr;else{const d=i.get(e.name);let p=o;return d&&(p=p.remove(new de(e.name,d))),p.insert(e,e.node)}});return new Gn(a,this.indexSet_)}removeFromIndexes(e,i){const a=Xo(this.indexes_,o=>{if(o===lr)return o;{const c=i.get(e.name);return c?o.remove(new de(e.name,c)):o}});return new Gn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka;class se{static get EMPTY_NODE(){return ka||(ka=new se(new Lt(md),null,Gn.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&YE(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ka}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?ka:i}}getChild(e){const i=ye(e);return i===null?this:this.getImmediateChild(i).getChild(qe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(q(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new de(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(a,this.children_));const h=o.isEmpty()?ka:this.priorityNode_;return new se(o,h,c)}}updateChild(e,i){const a=ye(e);if(a===null)return i;{q(ye(e)!==".priority"||ki(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(qe(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,c=!0;if(this.forEachChild(Je,(h,d)=>{i[h]=d.val(e),a++,c&&se.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!e&&c&&o<2*a){const h=[];for(const d in i)h[d]=i[d];return h}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+GE(this.getPriority().val())+":"),this.forEachChild(Je,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":vE(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const c=o.getPredecessorKey(new de(e,i));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new de(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new de(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,de.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,de.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ml?-1:0}withIndex(e){if(e===mr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===mr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(Je),o=i.getIterator(Je);let c=a.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=a.getNext(),h=o.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===mr?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AN extends se{constructor(){super(new Lt(md),se.EMPTY_NODE,Gn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const ml=new AN;Object.defineProperties(de,{MIN:{value:new de(yr,se.EMPTY_NODE)},MAX:{value:new de(hs,ml)}});VE.__EMPTY_NODE=se.EMPTY_NODE;ht.__childrenNodeConstructor=se;bN(ml);TN(ml);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=!0;function pt(s,e=null){if(s===null)return se.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new ht(i,pt(e))}if(!(s instanceof Array)&&NN){const i=[];let a=!1;if(Et(s,(h,d)=>{if(h.substring(0,1)!=="."){const p=pt(d);p.isEmpty()||(a=a||!p.getPriority().isEmpty(),i.push(new de(h,p)))}}),i.length===0)return se.EMPTY_NODE;const c=au(i,EN,h=>h.name,md);if(a){const h=au(i,Je.getCompare());return new se(c,pt(e),new Gn({".priority":h},{".priority":Je}))}else return new se(c,pt(e),Gn.Default)}else{let i=se.EMPTY_NODE;return Et(s,(a,o)=>{if(Rn(s,a)&&a.substring(0,1)!=="."){const c=pt(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(a,c))}}),i.updatePriority(pt(e))}}SN(pt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON extends Tu{constructor(e){super(),this.indexPath_=e,q(!_e(e)&&ye(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),c=a.compareTo(o);return c===0?ys(e.name,i.name):c}makePost(e,i){const a=pt(e),o=se.EMPTY_NODE.updateChild(this.indexPath_,a);return new de(i,o)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,ml);return new de(hs,e)}toString(){return Za(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN extends Tu{compare(e,i){const a=e.node.compareTo(i.node);return a===0?ys(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return de.MIN}maxPost(){return de.MAX}makePost(e,i){const a=pt(e);return new de(i,a)}toString(){return".value"}}const MN=new xN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(s){return{type:"value",snapshotNode:s}}function vr(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function $a(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Ja(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function IN(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.index_=e}updateChild(e,i,a,o,c,h){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(o).equals(a.getChild(o))&&d.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?e.hasChild(i)?h.trackChildChange($a(i,d)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(vr(i,a)):h.trackChildChange(Ja(i,a,d))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(Je,(o,c)=>{i.hasChild(o)||a.trackChildChange($a(o,c))}),i.isLeafNode()||i.forEachChild(Je,(o,c)=>{if(e.hasChild(o)){const h=e.getImmediateChild(o);h.equals(c)||a.trackChildChange(Ja(o,c,h))}else a.trackChildChange(vr(o,c))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.indexedFilter_=new gd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=el.getStartPost_(e),this.endPost_=el.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,o,c,h){return this.matches(new de(i,a))||(a=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,o,c,h)}updateFullNode(e,i,a){i.isLeafNode()&&(i=se.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(se.EMPTY_NODE);const c=this;return i.forEachChild(Je,(h,d)=>{c.matches(new de(h,d))||(o=o.updateImmediateChild(h,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new el(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,o,c,h){return this.rangedFilter_.matches(new de(i,a))||(a=se.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,o,c,h):this.fullLimitUpdateChild_(e,i,a,c,h)}updateFullNode(e,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=se.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const d=c.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(se.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let h=0;for(;c.hasNext();){const d=c.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:o=o.updateImmediateChild(d.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,o,c){let h;if(this.reverse_){const b=this.index_.getCompare();h=(S,x)=>b(x,S)}else h=this.index_.getCompare();const d=e;q(d.numChildren()===this.limit_,"");const p=new de(i,a),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(p);if(d.hasChild(i)){const b=d.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,m,this.reverse_);for(;S!=null&&(S.name===i||d.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const x=S==null?1:h(S,p);if(v&&!a.isEmpty()&&x>=0)return c?.trackChildChange(Ja(i,a,b)),d.updateImmediateChild(i,a);{c?.trackChildChange($a(i,b));const j=d.updateImmediateChild(i,se.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(c?.trackChildChange(vr(S.name,S.node)),j.updateImmediateChild(S.name,S.node)):j}}else return a.isEmpty()?e:v&&h(m,p)>=0?(c!=null&&(c.trackChildChange($a(m.name,m.node)),c.trackChildChange(vr(i,a))),d.updateImmediateChild(i,a).updateImmediateChild(m.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yr}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Je}copy(){const e=new _d;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kN(s){return s.loadsAllData()?new gd(s.getIndex()):s.hasLimit()?new DN(s):new el(s)}function Py(s){const e={};if(s.isDefault())return e;let i;if(s.index_===Je?i="$priority":s.index_===MN?i="$value":s.index_===mr?i="$key":(q(s.index_ instanceof ON,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=lt(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=lt(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+lt(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=lt(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+lt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function zy(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==Je&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends zE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=pl("p:rest:"),this.listens_={}}listen(e,i,a,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const h=lu.getListenId_(e,a),d={};this.listens_[h]=d;const p=Py(e._queryParams);this.restRequest_(c+".json",p,(m,v)=>{let b=v;if(m===404&&(b=null,m=null),m===null&&this.onDataUpdate_(c,b,!1,a),gr(this.listens_,h)===d){let S;m?m===401?S="permission_denied":S="rest_error:"+m:S="ok",o(S,null)}})}unlisten(e,i){const a=lu.getListenId_(e,i);delete this.listens_[a]}get(e){const i=Py(e._queryParams),a=e._path.toString(),o=new yu;return this.restRequest_(a+".json",i,(c,h)=>{let d=h;c===404&&(d=null,c=null),c===null?(this.onDataUpdate_(a,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Rr(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=Fa(d.responseText)}catch{Ut("Failed to parse JSON response for "+h+": "+d.responseText)}a(null,p)}else d.status!==401&&d.status!==404&&Ut("Got unsuccessful REST response for "+h+" Status: "+d.status),a(d.status);a=null}},d.open("GET",h,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(){return{value:null,children:new Map}}function QE(s,e,i){if(_e(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=ye(e);s.children.has(a)||s.children.set(a,ou());const o=s.children.get(a);e=qe(e),QE(o,e,i)}}function Mh(s,e,i){s.value!==null?i(e,s.value):UN(s,(a,o)=>{const c=new ke(e.toString()+"/"+a);Mh(o,c,i)})}function UN(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&Et(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=10*1e3,zN=30*1e3,HN=300*1e3;class BN{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new PN(e);const a=Hy+(zN-Hy)*Math.random();qa(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;Et(e,(o,c)=>{c>0&&Rn(this.statsToReport_,o)&&(i[o]=c,a=!0)}),a&&this.server_.reportStats(i),qa(this.reportStats_.bind(this),Math.floor(Math.random()*2*HN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fn||(fn={}));function yd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ed(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=fn.ACK_USER_WRITE,this.source=yd()}operationForChild(e){if(_e(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new ke(e));return new uu(Te(),i,this.revert)}}else return q(ye(this.path)===e,"operationForChild called for unrelated child."),new uu(qe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,i){this.source=e,this.path=i,this.type=fn.LISTEN_COMPLETE}operationForChild(e){return _e(this.path)?new tl(this.source,Te()):new tl(this.source,qe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=fn.OVERWRITE}operationForChild(e){return _e(this.path)?new ds(this.source,Te(),this.snap.getImmediateChild(e)):new ds(this.source,qe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=fn.MERGE}operationForChild(e){if(_e(this.path)){const i=this.children.subtree(new ke(e));return i.isEmpty()?null:i.value?new ds(this.source,Te(),i.value):new Er(this.source,Te(),i)}else return q(ye(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Er(this.source,qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_e(e))return this.isFullyInitialized()&&!this.filtered_;const i=ye(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function jN(s,e,i,a){const o=[],c=[];return e.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(IN(h.childName,h.snapshotNode))}),La(s,o,"child_removed",e,a,i),La(s,o,"child_added",e,a,i),La(s,o,"child_moved",c,a,i),La(s,o,"child_changed",e,a,i),La(s,o,"value",e,a,i),o}function La(s,e,i,a,o,c){const h=a.filter(d=>d.type===i);h.sort((d,p)=>GN(s,d,p)),h.forEach(d=>{const p=VN(s,d,c);o.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,s.query_))})})}function VN(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function GN(s,e,i){if(e.childName==null||i.childName==null)throw Cr("Should only compare child_ events.");const a=new de(e.childName,e.snapshotNode),o=new de(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(s,e){return{eventCache:s,serverCache:e}}function ja(s,e,i,a){return Cu(new Li(e,i,a),s.serverCache)}function XE(s,e,i,a){return Cu(s.eventCache,new Li(e,i,a))}function cu(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function ps(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh;const YN=()=>(hh||(hh=new Lt(OA)),hh);class Be{static fromObject(e){let i=new Be(null);return Et(e,(a,o)=>{i=i.set(new ke(a),o)}),i}constructor(e,i=YN()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Te(),value:this.value};if(_e(e))return null;{const a=ye(e),o=this.children.get(a);if(o!==null){const c=o.findRootMostMatchingPathAndValue(qe(e),i);return c!=null?{path:$e(new ke(a),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_e(e))return this;{const i=ye(e),a=this.children.get(i);return a!==null?a.subtree(qe(e)):new Be(null)}}set(e,i){if(_e(e))return new Be(i,this.children);{const a=ye(e),c=(this.children.get(a)||new Be(null)).set(qe(e),i),h=this.children.insert(a,c);return new Be(this.value,h)}}remove(e){if(_e(e))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const i=ye(e),a=this.children.get(i);if(a){const o=a.remove(qe(e));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new Be(null):new Be(this.value,c)}else return this}}get(e){if(_e(e))return this.value;{const i=ye(e),a=this.children.get(i);return a?a.get(qe(e)):null}}setTree(e,i){if(_e(e))return i;{const a=ye(e),c=(this.children.get(a)||new Be(null)).setTree(qe(e),i);let h;return c.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,c),new Be(this.value,h)}}fold(e){return this.fold_(Te(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,c)=>{a[o]=c.fold_($e(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,Te(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(_e(e))return null;{const c=ye(e),h=this.children.get(c);return h?h.findOnPath_(qe(e),$e(i,c),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Te(),i)}foreachOnPath_(e,i,a){if(_e(e))return this;{this.value&&a(i,this.value);const o=ye(e),c=this.children.get(o);return c?c.foreachOnPath_(qe(e),$e(i,o),a):new Be(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_($e(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.writeTree_=e}static empty(){return new hn(new Be(null))}}function Va(s,e,i){if(_e(e))return new hn(new Be(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let c=a.value;const h=Nt(o,e);return c=c.updateChild(h,i),new hn(s.writeTree_.set(o,c))}else{const o=new Be(i),c=s.writeTree_.setTree(e,o);return new hn(c)}}}function Ih(s,e,i){let a=s;return Et(i,(o,c)=>{a=Va(a,$e(e,o),c)}),a}function By(s,e){if(_e(e))return hn.empty();{const i=s.writeTree_.setTree(e,new Be(null));return new hn(i)}}function Dh(s,e){return vs(s,e)!=null}function vs(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(Nt(i.path,e)):null}function qy(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Je,(a,o)=>{e.push(new de(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new de(a,o.value))}),e}function Ii(s,e){if(_e(e))return s;{const i=vs(s,e);return i!=null?new hn(new Be(i)):new hn(s.writeTree_.subtree(e))}}function kh(s){return s.writeTree_.isEmpty()}function br(s,e){return ZE(Te(),s.writeTree_,e)}function ZE(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(q(c.value!==null,"Priority writes must always be leaf nodes"),a=c.value):i=ZE($e(s,o),c,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild($e(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(s,e){return t0(e,s)}function FN(s,e,i,a,o){q(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=Va(s.visibleWrites,e,i)),s.lastWriteId=a}function KN(s,e,i,a){q(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:e,children:i,writeId:a,visible:!0}),s.visibleWrites=Ih(s.visibleWrites,e,i),s.lastWriteId=a}function WN(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function QN(s,e){const i=s.allWrites.findIndex(d=>d.writeId===e);q(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,c=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const d=s.allWrites[h];d.visible&&(h>=i&&XN(d,a.path)?o=!1:nn(a.path,d.path)&&(c=!0)),h--}if(o){if(c)return ZN(s),!0;if(a.snap)s.visibleWrites=By(s.visibleWrites,a.path);else{const d=a.children;Et(d,p=>{s.visibleWrites=By(s.visibleWrites,$e(a.path,p))})}return!0}else return!1}function XN(s,e){if(s.snap)return nn(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&nn($e(s.path,i),e))return!0;return!1}function ZN(s){s.visibleWrites=$E(s.allWrites,$N,Te()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function $N(s){return s.visible}function $E(s,e,i){let a=hn.empty();for(let o=0;o<s.length;++o){const c=s[o];if(e(c)){const h=c.path;let d;if(c.snap)nn(i,h)?(d=Nt(i,h),a=Va(a,d,c.snap)):nn(h,i)&&(d=Nt(h,i),a=Va(a,Te(),c.snap.getChild(d)));else if(c.children){if(nn(i,h))d=Nt(i,h),a=Ih(a,d,c.children);else if(nn(h,i))if(d=Nt(h,i),_e(d))a=Ih(a,Te(),c.children);else{const p=gr(c.children,ye(d));if(p){const m=p.getChild(qe(d));a=Va(a,Te(),m)}}}else throw Cr("WriteRecord should have .snap or .children")}}return a}function JE(s,e,i,a,o){if(!a&&!o){const c=vs(s.visibleWrites,e);if(c!=null)return c;{const h=Ii(s.visibleWrites,e);if(kh(h))return i;if(i==null&&!Dh(h,Te()))return null;{const d=i||se.EMPTY_NODE;return br(h,d)}}}else{const c=Ii(s.visibleWrites,e);if(!o&&kh(c))return i;if(!o&&i==null&&!Dh(c,Te()))return null;{const h=function(m){return(m.visible||o)&&(!a||!~a.indexOf(m.writeId))&&(nn(m.path,e)||nn(e,m.path))},d=$E(s.allWrites,h,e),p=i||se.EMPTY_NODE;return br(d,p)}}}function JN(s,e,i){let a=se.EMPTY_NODE;const o=vs(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Je,(c,h)=>{a=a.updateImmediateChild(c,h)}),a;if(i){const c=Ii(s.visibleWrites,e);return i.forEachChild(Je,(h,d)=>{const p=br(Ii(c,new ke(h)),d);a=a.updateImmediateChild(h,p)}),qy(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const c=Ii(s.visibleWrites,e);return qy(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function eO(s,e,i,a,o){q(a||o,"Either existingEventSnap or existingServerSnap must exist");const c=$e(e,i);if(Dh(s.visibleWrites,c))return null;{const h=Ii(s.visibleWrites,c);return kh(h)?o.getChild(i):br(h,o.getChild(i))}}function tO(s,e,i,a){const o=$e(e,i),c=vs(s.visibleWrites,o);if(c!=null)return c;if(a.isCompleteForChild(i)){const h=Ii(s.visibleWrites,o);return br(h,a.getNode().getImmediateChild(i))}else return null}function nO(s,e){return vs(s.visibleWrites,e)}function iO(s,e,i,a,o,c,h){let d;const p=Ii(s.visibleWrites,e),m=vs(p,Te());if(m!=null)d=m;else if(i!=null)d=br(p,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const v=[],b=h.getCompare(),S=c?d.getReverseIteratorFrom(a,h):d.getIteratorFrom(a,h);let x=S.getNext();for(;x&&v.length<o;)b(x,a)!==0&&v.push(x),x=S.getNext();return v}else return[]}function sO(){return{visibleWrites:hn.empty(),allWrites:[],lastWriteId:-1}}function fu(s,e,i,a){return JE(s.writeTree,s.treePath,e,i,a)}function bd(s,e){return JN(s.writeTree,s.treePath,e)}function jy(s,e,i,a){return eO(s.writeTree,s.treePath,e,i,a)}function hu(s,e){return nO(s.writeTree,$e(s.treePath,e))}function rO(s,e,i,a,o,c){return iO(s.writeTree,s.treePath,e,i,a,o,c)}function Sd(s,e,i){return tO(s.writeTree,s.treePath,e,i)}function e0(s,e){return t0($e(s.treePath,e),s.writeTree)}function t0(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),q(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(a,Ja(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(a,$a(a,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(a,vr(a,e.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(a,Ja(a,e.snapshotNode,o.oldSnap));else throw Cr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const n0=new lO;class Td{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new Li(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sd(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ps(this.viewCache_),c=rO(this.writes_,o,i,1,a,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(s){return{filter:s}}function uO(s,e){q(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function cO(s,e,i,a,o){const c=new aO;let h,d;if(i.type===fn.OVERWRITE){const m=i;m.source.fromUser?h=Lh(s,e,m.path,m.snap,a,o,c):(q(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!_e(m.path),h=du(s,e,m.path,m.snap,a,o,d,c))}else if(i.type===fn.MERGE){const m=i;m.source.fromUser?h=hO(s,e,m.path,m.children,a,o,c):(q(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),h=Uh(s,e,m.path,m.children,a,o,d,c))}else if(i.type===fn.ACK_USER_WRITE){const m=i;m.revert?h=mO(s,e,m.path,a,o,c):h=dO(s,e,m.path,m.affectedTree,a,o,c)}else if(i.type===fn.LISTEN_COMPLETE)h=pO(s,e,i.path,a,c);else throw Cr("Unknown operation type: "+i.type);const p=c.getChanges();return fO(e,h,p),{viewCache:h,changes:p}}function fO(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),c=cu(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(c)||!a.getNode().getPriority().equals(c.getPriority()))&&i.push(WE(cu(e)))}}function i0(s,e,i,a,o,c){const h=e.eventCache;if(hu(a,i)!=null)return e;{let d,p;if(_e(i))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=ps(e),v=m instanceof se?m:se.EMPTY_NODE,b=bd(a,v);d=s.filter.updateFullNode(e.eventCache.getNode(),b,c)}else{const m=fu(a,ps(e));d=s.filter.updateFullNode(e.eventCache.getNode(),m,c)}else{const m=ye(i);if(m===".priority"){q(ki(i)===1,"Can't have a priority with additional path components");const v=h.getNode();p=e.serverCache.getNode();const b=jy(a,i,v,p);b!=null?d=s.filter.updatePriority(v,b):d=h.getNode()}else{const v=qe(i);let b;if(h.isCompleteForChild(m)){p=e.serverCache.getNode();const S=jy(a,i,h.getNode(),p);S!=null?b=h.getNode().getImmediateChild(m).updateChild(v,S):b=h.getNode().getImmediateChild(m)}else b=Sd(a,m,e.serverCache);b!=null?d=s.filter.updateChild(h.getNode(),m,b,v,o,c):d=h.getNode()}}return ja(e,d,h.isFullyInitialized()||_e(i),s.filter.filtersNodes())}}function du(s,e,i,a,o,c,h,d){const p=e.serverCache;let m;const v=h?s.filter:s.filter.getIndexedFilter();if(_e(i))m=v.updateFullNode(p.getNode(),a,null);else if(v.filtersNodes()&&!p.isFiltered()){const x=p.getNode().updateChild(i,a);m=v.updateFullNode(p.getNode(),x,null)}else{const x=ye(i);if(!p.isCompleteForPath(i)&&ki(i)>1)return e;const U=qe(i),H=p.getNode().getImmediateChild(x).updateChild(U,a);x===".priority"?m=v.updatePriority(p.getNode(),H):m=v.updateChild(p.getNode(),x,H,U,n0,null)}const b=XE(e,m,p.isFullyInitialized()||_e(i),v.filtersNodes()),S=new Td(o,b,c);return i0(s,b,i,o,S,d)}function Lh(s,e,i,a,o,c,h){const d=e.eventCache;let p,m;const v=new Td(o,e,c);if(_e(i))m=s.filter.updateFullNode(e.eventCache.getNode(),a,h),p=ja(e,m,!0,s.filter.filtersNodes());else{const b=ye(i);if(b===".priority")m=s.filter.updatePriority(e.eventCache.getNode(),a),p=ja(e,m,d.isFullyInitialized(),d.isFiltered());else{const S=qe(i),x=d.getNode().getImmediateChild(b);let U;if(_e(S))U=a;else{const j=v.getCompleteChild(b);j!=null?dd(S)===".priority"&&j.getChild(BE(S)).isEmpty()?U=j:U=j.updateChild(S,a):U=se.EMPTY_NODE}if(x.equals(U))p=e;else{const j=s.filter.updateChild(d.getNode(),b,U,S,v,h);p=ja(e,j,d.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function Vy(s,e){return s.eventCache.isCompleteForChild(e)}function hO(s,e,i,a,o,c,h){let d=e;return a.foreach((p,m)=>{const v=$e(i,p);Vy(e,ye(v))&&(d=Lh(s,d,v,m,o,c,h))}),a.foreach((p,m)=>{const v=$e(i,p);Vy(e,ye(v))||(d=Lh(s,d,v,m,o,c,h))}),d}function Gy(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function Uh(s,e,i,a,o,c,h,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;_e(i)?m=a:m=new Be(null).setTree(i,a);const v=e.serverCache.getNode();return m.children.inorderTraversal((b,S)=>{if(v.hasChild(b)){const x=e.serverCache.getNode().getImmediateChild(b),U=Gy(s,x,S);p=du(s,p,new ke(b),U,o,c,h,d)}}),m.children.inorderTraversal((b,S)=>{const x=!e.serverCache.isCompleteForChild(b)&&S.value===null;if(!v.hasChild(b)&&!x){const U=e.serverCache.getNode().getImmediateChild(b),j=Gy(s,U,S);p=du(s,p,new ke(b),j,o,c,h,d)}}),p}function dO(s,e,i,a,o,c,h){if(hu(o,i)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(a.value!=null){if(_e(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return du(s,e,i,p.getNode().getChild(i),o,c,d,h);if(_e(i)){let m=new Be(null);return p.getNode().forEachChild(mr,(v,b)=>{m=m.set(new ke(v),b)}),Uh(s,e,i,m,o,c,d,h)}else return e}else{let m=new Be(null);return a.foreach((v,b)=>{const S=$e(i,v);p.isCompleteForPath(S)&&(m=m.set(v,p.getNode().getChild(S)))}),Uh(s,e,i,m,o,c,d,h)}}function pO(s,e,i,a,o){const c=e.serverCache,h=XE(e,c.getNode(),c.isFullyInitialized()||_e(i),c.isFiltered());return i0(s,h,i,a,n0,o)}function mO(s,e,i,a,o,c){let h;if(hu(a,i)!=null)return e;{const d=new Td(a,e,o),p=e.eventCache.getNode();let m;if(_e(i)||ye(i)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=fu(a,ps(e));else{const b=e.serverCache.getNode();q(b instanceof se,"serverChildren would be complete if leaf node"),v=bd(a,b)}v=v,m=s.filter.updateFullNode(p,v,c)}else{const v=ye(i);let b=Sd(a,v,e.serverCache);b==null&&e.serverCache.isCompleteForChild(v)&&(b=p.getImmediateChild(v)),b!=null?m=s.filter.updateChild(p,v,b,qe(i),d,c):e.eventCache.getNode().hasChild(v)?m=s.filter.updateChild(p,v,se.EMPTY_NODE,qe(i),d,c):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=fu(a,ps(e)),h.isLeafNode()&&(m=s.filter.updateFullNode(m,h,c)))}return h=e.serverCache.isFullyInitialized()||hu(a,Te())!=null,ja(e,m,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new gd(a.getIndex()),c=kN(a);this.processor_=oO(c);const h=i.serverCache,d=i.eventCache,p=o.updateFullNode(se.EMPTY_NODE,h.getNode(),null),m=c.updateFullNode(se.EMPTY_NODE,d.getNode(),null),v=new Li(p,h.isFullyInitialized(),o.filtersNodes()),b=new Li(m,d.isFullyInitialized(),c.filtersNodes());this.viewCache_=Cu(b,v),this.eventGenerator_=new qN(this.query_)}get query(){return this.query_}}function _O(s){return s.viewCache_.serverCache.getNode()}function yO(s){return cu(s.viewCache_)}function vO(s,e){const i=ps(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!_e(e)&&!i.getImmediateChild(ye(e)).isEmpty())?i.getChild(e):null}function Yy(s){return s.eventRegistrations_.length===0}function EO(s,e){s.eventRegistrations_.push(e)}function Fy(s,e,i){const a=[];if(i){q(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(i,o);h&&a.push(h)})}if(e){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const h=s.eventRegistrations_[c];if(!h.matches(e))o.push(h);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Ky(s,e,i,a){e.type===fn.MERGE&&e.source.queryId!==null&&(q(ps(s.viewCache_),"We should always have a full cache before handling merges"),q(cu(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=cO(s.processor_,o,e,i,a);return uO(s.processor_,c.viewCache),q(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,s0(s,c.changes,c.viewCache.eventCache.getNode(),null)}function bO(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Je,(c,h)=>{a.push(vr(c,h))}),i.isFullyInitialized()&&a.push(WE(i.getNode())),s0(s,a,i.getNode(),e)}function s0(s,e,i,a){const o=a?[a]:s.eventRegistrations_;return jN(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu;class r0{constructor(){this.views=new Map}}function SO(s){q(!pu,"__referenceConstructor has already been defined"),pu=s}function TO(){return q(pu,"Reference.ts has not been loaded"),pu}function CO(s){return s.views.size===0}function Cd(s,e,i,a){const o=e.source.queryId;if(o!==null){const c=s.views.get(o);return q(c!=null,"SyncTree gave us an op for an invalid query."),Ky(c,e,i,a)}else{let c=[];for(const h of s.views.values())c=c.concat(Ky(h,e,i,a));return c}}function a0(s,e,i,a,o){const c=e._queryIdentifier,h=s.views.get(c);if(!h){let d=fu(i,o?a:null),p=!1;d?p=!0:a instanceof se?(d=bd(i,a),p=!1):(d=se.EMPTY_NODE,p=!1);const m=Cu(new Li(d,p,!1),new Li(a,o,!1));return new gO(e,m)}return h}function wO(s,e,i,a,o,c){const h=a0(s,e,a,o,c);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,h),EO(h,i),bO(h,i)}function RO(s,e,i,a){const o=e._queryIdentifier,c=[];let h=[];const d=Ui(s);if(o==="default")for(const[p,m]of s.views.entries())h=h.concat(Fy(m,i,a)),Yy(m)&&(s.views.delete(p),m.query._queryParams.loadsAllData()||c.push(m.query));else{const p=s.views.get(o);p&&(h=h.concat(Fy(p,i,a)),Yy(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||c.push(p.query)))}return d&&!Ui(s)&&c.push(new(TO())(e._repo,e._path)),{removed:c,events:h}}function l0(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Di(s,e){let i=null;for(const a of s.views.values())i=i||vO(a,e);return i}function o0(s,e){if(e._queryParams.loadsAllData())return Ru(s);{const a=e._queryIdentifier;return s.views.get(a)}}function u0(s,e){return o0(s,e)!=null}function Ui(s){return Ru(s)!=null}function Ru(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;function AO(s){q(!mu,"__referenceConstructor has already been defined"),mu=s}function NO(){return q(mu,"Reference.ts has not been loaded"),mu}let OO=1;class Wy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Be(null),this.pendingWriteTree_=sO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xO(s,e,i,a,o){return FN(s.pendingWriteTree_,e,i,a,o),o?xr(s,new ds(yd(),e,i)):[]}function MO(s,e,i,a){KN(s.pendingWriteTree_,e,i,a);const o=Be.fromObject(i);return xr(s,new Er(yd(),e,o))}function ls(s,e,i=!1){const a=WN(s.pendingWriteTree_,e);if(QN(s.pendingWriteTree_,e)){let c=new Be(null);return a.snap!=null?c=c.set(Te(),!0):Et(a.children,h=>{c=c.set(new ke(h),!0)}),xr(s,new uu(a.path,c,i))}else return[]}function gl(s,e,i){return xr(s,new ds(vd(),e,i))}function IO(s,e,i){const a=Be.fromObject(i);return xr(s,new Er(vd(),e,a))}function DO(s,e){return xr(s,new tl(vd(),e))}function kO(s,e,i){const a=wd(s,i);if(a){const o=Rd(a),c=o.path,h=o.queryId,d=Nt(c,e),p=new tl(Ed(h),d);return Ad(s,c,p)}else return[]}function c0(s,e,i,a,o=!1){const c=e._path,h=s.syncPointTree_.get(c);let d=[];if(h&&(e._queryIdentifier==="default"||u0(h,e))){const p=RO(h,e,i,a);CO(h)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const m=p.removed;if(d=p.events,!o){const v=m.findIndex(S=>S._queryParams.loadsAllData())!==-1,b=s.syncPointTree_.findOnPath(c,(S,x)=>Ui(x));if(v&&!b){const S=s.syncPointTree_.subtree(c);if(!S.isEmpty()){const x=zO(S);for(let U=0;U<x.length;++U){const j=x[U],H=j.query,W=m0(s,j);s.listenProvider_.startListening(Ga(H),nl(s,H),W.hashFn,W.onComplete)}}}!b&&m.length>0&&!a&&(v?s.listenProvider_.stopListening(Ga(e),null):m.forEach(S=>{const x=s.queryToTagMap.get(Au(S));s.listenProvider_.stopListening(Ga(S),x)}))}HO(s,m)}return d}function f0(s,e,i,a){const o=wd(s,a);if(o!=null){const c=Rd(o),h=c.path,d=c.queryId,p=Nt(h,e),m=new ds(Ed(d),p,i);return Ad(s,h,m)}else return[]}function LO(s,e,i,a){const o=wd(s,a);if(o){const c=Rd(o),h=c.path,d=c.queryId,p=Nt(h,e),m=Be.fromObject(i),v=new Er(Ed(d),p,m);return Ad(s,h,v)}else return[]}function UO(s,e,i,a=!1){const o=e._path;let c=null,h=!1;s.syncPointTree_.foreachOnPath(o,(S,x)=>{const U=Nt(S,o);c=c||Di(x,U),h=h||Ui(x)});let d=s.syncPointTree_.get(o);d?(h=h||Ui(d),c=c||Di(d,Te())):(d=new r0,s.syncPointTree_=s.syncPointTree_.set(o,d));let p;c!=null?p=!0:(p=!1,c=se.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((x,U)=>{const j=Di(U,Te());j&&(c=c.updateImmediateChild(x,j))}));const m=u0(d,e);if(!m&&!e._queryParams.loadsAllData()){const S=Au(e);q(!s.queryToTagMap.has(S),"View does not exist, but we have a tag");const x=BO();s.queryToTagMap.set(S,x),s.tagToQueryMap.set(x,S)}const v=wu(s.pendingWriteTree_,o);let b=wO(d,e,i,v,c,p);if(!m&&!h&&!a){const S=o0(d,e);b=b.concat(qO(s,e,S))}return b}function h0(s,e,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(e,(h,d)=>{const p=Nt(h,e),m=Di(d,p);if(m)return m});return JE(o,e,c,i,!0)}function PO(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(m,v)=>{const b=Nt(m,i);a=a||Di(v,b)});let o=s.syncPointTree_.get(i);o?a=a||Di(o,Te()):(o=new r0,s.syncPointTree_=s.syncPointTree_.set(i,o));const c=a!=null,h=c?new Li(a,!0,!1):null,d=wu(s.pendingWriteTree_,e._path),p=a0(o,e,d,c?h.getNode():se.EMPTY_NODE,c);return yO(p)}function xr(s,e){return d0(e,s.syncPointTree_,null,wu(s.pendingWriteTree_,Te()))}function d0(s,e,i,a){if(_e(s.path))return p0(s,e,i,a);{const o=e.get(Te());i==null&&o!=null&&(i=Di(o,Te()));let c=[];const h=ye(s.path),d=s.operationForChild(h),p=e.children.get(h);if(p&&d){const m=i?i.getImmediateChild(h):null,v=e0(a,h);c=c.concat(d0(d,p,m,v))}return o&&(c=c.concat(Cd(o,s,a,i))),c}}function p0(s,e,i,a){const o=e.get(Te());i==null&&o!=null&&(i=Di(o,Te()));let c=[];return e.children.inorderTraversal((h,d)=>{const p=i?i.getImmediateChild(h):null,m=e0(a,h),v=s.operationForChild(h);v&&(c=c.concat(p0(v,d,p,m)))}),o&&(c=c.concat(Cd(o,s,a,i))),c}function m0(s,e){const i=e.query,a=nl(s,i);return{hashFn:()=>(_O(e)||se.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?kO(s,i._path,a):DO(s,i._path);{const c=IA(o,i);return c0(s,i,null,c)}}}}function nl(s,e){const i=Au(e);return s.queryToTagMap.get(i)}function Au(s){return s._path.toString()+"$"+s._queryIdentifier}function wd(s,e){return s.tagToQueryMap.get(e)}function Rd(s){const e=s.indexOf("$");return q(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new ke(s.substr(0,e))}}function Ad(s,e,i){const a=s.syncPointTree_.get(e);q(a,"Missing sync point for query tag that we're tracking");const o=wu(s.pendingWriteTree_,e);return Cd(a,i,o,null)}function zO(s){return s.fold((e,i,a)=>{if(i&&Ui(i))return[Ru(i)];{let o=[];return i&&(o=l0(i)),Et(a,(c,h)=>{o=o.concat(h)}),o}})}function Ga(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(NO())(s._repo,s._path):s}function HO(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const o=Au(a),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function BO(){return OO++}function qO(s,e,i){const a=e._path,o=nl(s,e),c=m0(s,i),h=s.listenProvider_.startListening(Ga(e),o,c.hashFn,c.onComplete),d=s.syncPointTree_.subtree(a);if(o)q(!Ui(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,v,b)=>{if(!_e(m)&&v&&Ui(v))return[Ru(v).query];{let S=[];return v&&(S=S.concat(l0(v).map(x=>x.query))),Et(b,(x,U)=>{S=S.concat(U)}),S}});for(let m=0;m<p.length;++m){const v=p[m];s.listenProvider_.stopListening(Ga(v),nl(s,v))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Nd(i)}node(){return this.node_}}class Od{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=$e(this.path_,e);return new Od(this.syncTree_,i)}node(){return h0(this.syncTree_,this.path_)}}const jO=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Qy=function(s,e,i){if(!s||typeof s!="object")return s;if(q(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return VO(s[".sv"],e,i);if(typeof s[".sv"]=="object")return GO(s[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},VO=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:q(!1,"Unexpected server value: "+s)}},GO=function(s,e,i){s.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&q(!1,"Unexpected increment value: "+a);const o=e.node();if(q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const h=o.getValue();return typeof h!="number"?a:h+a},g0=function(s,e,i,a){return xd(e,new Od(i,s),a)},YO=function(s,e,i){return xd(s,new Nd(e),i)};function xd(s,e,i){const a=s.getPriority().val(),o=Qy(a,e.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const h=s,d=Qy(h.getValue(),e,i);return d!==h.getValue()||o!==h.getPriority().val()?new ht(d,pt(o)):s}else{const h=s;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new ht(o))),h.forEachChild(Je,(d,p)=>{const m=xd(p,e.getImmediateChild(d),i);m!==p&&(c=c.updateImmediateChild(d,m))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function Id(s,e){let i=e instanceof ke?e:new ke(e),a=s,o=ye(i);for(;o!==null;){const c=gr(a.node.children,o)||{children:{},childCount:0};a=new Md(o,a,c),i=qe(i),o=ye(i)}return a}function Mr(s){return s.node.value}function _0(s,e){s.node.value=e,Ph(s)}function y0(s){return s.node.childCount>0}function FO(s){return Mr(s)===void 0&&!y0(s)}function Nu(s,e){Et(s.node.children,(i,a)=>{e(new Md(i,s,a))})}function v0(s,e,i,a){i&&e(s),Nu(s,o=>{v0(o,e,!0)})}function KO(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function _l(s){return new ke(s.parent===null?s.name:_l(s.parent)+"/"+s.name)}function Ph(s){s.parent!==null&&WO(s.parent,s.name,s)}function WO(s,e,i){const a=FO(i),o=Rn(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,Ph(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,Ph(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=/[\[\].#$\/\u0000-\u001F\u007F]/,XO=/[\[\].#$\u0000-\u001F\u007F]/,dh=10*1024*1024,Dd=function(s){return typeof s=="string"&&s.length!==0&&!QO.test(s)},E0=function(s){return typeof s=="string"&&s.length!==0&&!XO.test(s)},ZO=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),E0(s)},$O=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!od(s)||s&&typeof s=="object"&&Rn(s,".sv")},kd=function(s,e,i){const a=i instanceof ke?new hN(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+rs(a));if(typeof e=="function")throw new Error(s+"contains a function "+rs(a)+" with contents = "+e.toString());if(od(e))throw new Error(s+"contains "+e.toString()+" "+rs(a));if(typeof e=="string"&&e.length>dh/3&&vu(e)>dh)throw new Error(s+"contains a string greater than "+dh+" utf8 bytes "+rs(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(Et(e,(h,d)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!Dd(h)))throw new Error(s+" contains an invalid key ("+h+") "+rs(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dN(a,h),kd(s,d,a),pN(a)}),o&&c)throw new Error(s+' contains ".value" child '+rs(a)+" in addition to actual children.")}},JO=function(s,e){let i,a;for(i=0;i<e.length;i++){a=e[i];const c=Za(a);for(let h=0;h<c.length;h++)if(!(c[h]===".priority"&&h===c.length-1)){if(!Dd(c[h]))throw new Error(s+"contains an invalid key ("+c[h]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(fN);let o=null;for(i=0;i<e.length;i++){if(a=e[i],o!==null&&nn(o,a))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},ex=function(s,e,i,a){const o=Xh(s,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const c=[];Et(e,(h,d)=>{const p=new ke(h);if(kd(o,d,$e(i,p)),dd(p)===".priority"&&!$O(d))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(p)}),JO(o,c)},b0=function(s,e,i,a){if(!E0(i))throw new Error(Xh(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tx=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),b0(s,e,i)},nx=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Dd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!ZO(i))throw new Error(Xh(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function S0(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],c=o.getPath();i!==null&&!qE(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function Cn(s,e,i){S0(s,i),sx(s,a=>nn(a,e)||nn(e,a))}function sx(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const c=o.path;e(c)?(rx(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function rx(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();Ba&&vt("event: "+i.toString()),Or(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="repo_interrupt",lx=25;class ox{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ix,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ou(),this.transactionQueueTree_=new Md,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ux(s,e,i){if(s.stats_=fd(s.repoInfo_),s.forceRestClient_||UA())s.server_=new lu(s.repoInfo_,(a,o,c,h)=>{Xy(s,a,o,c,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Zy(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lt(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new Kn(s.repoInfo_,e,(a,o,c,h)=>{Xy(s,a,o,c,h)},a=>{Zy(s,a)},a=>{fx(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=qA(s.repoInfo_,()=>new BN(s.stats_,s.server_)),s.infoData_=new LN,s.infoSyncTree_=new Wy({startListening:(a,o,c,h)=>{let d=[];const p=s.infoData_.getNode(a._path);return p.isEmpty()||(d=gl(s.infoSyncTree_,a._path,p),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),Ud(s,"connected",!1),s.serverSyncTree_=new Wy({startListening:(a,o,c,h)=>(s.server_.listen(a,c,o,(d,p)=>{const m=h(d,p);Cn(s.eventQueue_,a._path,m)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function cx(s){const i=s.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Ld(s){return jO({timestamp:cx(s)})}function Xy(s,e,i,a,o){s.dataUpdateCount++;const c=new ke(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let h=[];if(o)if(a){const p=Xo(i,m=>pt(m));h=LO(s.serverSyncTree_,c,p,o)}else{const p=pt(i);h=f0(s.serverSyncTree_,c,p,o)}else if(a){const p=Xo(i,m=>pt(m));h=IO(s.serverSyncTree_,c,p)}else{const p=pt(i);h=gl(s.serverSyncTree_,c,p)}let d=c;h.length>0&&(d=il(s,c)),Cn(s.eventQueue_,d,h)}function Zy(s,e){Ud(s,"connected",e),e===!1&&px(s)}function fx(s,e){Et(e,(i,a)=>{Ud(s,i,a)})}function Ud(s,e,i){const a=new ke("/.info/"+e),o=pt(i);s.infoData_.updateSnapshot(a,o);const c=gl(s.infoSyncTree_,a,o);Cn(s.eventQueue_,a,c)}function T0(s){return s.nextWriteId_++}function hx(s,e,i){const a=PO(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(o=>{const c=pt(o).withIndex(e._queryParams.getIndex());UO(s.serverSyncTree_,e,i,!0);let h;if(e._queryParams.loadsAllData())h=gl(s.serverSyncTree_,e._path,c);else{const d=nl(s.serverSyncTree_,e);h=f0(s.serverSyncTree_,e._path,c,d)}return Cn(s.eventQueue_,e._path,h),c0(s.serverSyncTree_,e,i,null,!0),c},o=>(Ou(s,"get for query "+lt(e)+" failed: "+o),Promise.reject(new Error(o))))}function dx(s,e,i,a){Ou(s,"update",{path:e.toString(),value:i});let o=!0;const c=Ld(s),h={};if(Et(i,(d,p)=>{o=!1,h[d]=g0($e(e,d),pt(p),s.serverSyncTree_,c)}),o)vt("update() called with empty data.  Don't do anything."),$y(s,a,"ok",void 0);else{const d=T0(s),p=MO(s.serverSyncTree_,e,h,d);S0(s.eventQueue_,p),s.server_.merge(e.toString(),i,(m,v)=>{const b=m==="ok";b||Ut("update at "+e+" failed: "+m);const S=ls(s.serverSyncTree_,d,!b),x=S.length>0?il(s,e):e;Cn(s.eventQueue_,x,S),$y(s,a,m,v)}),Et(i,m=>{const v=N0(s,$e(e,m));il(s,v)}),Cn(s.eventQueue_,e,[])}}function px(s){Ou(s,"onDisconnectEvents");const e=Ld(s),i=ou();Mh(s.onDisconnect_,Te(),(o,c)=>{const h=g0(o,c,s.serverSyncTree_,e);QE(i,o,h)});let a=[];Mh(i,Te(),(o,c)=>{a=a.concat(gl(s.serverSyncTree_,o,c));const h=N0(s,o);il(s,h)}),s.onDisconnect_=ou(),Cn(s.eventQueue_,Te(),a)}function mx(s){s.persistentConnection_&&s.persistentConnection_.interrupt(ax)}function Ou(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),vt(i,...e)}function $y(s,e,i,a){e&&Or(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let c=o;a&&(c+=": "+a);const h=new Error(c);h.code=o,e(h)}})}function C0(s,e,i){return h0(s.serverSyncTree_,e,i)||se.EMPTY_NODE}function Pd(s,e=s.transactionQueueTree_){if(e||xu(s,e),Mr(e)){const i=R0(s,e);q(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&gx(s,_l(e),i)}else y0(e)&&Nu(e,i=>{Pd(s,i)})}function gx(s,e,i){const a=i.map(m=>m.currentWriteId),o=C0(s,e,a);let c=o;const h=o.hash();for(let m=0;m<i.length;m++){const v=i[m];q(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const b=Nt(e,v.path);c=c.updateChild(b,v.currentOutputSnapshotRaw)}const d=c.val(!0),p=e;s.server_.put(p.toString(),d,m=>{Ou(s,"transaction put response",{path:p.toString(),status:m});let v=[];if(m==="ok"){const b=[];for(let S=0;S<i.length;S++)i[S].status=2,v=v.concat(ls(s.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&b.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();xu(s,Id(s.transactionQueueTree_,e)),Pd(s,s.transactionQueueTree_),Cn(s.eventQueue_,e,v);for(let S=0;S<b.length;S++)Or(b[S])}else{if(m==="datastale")for(let b=0;b<i.length;b++)i[b].status===3?i[b].status=4:i[b].status=0;else{Ut("transaction at "+p.toString()+" failed: "+m);for(let b=0;b<i.length;b++)i[b].status=4,i[b].abortReason=m}il(s,e)}},h)}function il(s,e){const i=w0(s,e),a=_l(i),o=R0(s,i);return _x(s,o,a),a}function _x(s,e,i){if(e.length===0)return;const a=[];let o=[];const h=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=Nt(i,p.path);let v=!1,b;if(q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,b=p.abortReason,o=o.concat(ls(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=lx)v=!0,b="maxretry",o=o.concat(ls(s.serverSyncTree_,p.currentWriteId,!0));else{const S=C0(s,p.path,h);p.currentInputSnapshot=S;const x=e[d].update(S.val());if(x!==void 0){kd("transaction failed: Data returned ",x,p.path);let U=pt(x);typeof x=="object"&&x!=null&&Rn(x,".priority")||(U=U.updatePriority(S.getPriority()));const H=p.currentWriteId,W=Ld(s),Y=YO(U,S,W);p.currentOutputSnapshotRaw=U,p.currentOutputSnapshotResolved=Y,p.currentWriteId=T0(s),h.splice(h.indexOf(H),1),o=o.concat(xO(s.serverSyncTree_,p.path,Y,p.currentWriteId,p.applyLocally)),o=o.concat(ls(s.serverSyncTree_,H,!0))}else v=!0,b="nodata",o=o.concat(ls(s.serverSyncTree_,p.currentWriteId,!0))}Cn(s.eventQueue_,i,o),o=[],v&&(e[d].status=2,(function(S){setTimeout(S,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(b==="nodata"?a.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):a.push(()=>e[d].onComplete(new Error(b),!1,null))))}xu(s,s.transactionQueueTree_);for(let d=0;d<a.length;d++)Or(a[d]);Pd(s,s.transactionQueueTree_)}function w0(s,e){let i,a=s.transactionQueueTree_;for(i=ye(e);i!==null&&Mr(a)===void 0;)a=Id(a,i),e=qe(e),i=ye(e);return a}function R0(s,e){const i=[];return A0(s,e,i),i.sort((a,o)=>a.order-o.order),i}function A0(s,e,i){const a=Mr(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);Nu(e,o=>{A0(s,o,i)})}function xu(s,e){const i=Mr(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,_0(e,i.length>0?i:void 0)}Nu(e,a=>{xu(s,a)})}function N0(s,e){const i=_l(w0(s,e)),a=Id(s.transactionQueueTree_,e);return KO(a,o=>{ph(s,o)}),ph(s,a),v0(a,o=>{ph(s,o)}),i}function ph(s,e){const i=Mr(e);if(i){const a=[];let o=[],c=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(q(c===h-1,"All SENT items should be at beginning of queue."),c=h,i[h].status=3,i[h].abortReason="set"):(q(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(ls(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&a.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?_0(e,void 0):i.length=c+1,Cn(s.eventQueue_,_l(e),o);for(let h=0;h<a.length;h++)Or(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function vx(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Ut(`Invalid query segment '${i}' in query '${s}'`)}return e}const Jy=function(s,e){const i=Ex(s),a=i.namespace;i.domain==="firebase.com"&&Zn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||AA();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new ME(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new ke(i.pathString)}},Ex=function(s){let e="",i="",a="",o="",c="",h=!0,d="https",p=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(d=s.substring(0,m-1),s=s.substring(m+2));let v=s.indexOf("/");v===-1&&(v=s.length);let b=s.indexOf("?");b===-1&&(b=s.length),e=s.substring(0,Math.min(v,b)),v<b&&(o=yx(s.substring(v,b)));const S=vx(s.substring(Math.min(s.length,b)));m=e.indexOf(":"),m>=0?(h=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const x=e.slice(0,m);if(x.toLowerCase()==="localhost")i="localhost";else if(x.split(".").length<=2)i=x;else{const U=e.indexOf(".");a=e.substring(0,U).toLowerCase(),i=e.substring(U+1),c=a}"ns"in S&&(c=S.ns)}return{host:e,port:p,domain:i,subdomain:a,secure:h,scheme:d,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,i,a,o){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+lt(this.snapshot.exportVal())}}class Sx{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return _e(this._path)?null:dd(this._path)}get ref(){return new Jn(this._repo,this._path)}get _queryIdentifier(){const e=zy(this._queryParams),i=ud(e);return i==="{}"?"default":i}get _queryObject(){return zy(this._queryParams)}isEqual(e){if(e=sn(e),!(e instanceof zd))return!1;const i=this._repo===e._repo,a=qE(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+cN(this._path)}}class Jn extends zd{constructor(e,i){super(e,i,new _d,!1)}get parent(){const e=BE(this._path);return e===null?null:new Jn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class sl{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new ke(e),a=zh(this.ref,e);return new sl(this._node.getChild(i),a,Je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new sl(o,zh(this.ref,a),Je)))}hasChild(e){const i=new ke(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ev(s,e){return s=sn(s),s._checkNotDeleted("ref"),e!==void 0?zh(s._root,e):s._root}function zh(s,e){return s=sn(s),ye(s._path)===null?tx("child","path",e):b0("child","path",e),new Jn(s._repo,$e(s._path,e))}function Cx(s,e){ex("update",e,s._path);const i=new yu;return dx(s._repo,s._path,e,i.wrapCallback(()=>{})),i.promise}function wx(s){s=sn(s);const e=new Tx(()=>{}),i=new Hd(e);return hx(s._repo,s,i).then(a=>new sl(a,new Jn(s._repo,s._path),s._queryParams.getIndex()))}class Hd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new bx("value",this,new sl(e.snapshotNode,new Jn(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new Sx(this,e,i):null}matches(e){return e instanceof Hd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}SO(Jn);AO(Jn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="FIREBASE_DATABASE_EMULATOR_HOST",Hh={};let Ax=!1;function Nx(s,e,i,a){const o=e.lastIndexOf(":"),c=e.substring(0,o),h=wr(c);s.repoInfo_=new ME(e,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function Ox(s,e,i,a,o){let c=a||s.options.databaseURL;c===void 0&&(s.options.projectId||Zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Jy(c,o),d=h.repoInfo,p;typeof process<"u"&&Ey&&(p=Ey[Rx]),p?(c=`http://${p}?ns=${d.namespace}`,h=Jy(c,o),d=h.repoInfo):h.repoInfo.secure;const m=new zA(s.name,s.options,e);nx("Invalid Firebase Database URL",h),_e(h.path)||Zn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=Mx(d,s,m,new PA(s,i));return new Ix(v,s)}function xx(s,e){const i=Hh[e];(!i||i[s.key]!==s)&&Zn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),mx(s),delete i[s.key]}function Mx(s,e,i,a){let o=Hh[e.name];o||(o={},Hh[e.name]=o);let c=o[s.toURLString()];return c&&Zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new ox(s,Ax,i,a),o[s.toURLString()]=c,c}class Ix{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ux(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jn(this._repo,Te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xx(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zn("Cannot call "+e+" on a deleted database.")}}function Dx(s=kv(),e){const i=Jh(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=IC("database");a&&kx(i,...a)}return i}function kx(s,e,i,a={}){s=sn(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&os(a,c.repoInfo_.emulatorOptions))return;Zn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(c.repoInfo_.nodeAdmin)a.mockUserToken&&Zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Fo(Fo.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:DC(a.mockUserToken,s.app.options.projectId);h=new Fo(d)}wr(e)&&(Av(e),Nv("Database",!0)),Nx(c,o,a,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(s){bA(Ar),_r(new us("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return Ox(a,o,c,i)},"PUBLIC").setMultipleInstances(!0)),Mi(by,Sy,s),Mi(by,Sy,"esm2020")}Kn.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Kn.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};Lx();const Ux={apiKey:"AIzaSyB_1N69kKg7bRAPfXdaV8tHFd61MIj9Ow0",authDomain:"earth-78eb1.firebaseapp.com",databaseURL:"https://earth-78eb1-default-rtdb.firebaseio.com",projectId:"earth-78eb1",storageBucket:"earth-78eb1.appspot.com",messagingSenderId:"880285179392",appId:"1:880285179392:web:224448a8e9ea3be5c3c2e5",measurementId:"G-SKFPXL4REP"},O0=Dv(Ux),Mu=vA(O0),tv=Dx(O0),Px=()=>{const[s,e]=I.useState(""),[i,a]=I.useState(null),[o,c]=I.useState(""),h=jh(),d=async()=>{if(c(""),!s.trim()){c("Username is required");return}const m=`${s.toLowerCase()}@earth.com`,v="12345678";try{await rR(Mu,m,v),h("/word")}catch(b){b.code==="auth/email-already-in-use"?(a("invalid"),c("Username already taken")):c(" "+b.message)}},p=m=>{e(m.target.value),a(null),c("")};return F.jsxs("div",{className:"w-full h-dvh bg-black bg-center bg-cover flex items-center justify-center relative",style:{backgroundImage:"url('/bg.png')"},children:[F.jsx("div",{className:"absolute inset-0 bg-black/70"}),F.jsxs("div",{className:"relative z-10 p-10 rounded-2xl shadow-2xl w-96 bg-white/10 backdrop-blur-lg border border-white/20",children:[F.jsx("h2",{className:"text-2xl font-bold text-white text-center drop-shadow-md",children:"Create an Username"}),F.jsxs("p",{className:"text-gray-300 text-center text-sm mt-2",children:["Sign up to explore the ",F.jsx("span",{className:"text-green-400",children:"Earth`s Interior"})]}),F.jsxs("div",{className:"relative mt-8",children:[F.jsx("input",{value:s,onChange:p,className:`w-full px-4 py-3 rounded-full text-white placeholder-gray-400 bg-black/40 border focus:outline-none text-center transition ${i==="invalid"?"border-red-500":i==="valid"?"border-green-500":"border-gray-400"}`,type:"text",placeholder:"Choose a username"}),i==="invalid"&&F.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-red-500 text-lg",children:""}),i==="valid"&&F.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-green-500 text-lg",children:""})]}),o&&F.jsx("p",{className:"text-red-400 text-sm mt-3 text-center",children:o}),F.jsx("button",{onClick:d,className:"mt-8 w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-full shadow-lg transition transform hover:scale-105",children:"Sign Up"}),F.jsxs("p",{className:"text-center text-gray-300 text-sm mt-6",children:["Already have a username?"," ",F.jsx(Tr,{to:"/homeSign",className:"text-green-400 hover:underline font-medium",children:"Login"})]})]})]})},zx=()=>{const[s,e]=I.useState("");return I.useEffect(()=>{const i=Mu.currentUser;if(i){const a=i.email.replace("@earth.com","");e(a)}},[]),F.jsx("div",{className:"flex items-center justify-center h-screen bg-black",children:F.jsxs("h1",{className:"text-3xl text-green-400 font-bold",children:["Hi, ",s||"Guest"]})})},Hx=()=>{const[s,e]=I.useState(""),[i,a]=I.useState(""),o=jh(),c=async()=>{if(a(""),!s.trim()){a("Username is required");return}const h=`${s.toLowerCase()}@earth.com`,d="12345678";try{await aR(Mu,h,d),o("/word")}catch{a("Invalid username")}};return F.jsxs("div",{className:"w-full h-dvh bg-black bg-center bg-cover flex items-center justify-center relative",style:{backgroundImage:"url('/bg.png')"},children:[F.jsx("div",{className:"absolute inset-0 bg-black/70"}),F.jsxs("div",{className:"relative z-10 p-10 rounded-2xl shadow-2xl w-96 bg-white/10 backdrop-blur-lg border border-white/20",children:[F.jsx("h2",{className:"text-2xl font-bold text-white text-center drop-shadow-md",children:"Log In your Username"}),F.jsxs("p",{className:"text-gray-300 text-center text-sm mt-2",children:["Login to continue exploring the"," ",F.jsx("span",{className:"text-green-400",children:"Earth`s Interior"})]}),F.jsx("input",{value:s,onChange:h=>e(h.target.value),className:"w-full px-4 py-3 mt-8 rounded-full text-white placeholder-gray-400 bg-black/40 border border-gray-400 focus:outline-none text-center transition",type:"text",placeholder:"Enter your username"}),i&&F.jsx("p",{className:"text-red-400 text-sm mt-3 text-center",children:i}),F.jsx("button",{onClick:c,className:"mt-8 w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-full shadow-lg transition transform hover:scale-105",children:"Login"}),F.jsxs("p",{className:"text-center text-gray-300 text-sm mt-6",children:["Havent have a username?"," ",F.jsx(Tr,{to:"/home",className:"text-green-400 hover:underline font-medium",children:"Sign Up"})]})]})]})};var yl={};(function s(e,i,a,o){var c=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!e.OffscreenCanvas)return!1;var y=new OffscreenCanvas(1,1),E=y.getContext("2d");E.fillRect(0,0,1,1);var D=y.transferToImageBitmap();try{E.createPattern(D,"no-repeat")}catch{return!1}return!0})();function p(){}function m(y){var E=i.exports.Promise,D=E!==void 0?E:e.Promise;return typeof D=="function"?new D(y):(y(p,p),null)}var v=(function(y,E){return{transform:function(D){if(y)return D;if(E.has(D))return E.get(D);var L=new OffscreenCanvas(D.width,D.height),B=L.getContext("2d");return B.drawImage(D,0,0),E.set(D,L),L},clear:function(){E.clear()}}})(d,new Map),b=(function(){var y=Math.floor(16.666666666666668),E,D,L={},B=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(K){var V=Math.random();return L[V]=requestAnimationFrame(function Z(Q){B===Q||B+y-1<Q?(B=Q,delete L[V],K()):L[V]=requestAnimationFrame(Z)}),V},D=function(K){L[K]&&cancelAnimationFrame(L[K])}):(E=function(K){return setTimeout(K,y)},D=function(K){return clearTimeout(K)}),{frame:E,cancel:D}})(),S=(function(){var y,E,D={};function L(B){function K(V,Z){B.postMessage({options:V||{},callback:Z})}B.init=function(Z){var Q=Z.transferControlToOffscreen();B.postMessage({canvas:Q},[Q])},B.fire=function(Z,Q,ue){if(E)return K(Z,null),E;var Pe=Math.random().toString(36).slice(2);return E=m(function(Ae){function ze(et){et.data.callback===Pe&&(delete D[Pe],B.removeEventListener("message",ze),E=null,v.clear(),ue(),Ae())}B.addEventListener("message",ze),K(Z,Pe),D[Pe]=ze.bind(null,{data:{callback:Pe}})}),E},B.reset=function(){B.postMessage({reset:!0});for(var Z in D)D[Z](),delete D[Z]}}return function(){if(y)return y;if(!a&&c){var B=["var CONFETTI, SIZE = {}, module = {};","("+s.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{y=new Worker(URL.createObjectURL(new Blob([B])))}catch(K){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",K),null}L(y)}return y}})(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function U(y,E){return E?E(y):y}function j(y){return y!=null}function H(y,E,D){return U(y&&j(y[E])?y[E]:x[E],D)}function W(y){return y<0?0:Math.floor(y)}function Y(y,E){return Math.floor(Math.random()*(E-y))+y}function $(y){return parseInt(y,16)}function Ce(y){return y.map(re)}function re(y){var E=String(y).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:$(E.substring(0,2)),g:$(E.substring(2,4)),b:$(E.substring(4,6))}}function We(y){var E=H(y,"origin",Object);return E.x=H(E,"x",Number),E.y=H(E,"y",Number),E}function je(y){y.width=document.documentElement.clientWidth,y.height=document.documentElement.clientHeight}function Ye(y){var E=y.getBoundingClientRect();y.width=E.width,y.height=E.height}function Le(y){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=y,E}function mt(y,E,D,L,B,K,V,Z,Q){y.save(),y.translate(E,D),y.rotate(K),y.scale(L,B),y.arc(0,0,1,V,Z,Q),y.restore()}function oe(y){var E=y.angle*(Math.PI/180),D=y.spread*(Math.PI/180);return{x:y.x,y:y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:y.startVelocity*.5+Math.random()*y.startVelocity,angle2D:-E+(.5*D-Math.random()*D),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:y.color,shape:y.shape,tick:0,totalTicks:y.ticks,decay:y.decay,drift:y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:y.gravity*3,ovalScalar:.6,scalar:y.scalar,flat:y.flat}}function ae(y,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var D=E.tick++/E.totalTicks,L=E.x+E.random*E.tiltCos,B=E.y+E.random*E.tiltSin,K=E.wobbleX+E.random*E.tiltCos,V=E.wobbleY+E.random*E.tiltSin;if(y.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-D)+")",y.beginPath(),h&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))y.fill(G(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(K-L)*.1,Math.abs(V-B)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var Z=Math.PI/10*E.wobble,Q=Math.abs(K-L)*.1,ue=Math.abs(V-B)*.1,Pe=E.shape.bitmap.width*E.scalar,Ae=E.shape.bitmap.height*E.scalar,ze=new DOMMatrix([Math.cos(Z)*Q,Math.sin(Z)*Q,-Math.sin(Z)*ue,Math.cos(Z)*ue,E.x,E.y]);ze.multiplySelf(new DOMMatrix(E.shape.matrix));var et=y.createPattern(v.transform(E.shape.bitmap),"no-repeat");et.setTransform(ze),y.globalAlpha=1-D,y.fillStyle=et,y.fillRect(E.x-Pe/2,E.y-Ae/2,Pe,Ae),y.globalAlpha=1}else if(E.shape==="circle")y.ellipse?y.ellipse(E.x,E.y,Math.abs(K-L)*E.ovalScalar,Math.abs(V-B)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):mt(y,E.x,E.y,Math.abs(K-L)*E.ovalScalar,Math.abs(V-B)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var pe=Math.PI/2*3,bt=4*E.scalar,Pt=8*E.scalar,Qe=E.x,rn=E.y,mn=5,zt=Math.PI/mn;mn--;)Qe=E.x+Math.cos(pe)*Pt,rn=E.y+Math.sin(pe)*Pt,y.lineTo(Qe,rn),pe+=zt,Qe=E.x+Math.cos(pe)*bt,rn=E.y+Math.sin(pe)*bt,y.lineTo(Qe,rn),pe+=zt;else y.moveTo(Math.floor(E.x),Math.floor(E.y)),y.lineTo(Math.floor(E.wobbleX),Math.floor(B)),y.lineTo(Math.floor(K),Math.floor(V)),y.lineTo(Math.floor(L),Math.floor(E.wobbleY));return y.closePath(),y.fill(),E.tick<E.totalTicks}function Ve(y,E,D,L,B){var K=E.slice(),V=y.getContext("2d"),Z,Q,ue=m(function(Pe){function Ae(){Z=Q=null,V.clearRect(0,0,L.width,L.height),v.clear(),B(),Pe()}function ze(){a&&!(L.width===o.width&&L.height===o.height)&&(L.width=y.width=o.width,L.height=y.height=o.height),!L.width&&!L.height&&(D(y),L.width=y.width,L.height=y.height),V.clearRect(0,0,L.width,L.height),K=K.filter(function(et){return ae(V,et)}),K.length?Z=b.frame(ze):Ae()}Z=b.frame(ze),Q=Ae});return{addFettis:function(Pe){return K=K.concat(Pe),ue},canvas:y,promise:ue,reset:function(){Z&&b.cancel(Z),Q&&Q()}}}function ve(y,E){var D=!y,L=!!H(E||{},"resize"),B=!1,K=H(E,"disableForReducedMotion",Boolean),V=c&&!!H(E||{},"useWorker"),Z=V?S():null,Q=D?je:Ye,ue=y&&Z?!!y.__confetti_initialized:!1,Pe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ae;function ze(pe,bt,Pt){for(var Qe=H(pe,"particleCount",W),rn=H(pe,"angle",Number),mn=H(pe,"spread",Number),zt=H(pe,"startVelocity",Number),Es=H(pe,"decay",Number),Iu=H(pe,"gravity",Number),vl=H(pe,"drift",Number),El=H(pe,"colors",Ce),Du=H(pe,"ticks",Number),ei=H(pe,"shapes"),Rt=H(pe,"scalar"),gn=!!H(pe,"flat"),St=We(pe),bl=Qe,Ir=[],ku=y.width*St.x,bs=y.height*St.y;bl--;)Ir.push(oe({x:ku,y:bs,angle:rn,spread:mn,startVelocity:zt,color:El[bl%El.length],shape:ei[Y(0,ei.length)],ticks:Du,decay:Es,gravity:Iu,drift:vl,scalar:Rt,flat:gn}));return Ae?Ae.addFettis(Ir):(Ae=Ve(y,Ir,Q,bt,Pt),Ae.promise)}function et(pe){var bt=K||H(pe,"disableForReducedMotion",Boolean),Pt=H(pe,"zIndex",Number);if(bt&&Pe)return m(function(zt){zt()});D&&Ae?y=Ae.canvas:D&&!y&&(y=Le(Pt),document.body.appendChild(y)),L&&!ue&&Q(y);var Qe={width:y.width,height:y.height};Z&&!ue&&Z.init(y),ue=!0,Z&&(y.__confetti_initialized=!0);function rn(){if(Z){var zt={getBoundingClientRect:function(){if(!D)return y.getBoundingClientRect()}};Q(zt),Z.postMessage({resize:{width:zt.width,height:zt.height}});return}Qe.width=Qe.height=null}function mn(){Ae=null,L&&(B=!1,e.removeEventListener("resize",rn)),D&&y&&(document.body.contains(y)&&document.body.removeChild(y),y=null,ue=!1)}return L&&!B&&(B=!0,e.addEventListener("resize",rn,!1)),Z?Z.fire(pe,Qe,mn):ze(pe,Qe,mn)}return et.reset=function(){Z&&Z.reset(),Ae&&Ae.reset()},et}var we;function M(){return we||(we=ve(null,{useWorker:!0,resize:!0})),we}function G(y,E,D,L,B,K,V){var Z=new Path2D(y),Q=new Path2D;Q.addPath(Z,new DOMMatrix(E));var ue=new Path2D;return ue.addPath(Q,new DOMMatrix([Math.cos(V)*B,Math.sin(V)*B,-Math.sin(V)*K,Math.cos(V)*K,D,L])),ue}function ee(y){if(!h)throw new Error("path confetti are not supported in this browser");var E,D;typeof y=="string"?E=y:(E=y.path,D=y.matrix);var L=new Path2D(E),B=document.createElement("canvas"),K=B.getContext("2d");if(!D){for(var V=1e3,Z=V,Q=V,ue=0,Pe=0,Ae,ze,et=0;et<V;et+=2)for(var pe=0;pe<V;pe+=2)K.isPointInPath(L,et,pe,"nonzero")&&(Z=Math.min(Z,et),Q=Math.min(Q,pe),ue=Math.max(ue,et),Pe=Math.max(Pe,pe));Ae=ue-Z,ze=Pe-Q;var bt=10,Pt=Math.min(bt/Ae,bt/ze);D=[Pt,0,0,Pt,-Math.round(Ae/2+Z)*Pt,-Math.round(ze/2+Q)*Pt]}return{type:"path",path:E,matrix:D}}function be(y){var E,D=1,L="#000000",B='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof y=="string"?E=y:(E=y.text,D="scalar"in y?y.scalar:D,B="fontFamily"in y?y.fontFamily:B,L="color"in y?y.color:L);var K=10*D,V=""+K+"px "+B,Z=new OffscreenCanvas(K,K),Q=Z.getContext("2d");Q.font=V;var ue=Q.measureText(E),Pe=Math.ceil(ue.actualBoundingBoxRight+ue.actualBoundingBoxLeft),Ae=Math.ceil(ue.actualBoundingBoxAscent+ue.actualBoundingBoxDescent),ze=2,et=ue.actualBoundingBoxLeft+ze,pe=ue.actualBoundingBoxAscent+ze;Pe+=ze+ze,Ae+=ze+ze,Z=new OffscreenCanvas(Pe,Ae),Q=Z.getContext("2d"),Q.font=V,Q.fillStyle=L,Q.fillText(E,et,pe);var bt=1/D;return{type:"bitmap",bitmap:Z.transferToImageBitmap(),matrix:[bt,0,0,bt,-Pe*bt/2,-Ae*bt/2]}}i.exports=function(){return M().apply(this,arguments)},i.exports.reset=function(){M().reset()},i.exports.create=ve,i.exports.shapeFromPath=ee,i.exports.shapeFromText=be})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),yl,!1);const mh=yl.exports;yl.exports.create;const Ho=[["N","O","R","R","V"],["D","P","E","Q","U"],["E","M","P","S","T"],["A","K","T","J","L"],["D","R","I","F","T"],["S","E","L","G","I"],["O","D","E","F","H"],["R","A","S","B","C"]],nv=["DRIFT","REPTILES","DEAD"],iv=["bg-red-400","bg-green-400","bg-blue-400","bg-yellow-400","bg-purple-400","bg-pink-400","bg-orange-400"];function Bx(){const[s,e]=I.useState([]),[i,a]=I.useState(""),[o,c]=I.useState([]),[h,d]=I.useState([]),[p,m]=I.useState(!1),[v,b]=I.useState(""),[S,x]=I.useState(0),[U,j]=I.useState(!1),[H,W]=I.useState(null),[Y,$]=I.useState(!1);I.useEffect(()=>{const oe=Mu.onAuthStateChanged(ae=>{if(ae){const ve=ae.email.split("@")[0];b(ve);const we=ev(tv,`users/${ve}/word/score`);wx(we).then(M=>{M.exists()&&x(M.val())}),$(!0),Ce()}});return()=>oe()},[]);const Ce=()=>{const oe=Date.now()+1500;(function ae(){mh({particleCount:5,angle:60,spread:55,origin:{x:0},shapes:["star"]}),mh({particleCount:5,angle:120,spread:55,origin:{x:1},shapes:["star"]}),Date.now()<oe&&requestAnimationFrame(ae)})()},re=()=>{if(!v)return;const oe=S+1;x(oe);const ae=ev(tv,`users/${v}/word`);Cx(ae,{score:oe})},We=(oe,ae)=>{if(oe.length<2)return!0;const[Ve,ve]=oe[0],[we,M]=oe[1],[G,ee]=ae,be=we-Ve,y=M-ve,E=G-we,D=ee-M,L=(Q,ue)=>(Q!==0&&(Q=Q/Math.abs(Q)),ue!==0&&(ue=ue/Math.abs(ue)),[Q,ue]),[B,K]=L(be,y),[V,Z]=L(E,D);return B===V&&K===Z},je=(oe,ae)=>{m(!0),e([[oe,ae]]),a(Ho[oe][ae])},Ye=(oe,ae)=>{if(!p)return;const Ve=[oe,ae];s.some(([ve,we])=>ve===oe&&we===ae)||s.length>=2&&!We(s,Ve)||(e(ve=>[...ve,Ve]),a(ve=>ve+Ho[oe][ae]))},Le=()=>{if(m(!1),!!i){if(nv.includes(i)&&!o.some(oe=>oe.word===i)){const oe=iv[o.length%iv.length],ae=[...o,{word:i,cells:s,color:oe}];c(ae),re(),W(i),setTimeout(()=>W(null),2e3),ae.length===nv.length&&(mh({particleCount:200,spread:100,origin:{y:.6}}),setTimeout(()=>j(!0),400))}else d(s),setTimeout(()=>d([]),600);e([]),a("")}},mt=(oe,ae)=>{if(h.some(([Ve,ve])=>Ve===oe&&ve===ae))return"bg-red-600";if(s.some(([Ve,ve])=>Ve===oe&&ve===ae))return"bg-emerald-600";for(let Ve of o)if(Ve.cells.some(([ve,we])=>ve===oe&&we===ae))return Ve.color;return"bg-black/50 border border-white/20"};return F.jsxs("div",{className:"w-full h-dvh bg-black bg-center bg-cover flex flex-col items-center justify-center relative text-white select-none p-4 sm:p-6",style:{backgroundImage:"url('/bg.png')"},onMouseUp:Le,onTouchEnd:Le,children:[Y&&F.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:F.jsxs("div",{className:"bg-white/10 backdrop-blur-md text-green-500 font-bold rounded-xl shadow-lg px-4 py-3 text-center w-fit mb-4 border border-white/30",children:[F.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-4",children:"Pre Test"}),F.jsx("p",{className:"text-base sm:text-lg font-semibold",children:"Get ready to start your word puzzle adventure!"}),F.jsx("button",{onClick:()=>$(!1),className:"mt-4 sm:mt-6 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl font-bold hover:scale-105 transition",children:"Start"})]})}),F.jsxs("div",{className:"absolute top-4 sm:top-6 right-4 sm:right-6 bg-white/10 px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl shadow-lg border border-white/20 font-bold text-yellow-300 text-base sm:text-lg",children:["Score: ",S," pts"]}),v&&F.jsxs("p",{className:"absolute top-4 sm:top-6 left-4 sm:left-6 text-gray-300 text-xl sm:text-xl font-semibold",children:["Welcome"," ",F.jsx("span",{className:"bg-white/10 text-green-500 px-2 sm:px-3 py-0.5 sm:py-1 rounded-3xl shadow-2xl border border-white/20",children:v})]}),F.jsxs("div",{className:"flex flex-col items-center",children:[F.jsxs("div",{className:"bg-white/10 backdrop-blur-md text-green-500 font-bold rounded-xl shadow-lg px-4 py-3 text-center w-full mb-4 border border-white/30",children:[F.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-extrabold drop-shadow",children:"Drill: Word Puzzle"}),F.jsxs("p",{className:"mt-1 text-xs sm:text-sm md:text-base font-medium text-green-500 leading-snug",children:["Direction: ",F.jsx("span",{className:"font-semibold",children:"Find and circle all the hidden words"})," ",F.jsx("br",{}),"Words may be placed ",F.jsx("span",{className:"font-semibold",children:"horizontally"})," or ",F.jsx("span",{className:"font-semibold",children:"vertically"}),"."]})]}),F.jsx("div",{className:"grid gap-1.5 sm:gap-2 bg-white/10 p-3 sm:p-4 rounded-2xl sm:rounded-3xl shadow-2xl border border-white/20",style:{gridTemplateColumns:`repeat(${Ho[0].length}, minmax(2.2rem, 3rem))`},children:Ho.map((oe,ae)=>oe.map((Ve,ve)=>F.jsx("div",{onMouseDown:()=>je(ae,ve),onMouseEnter:()=>Ye(ae,ve),onTouchStart:()=>je(ae,ve),onTouchMove:we=>{const M=we.touches[0],G=document.elementFromPoint(M.clientX,M.clientY);if(G&&G.dataset.cell){const[ee,be]=G.dataset.cell.split("-").map(Number);Ye(ee,be)}},"data-cell":`${ae}-${ve}`,className:`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 flex items-center justify-center text-base sm:text-lg md:text-xl font-extrabold rounded-xl cursor-pointer transition-transform duration-200 transform hover:scale-110 shadow-lg ${mt(ae,ve)}`,children:Ve},`${ae}-${ve}`)))})]}),H&&F.jsxs("div",{className:"fixed top-1/4 bg-green-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-2xl shadow-2xl text-lg sm:text-xl font-bold animate-bounce z-50",children:["Found: ",H,"!"]}),U&&F.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:F.jsxs("div",{className:"bg-black text-black rounded-2xl sm:rounded-3xl shadow-2xl p-6 sm:p-8 text-center max-w-sm border border-gray-400",children:[F.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-green-600 mb-3 sm:mb-4",children:"Congratulations!"}),F.jsx("p",{className:"text-base sm:text-lg text-white font-semibold",children:"You found all the words!"}),F.jsx(Tr,{to:"/earth",children:F.jsx("button",{onClick:()=>j(!1),className:"mt-4 sm:mt-6 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl font-bold hover:scale-105 transition",children:"Close"})})]})})]})}const qx=()=>F.jsx("div",{children:F.jsx(hC,{children:F.jsxs(VT,{children:[F.jsx(or,{path:"/",element:F.jsx(SC,{})}),F.jsx(or,{path:"/home",element:F.jsx(Px,{})}),F.jsx(or,{path:"/homeSign",element:F.jsx(Hx,{})}),F.jsx(or,{path:"/earth",element:F.jsx(zx,{})}),F.jsx(or,{path:"/word",element:F.jsx(Bx,{})})]})})});JS.createRoot(document.getElementById("root")).render(F.jsx(I.StrictMode,{children:F.jsx(qx,{})}))});export default jx();
